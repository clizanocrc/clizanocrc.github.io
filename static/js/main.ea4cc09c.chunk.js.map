{"version":3,"sources":["reducers/appReducer.tsx","context/AppContext.tsx","api/AppApi.tsx","reducers/authReducer.tsx","reducers/messagesReducer.tsx","context/MessagesContext.tsx","context/AuthContext.tsx","reducers/calendarReducer.tsx","helpers/diasDif.tsx","context/CalendarContext.tsx","reducers/clienteReducer.tsx","context/ClienteContext.tsx","reducers/inventarioReducer.tsx","reducers/productoReducer.tsx","context/ProductoContext.tsx","reducers/visitaReducer.tsx","context/VisitaContext.tsx","context/InventarioContext.tsx","reducers/masterDataReducer.tsx","components/ui/messagesUI.tsx","context/MasterDataContext.tsx","reducers/socketReducer.tsx","context/SocketContext.tsx","hooks/useSocket.ts","assets/logo1.png","components/ui/atom/FormControls.tsx","pages/auth/LoginPage.tsx","router/AuthRouter.tsx","components/ui/atom/MenuItem.tsx","assets/defaultUser.png","components/ui/atom/MenuItemPerfil.tsx","components/NavbarMain.tsx","components/ui/atom/Spiner.tsx","components/ui/atom/SpinerModal.tsx","components/menu/PanelVacio.tsx","components/menu/PanelNotificaciones.tsx","components/menu/PanelParametros.tsx","assets/instagram.png","components/ui/atom/Spacer.tsx","components/sockets/UsuarioOnLineItem.tsx","pages/admin/UsuariosOnline.tsx","components/menu/PanelHome.tsx","assets/FB.png","components/menu/PanelCalendario.tsx","components/menu/PanelClientes.tsx","components/menu/PanelVisitas.tsx","components/menu/PanelInventario.tsx","components/menu/PanelRutas.tsx","components/menu/PanelVademecum.tsx","components/menu/ConstruyeMenu.tsx","components/NavbarLeft.tsx","assets/portadas/noimagen.jpg","components/ui/atom/ImgPortada.tsx","components/ui/atom/TitlePage.tsx","pages/calendario/CalendarioPortada.tsx","components/chat/NuevosMensajesFab.tsx","pages/general/PrincipalPage.tsx","helpers/file-upload.styles.tsx","helpers/fileUpload.js","hooks/useForm.ts","pages/usuarios/PerfilPage.tsx","pages/admin/AdminScreen.tsx","pages/clientes/ClientesScreen.tsx","pages/rutas/RutasScreen.tsx","components/tablas/usuarios/TableUsuarios.tsx","pages/usuarios/UsuariosScreen.tsx","pages/visitas/VisitasScreen.tsx","pages/inventario/InventarioScreen.tsx","pages/usuarios/UsuariosAddScreen.tsx","components/tablas/geo/TablePaises.tsx","pages/geo/PaisScreen.tsx","components/tablas/geo/TableProvincias.tsx","pages/geo/ProvinciaScreen.tsx","components/tablas/geo/TableCanton.tsx","pages/geo/CantonScreen.tsx","components/tablas/geo/TableDistrito.tsx","pages/geo/DistritoScreen.tsx","components/tablas/geo/TableBarrio.tsx","pages/geo/BarrioScreen.tsx","pages/geo/GeoScreen.tsx","components/tablas/params/TableParametros.tsx","components/tablas/params/TableValores.tsx","pages/admin/ParamsScreen.tsx","components/tablas/params/TableCaracteristicas.tsx","pages/admin/CaracteristicasScreen.tsx","helpers/calendar-messages-es.tsx","pages/calendario/CalendarEvent.tsx","components/AddNewFab.tsx","helpers/eventsFilter.tsx","components/calendar/EventCard.tsx","pages/calendario/EventsPageCol.tsx","pages/calendario/CalendarioScreen.tsx","helpers/file_Download.ts","components/tablas/calendario/TableEventos.tsx","hooks/useParams..ts","hooks/useVisitadorPais.ts","components/calendar/AgendasFilterOptions.tsx","pages/calendario/CalendarioAgendas.tsx","pages/calendario/CalendarioEventos.tsx","components/clientes/ClientesActivosFilter.tsx","components/tablas/clientes/TableClientesActivos.tsx","pages/clientes/ClientesActivosScreen.tsx","components/clientes/ClientesInactivosFilter.tsx","components/tablas/clientes/TableClientesInactivos.tsx","pages/clientes/ClientesInactivosScreen.tsx","hooks/useMap.ts","components/clientes/ClientesActivosMapFilter.tsx","components/mapa/MapContainerRutes.tsx","pages/clientes/ClientesMapeoScreen.tsx","components/tablas/visitas/TableVisitas.tsx","components/visitas/VisitasFilterOptions.tsx","pages/visitas/VisitasHistoricoScreen.tsx","pages/vedemecum/VademecumScreen.tsx","components/productos/ImgProductoAjust.tsx","components/productos/ProductoItem.tsx","components/productos/ProductosListAll.tsx","pages/vedemecum/VademecumAllScreen.tsx","components/tablas/params/TableTipoCaracteristica.tsx","pages/admin/CaracteristicasTiposScreen.tsx","pages/calendario/CalendarModal.tsx","components/inventario/InventarioDetalleItemAdd.tsx","components/inventario/InventarioDetalleAdd.tsx","components/miselaneos/Separacion.tsx","components/inventario/InventarioAdd.tsx","pages/inventario/InventarioAddScreen.tsx","pages/inventario/InventarioTransaccionesScreen.tsx","pages/bi/reports.ts","pages/bi/EnvededReportBIMax.tsx","pages/rutas/RutasConsulta.tsx","components/productos/ItemCategoria.tsx","components/productos/CategoriasList.tsx","components/productos/ProductosList.tsx","pages/vedemecum/VadeScreen.tsx","pages/inventario/InventarioSaldosScreen.tsx","components/mapa/MapContainer.tsx","pages/clientes/ClienteScreen.tsx","components/visitas/MapVisitaContainer.tsx","components/inventario/TransaccionScreen.tsx","pages/visitas/VisitaScreen.tsx","components/inventario/LoteModal.tsx","components/inventario/InventarioDetalleItem.tsx","pages/inventario/InventarioTransaccionScreen.tsx","pages/bi/EnvededReportBI.tsx","pages/bi/MaximizeReportBI.tsx","components/ui/atom/ProcesingModal.tsx","router/DashboardRoutes.tsx","router/PublicRouter.tsx","router/PrivateRouter.tsx","components/miselaneos/UsuarioVerify.tsx","router/AppRouter.tsx","App.tsx","index.tsx"],"names":["appReducer","state","action","type","drawerActive","isConected","payload","typeConnection","isProcesing","updateSaldos","isLoadingCalendar","isLoadingLoteAdd","isLoadingProcesing","appInitialState","AppContext","createContext","AppProvider","children","useReducer","dispatch","Provider","value","activeDrawerTrue","activeDrawerFalse","setIsConected","isconected","setTypeConection","procesingTrue","procesingFalse","toogleUpdateSaldos","showModalLoadingCalendar","hideModalLoadingCalendar","showLoteAdd","hideLoteAdd","showProcesing","hideProcesing","AppApi","axios","create","baseURL","interceptors","request","use","config","a","localStorage","getItem","token","headers","authReducer","status","user","errorMessage","tmpImage","messagesReducer","notificationMessage","initialState","MessagesContext","MessagesProvider","registraError","title","msg","prugaError","registraNotification","prugaNotification","AuthContext","AuthProvider","useContext","useEffect","checkToken","get","resp","setItem","data","usuario","singIn","correo","password","post","response","errors","singUp","nombre","rePassword","pais","rol","logOut","removeItem","updateUser","put","uid","removeError","loadingAutenticate","addImgTmp","path","removeImgTmp","nivelBoos","nivelAdmin","nivelSuperAdmin","calendarReducer","eventos","eventoSeleccionado","diaSeleccionado","eventosSeleccionados","eventosToDay","eventosProximos","eventosFilter","eventosIndexFilter","fechaDiff","moment","set","hour","minute","second","millisecond","year","fechaOrigen","currentDate","date","diff","createCalendarDate","start","horas","minutos","format","toString","CalendarContext","CalendarProvider","cargaEventos","eventosDay","eventosFututos","selecEvento","cargaEventosUsuario","ok","dia","fechaEval","toMs","eventosTem","filter","event","end","dateStr","split","month","day","Date","getTime","evento","addEvento","dataAdd","startDate","endDate","dataSend","cliente","notes","tipo","editEvento","id","dataEdit","editEstadoEvento","estado","deleteEvento","activo","cargaDataFilter","inicio","fin","max","seleccionaDia","purgaEventoSelecciondo","purgaDataFilter","setDataFilterIndex","index","clearDataFilterIndex","clienteReducer","clientes","clienteSeleccionado","idClienteSeleccionado","map","e","_id","dataFiltros","clientesFiltrados","indexClienteSeleccionado","mapPointers","ClienteContext","ClienteProvider","cargaClientes","cargaClientesFiltrado","length","results","crearCliente","dataClean","visitador","updateCliente","seleccionaCliente","purgaClienteSeleccionado","addFiltrosCliente","filtros","clearFiltrosCliente","cargaClientesFiltrados","purgaClientesFiltrados","seleccionaIndexCliente","clearIndexCliente","cargaMapPointers","purgaMapPointers","inventarioReducer","transacciones","transaccionSeleccionada","lotes","loteSeleccionado","productoSaldo","productoSaldoMM","productosTransaccion","productoscliente","productoReducer","productos","productoseleccionado","idproductoseleccionado","idcategoriaseleccionada","ProductoContext","ProductoProvider","cargaProductos","crearProducto","Producto","updateProducto","producto","seleccionaProducto","purgaProductoSeleccionado","seleccionaCategoria","categoria","purgaCategoria","VisitaReducer","visitas","visitasDay","visitaSeleccionada","idVisitaSeleccionada","visitasFiltradas","visitasFilter","visitasIndexFilter","VisitaContext","VisitaProvider","cargaVisitas","cargaVisitasFiltrado","visitasTmp","visita","fecha","crearVisita","signo","anotaciones","detalle","transaccionInv","prugaProductoTransaccion","updateVisita","addFiltrosVisita","addProductoTransaccion","clearFiltrosVisita","deleteProductoTransaccion","purgaVisitaSeleccionado","seleccionaVisita","selecVisita","InventarioContext","InventarioProvider","stateApp","actualizaInventarios","forEach","lotesProducto","lote","saldo","loteId","vence","lotevence","usuarioPropietario","original","cargaDataInventario","Promise","all","dataTransacciones","dataLotes","purgaSaldos","visitasTem","transaccion","transactTem","detail","push","cantidad","cargaProductosCliente","crearTransaccionSalida","crearTransaccionEntrada","aplicacion","console","log","addLote","seleccionaTransaccion","masterDataReducer","caracteristicasTipo","caracteristricas","paises","provincias","cantones","distritos","barrios","param","params","paramNewData","paramNewDataValores","paisesNewData","provinciasNewData","cantonesNewData","distritosNewData","barriosNewData","caracteristicasTipoNewData","caracteristricasNewData","viewErrors","errores","error","Swal","fire","exitoFire","texto","time","position","icon","showConfirmButton","timer","imageUrl","imageWidth","imageHeight","errorSimpleFire","confirmDeleteFire","titulo","showDenyButton","confirmButtonText","denyButtonText","then","result","isConfirmed","resultado","isDenied","confirmUpdateFire","confirmCrearFire","MasterDataContext","MasterDataProvider","cargaMasterData","actualizaParam","paramNuevo","valor","actualizaParamValores","crearPais","actualizaPais","paisNuevo","codigo","gpsLat","gpsLong","crearProvincia","actualizaProvincia","provinciaNuevo","crearCanton","actualizaCanton","cantonNuevo","provincia","crearDistrito","actualizaDistrito","distritoNuevo","canton","crearBarrios","actualizaBarrios","barrioNuevo","distrito","crearTipoCaracteristica","actualizaTipoCaracteristica","caracteristicasTipoNueno","crearCaracteristica","actualizaCaracteristica","caracteristicasNuevo","cargaParamNewData","cargaParamNewDataValores","limpiaParamsNewData","limpiaParamsNewDataValores","cargaPaisesNewData","limpiaPaisNewData","cargaProvinciasNewData","limpiaProvinciaNewData","cargaCantonesNewData","limpiaCantonNewData","cargaDistritosNewData","limpiaDistritoNewData","cargaBarriosNewData","limpiaBarriosNewData","cargaTipoCaracteristicaNewData","limpiaTipoCaracteristicaNewData","cargaCaracteristicaNewData","limpiaCaracteristicaNewData","socketReducer","usuarios","usuariosOnLine","usuariosNewData","chat","chatActivo","chatNoLeido","notificacionesEnviadas","notificacionesRecibidas","notificacionActiva","usuariosSeleccionados","usuariosDisponibles","total","SocketContext","SocketProvider","serverPath","useState","socket","setSocket","onLine","setOnLine","conectarSocket","useCallback","socketTemp","io","transports","autoConnect","forceNew","query","desconectarSocket","disconnect","connected","on","useSocket","UsuariosOnLine","registraUsuariosOnline","Usuarios","registraUsuarios","miId","mensajesDe","emit","cargarChat","mensaje","leidoChat","mensajes","chatSinLeer","updateNotiSelected","notificacion","purgaAllDestinatarios","setDisponibles","notifi","actualizaUsuario","usuarioNuevo","eliminaUsuario","usuarioDelete","crearUsuario","activaChat","enviarMensaje","chatLeido","activaNotifi","selecDestinatario","noSelecDestinatario","selecAllDestinatarios","addDisponible","delDisponible","purgDisponible","sedNotifications","seleccionados","para","de","fechaenviado","notiLeida","cargaUsuariosNewData","limpiaUsuariosNewData","LogoEmm","src","logo","alt","width","height","ExternalLink","url","img","label","Link","className","target","href","Divider","TextControlArea","name","callBack","rows","placeholder","onChange","TextControl","TextControlNum","style","TextControlNum2","TextControlNumCol","TextControlEmail","TextControlPass","TextControlView","alignItems","textAlign","disabled","RoleControlSelect","RoleControlTable","onBlur","SelectItemTable","item","SelectItem","SelectLote","SelectVisitador","SelectItemTabla2","SelectDateddMMyyyy","selected","dateFormat","SelectPais","SelectPaisTable","SelectProvincia","SelectProvinciaTable","SelectCanton","SelectCantonTable","SelectDistrito","SelectDistritoTable","SelectBarrio","BtnExit","onClick","BtnTypeEnter","color","BtnTypeEnterCallBack","BtnTypeEnterInvert","MapStyleControlSelect","LoginPage","rememberme","form","setForm","onSubmit","ev","preventDefault","checked","readOnly","AuthRouter","exact","component","to","MenuItem","route","caption","flexDirection","justifyContent","activeClassName","MenuItemPerfil","history","useHistory","images","defaultUser","objectFit","borderRadius","marginTop","marginBottom","marginRight","replace","NavbarMain","justifyItems","Spiner","visible","customStyles","content","top","left","right","bottom","transform","Modal","setAppElement","SpinerModal","isOpen","closeTimeoutMS","overlayClassName","display","PanelVacio","PanelNotificaciones","etiquetaHome","PanelParametros","SpacerHorizontal","UsuarioOnLineItem","msgSinLeer","setMsgSinLeer","seleccionado","noLeidos","conectado","coloronLine","colorMsgSinLeer","handleChat","backgroundColor","substring","cursor","UsuariosOnline","PanelHome","overflowY","imgInst","imgEMM","PanelCalendario","PanelClientes","PanelVisitas","PanelInventario","PanelRutas","PanelVademecum","ConstruyeMenu","option","NavbarLeft","ruta","location","pathname","ImgPortada","imagen","noimage","alignSelf","ImgPerfil","margin","TitlePage","fontFamily","CalendarioPortada","NuevosMensajesFab","textoToolChat","opacity","zIndex","PrincipalPage","FileUploadContainer","styled","section","FormField","input","InputLabel","DragDropText","p","UploadFileBtn","button","FilePreviewContainer","article","PreviewList","FileMetaData","div","props","isImageFile","RemoveFileIcon","i","PreviewContainer","ImagePreview","FileUpload","updateFilesCb","maxFileSizeInBytes","otherProps","fileInputField","useRef","files","setFiles","callUpdateFilesCb","nestedObj","filesAsArray","Object","keys","key","current","click","multiple","ref","newFiles","updatedFiles","file","size","addNewFiles","fileName","bytes","URL","createObjectURL","Math","round","removeFile","useForm","initForm","setState","field","PerfilPage","imgChange","setImgChange","passChange","setPassChange","dataChange","setDataChange","dataPassChange","setDataPassChange","passActual","passNew","rePassNew","passValues","onChangePass","handlePerfilSave","handlePassChange","accept","AdminScreen","ClientesScreen","RutasScreen","TableUsuarios","columns","useMemo","Header","accessor","setData","skipPageReset","setSkipPageReset","Styles","updateMyData","rowIndex","columnId","old","row","Table","useTable","defaultColumn","autoResetPage","usePagination","getTableProps","getTableBodyProps","headerGroups","prepareRow","page","canPreviousPage","canNextPage","pageOptions","pageCount","gotoPage","nextPage","previousPage","setPageSize","pageIndex","pageSize","defaultValue","Number","borderWidth","borderColor","headerGroup","getHeaderGroupProps","column","getHeaderProps","render","getRowProps","cells","cell","getCellProps","Cell","initialValue","setValue","onChangeValue","UsuariosScreen","VisitasScreen","InventarioScreen","UsuariosAddScreen","handleAdd","TablePaises","dataFilter","PaisScreen","TableProvincias","setPais","datos","ProvinciaScreen","TableCanton","setProvincia","provinciasFilter","CantonScreen","TableDistrito","setCanton","cantonesFilter","cantone","DistritoScreen","changePais","TableBarrio","setDistrito","barrio","distritosFilter","BarrioScreen","GeoScreen","setEstado","hangleClick","SelectedScreen","TableParametros","parametro","substr","TableValores","ParamsScreen","TableCaracteristicas","setTipo","caracteristrica","CaracteristicasScreen","messages","allDay","previous","next","today","week","agenda","noEventsInRange","showMore","CalendarEvent","AddNewFab","eventsFuturos","eventsHoy","eventsPasados","DateColorEvent","diffDays","EventCard","borderStyle","EventsPageCol","locale","localizer","momentLocalizer","CalendarioScreen","lastView","setLastView","calendarSize","views","events","startAccessor","endAccessor","eventPropGetter","isSelected","onSelectEvent","onView","onSelectSlot","selectable","view","components","file_Download","csvContent","join","encodedUri","encodeURI","link","document","createElement","setAttribute","body","appendChild","removeAccents","str","normalize","file_Download_Clientes","especialidad","direccion","telefono1","telefono2","email","colegiado","secretaria","diasvisita","horavisita","grupocliente","zona","TableEventos","useParams","alertaDefault","setAlertaDefault","tipoVisitaDefault","setTipoVisitaDefault","noVistaDefault","setNoVistaDefault","tipoEventoDefault","setTipoEventoDefault","cliEstadoDefault","setCliEstadoDefault","correoSoporte","setCorreoSoporte","paisMatriz","setPaisMatriz","SetalertaDefault","SetTipoVisitaDefault","SetNoVisitaDefault","TipoEventoDefault","ClieEstadoDefault","CorreoSoporteDefault","PaisMatriz","alert","useVisitadorPais","visitadoresPais","idPaisMatriz","idPais","visitadoresTemp","visit","visitadores","visitadore","AgendasFilterOptions","startOf","toDate","endOf","file_Download_Eventos","CalendarioAgendas","CalendarioEventos","ClientesActivosFilter","clienteNombre","especialidades","espec","filtro","causabaja","includes","toUpperCase","TableClientesActivos","ClientesActivosScreen","clientesActivos","ClientesInactivosFilter","TableClientesInactivos","ClientesInactivosScreen","clientesInactivos","mapboxgl","accessToken","useMap","MapPointers","mapaDiv","setRef","node","mapa","zoom","setZoom","styleMap","setStyleMap","lngs","lats","point","lng","lat","long","min","lati","initCoords","toFixed","Map","container","mapStyle","center","description","el","pointer","backgroundImage","backgroundSize","Marker","setLngLat","addTo","setDraggable","setPopup","Popup","offset","setHTML","currentZoom","_zoom","handleSelectStyle","ClientesActivosMapFilter","undefined","barriosFilter","MapContainerRutes","ClientesMapeoScreen","TableVisitas","VisitasFilterOptions","gpsPresicion","alerta","novisita","file_Download_Visitas","VisitasHistoricoScreen","VademecumScreen","ImgBlogAjus","image","ProductoItem","composicion","posologia","indicaciones","ProductosListAll","VademecumAllScreen","TableCargaTipoCaracteristica","CaracteristicasTiposScreen","CalendarModal","userContext","clienteActivos","tipoCaracteristica","tipoCaract","tipoEventos","caracteristica","now","initEvent","enabledButtons","closeModal","handleSubmitForm","momentStart","momentEnd","isSameOrAfter","handleDelete","onRequestClose","InventarioDetalleItemAdd","detalleItem","nombreProducto","loteDescription","productoDB","loteDB","flex","fontSize","InventarioDetalleAdd","productosMuestras","onchangeCantidad","setFormCantidad","lotesSelect","Separacion","InventarioAdd","saveOrUpdate","InventarioAddScreen","InventarioTransaccionesScreen","transaccionesVisitador","defaultChecked","aplicado","descargado","reportsBI","report","EnvededReportBIMax","paisUsuario","reporte","mostrarReport","allowFullScreen","RutasConsulta","ItemCategoria","CategoriasList","items","ProductosList","productosFiltrados","VadeScreen","InventarioSaldosScreen","saldosProductos","MapContainer","ClienteScreen","observaciones","MapVisitaContainer","TransaccionScreen","idVisita","loteDesc","det","VisitaScreen","fechaVisita","LoteModal","initLote","usuariopropietario","InventarioDetalleItem","InventarioTransaccionScreen","EnvededReportBI","MaximizeReportBI","goBack","ProcesingModal","DashboardRoutes","PublicRouter","isAuthenticated","Component","rest","PrivateRouter","UsuarioVerify","marginLeft","AppRouter","exitoFireOK","updateLocale","months","monthsShort","weekdays","weekdaysShort","weekdaysMin","App","StateApp","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.ea4cc09c.chunk.js","sourcesContent":["import { AppState, appStateActions } from \"../context/AppContext\"\r\n\r\nexport const appReducer = (state: AppState, action: appStateActions): AppState => {\r\n\r\n    switch (action.type) {\r\n        case 'set_drawer_true':\r\n            return {\r\n                ...state,\r\n                drawerActive: true,\r\n            }\r\n        case 'set_drawer_false':\r\n            return {\r\n                ...state,\r\n                drawerActive: false,\r\n            }\r\n            case 'set_isconected':\r\n            return {\r\n                ...state,\r\n                isConected: action.payload,\r\n            }\r\n        case 'set_typeconection':\r\n            return {\r\n                ...state,\r\n                typeConnection: action.payload,\r\n            }\r\n        case 'set_procesing_true':\r\n            return {\r\n                ...state,\r\n                isProcesing: true,\r\n            }\r\n        case 'set_procesing_false':\r\n            return {\r\n                ...state,\r\n                isProcesing: false,\r\n            }\r\n        case 'toogle_update_saldos':\r\n            return {\r\n                ...state,\r\n                updateSaldos: !state.updateSaldos\r\n            }\r\n        case 'showLoadingCalendar':\r\n            return {\r\n                ...state,\r\n                isLoadingCalendar: true,\r\n            };\r\n        \r\n        case 'hideLoadingCalendar':\r\n        return {\r\n            ...state,\r\n            isLoadingCalendar: false,\r\n        };            \r\n        case 'showLoteAdd':\r\n            return {\r\n                ...state,\r\n                isLoadingLoteAdd: true,\r\n            };\r\n        \r\n        case 'hideLoteAdd':\r\n        return {\r\n            ...state,\r\n            isLoadingLoteAdd: false,\r\n        };            \r\n\r\n        case 'showProcesing':\r\n            return {\r\n                ...state,\r\n                isLoadingProcesing: true,\r\n            };\r\n        \r\n        case 'hideProcesing':\r\n        return {\r\n            ...state,\r\n            isLoadingProcesing: false,\r\n        }; \r\n\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import { createContext, useReducer } from \"react\";\r\nimport { appReducer } from \"../reducers/appReducer\";\r\n\r\nexport type appStateActions =\r\n    | { type: 'set_drawer_true' }\r\n    | { type: 'set_drawer_false' }\r\n    | { type: 'set_isconected', payload: boolean }\r\n    | { type: 'set_typeconection', payload: string }\r\n    | { type: 'set_procesing_true' }\r\n    | { type: 'set_procesing_false' }\r\n    | { type: 'toogle_update_saldos' }\r\n    | { type: 'showLoadingCalendar'}\r\n    | { type: 'hideLoadingCalendar'}\r\n    | { type: 'showLoteAdd'}\r\n    | { type: 'hideLoteAdd'}\r\n    | { type: 'showProcesing'}\r\n    | { type: 'hideProcesing'}\r\n\r\nexport interface AppState {\r\n    drawerActive: boolean;\r\n    isConected: boolean;\r\n    typeConnection: string | null;\r\n    isProcesing: boolean;\r\n    updateSaldos: boolean;\r\n    isLoadingCalendar: boolean;\r\n    isLoadingLoteAdd: boolean;\r\n    isLoadingProcesing: boolean;\r\n}\r\n\r\nexport const appInitialState: AppState = {\r\n    drawerActive: false,\r\n    isConected: false,\r\n    typeConnection: null,\r\n    isProcesing: false,\r\n    updateSaldos: true,\r\n    isLoadingCalendar : false,\r\n    isLoadingLoteAdd : false,\r\n    isLoadingProcesing : false,\r\n};\r\n\r\n\r\ninterface AppContextProps {\r\n    state: AppState;\r\n    activeDrawerTrue: () => void;\r\n    activeDrawerFalse: () => void;\r\n    setIsConected: (state: boolean) => void;\r\n    setTypeConection: (type: string) => void;\r\n    procesingTrue: () => void;\r\n    procesingFalse: () => void;\r\n    toogleUpdateSaldos: () => void;\r\n    showModalLoadingCalendar : () => void;\r\n    hideModalLoadingCalendar : () => void;\r\n    showLoteAdd : () => void;\r\n    hideLoteAdd : () => void;\r\n    showProcesing : () => void;\r\n    hideProcesing : () => void;                \r\n}\r\n\r\nexport const AppContext = createContext({} as AppContextProps)\r\nexport const AppProvider = ({ children }: any) => {\r\n\r\n    const [state, dispatch] = useReducer(appReducer, appInitialState)\r\n\r\n    // useEffect(() => {\r\n    //     const unsubscribe = NetInfo.addEventListener(state => {\r\n    //         if (state.isConnected) {\r\n    //             setIsConected(true)\r\n    //             setTypeConection(state.type)\r\n    //         } else {\r\n    //             setIsConected(false)\r\n    //             setTypeConection('')\r\n    //         }\r\n    //     });\r\n    //     return () => {\r\n    //         unsubscribe();\r\n    //     }\r\n    // }, [])\r\n\r\n    const toogleUpdateSaldos = () => {\r\n        dispatch({\r\n            type: 'toogle_update_saldos'\r\n        })\r\n    }\r\n\r\n    const activeDrawerTrue = () => {\r\n        dispatch({\r\n            type: 'set_drawer_true'\r\n        })\r\n    }\r\n    const activeDrawerFalse = () => {\r\n        dispatch({\r\n            type: 'set_drawer_false'\r\n        })\r\n    }\r\n    const procesingTrue = () => {\r\n        dispatch({\r\n            type: 'set_procesing_true'\r\n        })\r\n    }\r\n    const procesingFalse = () => {\r\n        dispatch({\r\n            type: 'set_procesing_false'\r\n        })\r\n    }\r\n    const setIsConected = (isconected: boolean) => {\r\n        dispatch({\r\n            type: 'set_isconected',\r\n            payload: isconected\r\n        })\r\n    }\r\n    const setTypeConection = (type: string) => {\r\n        dispatch({\r\n            type: 'set_typeconection',\r\n            payload: type\r\n        })\r\n    }\r\n    const showModalLoadingCalendar = () => {\r\n        dispatch({\r\n          type: 'showLoadingCalendar',\r\n        });\r\n      };\r\n      const hideModalLoadingCalendar = () => {\r\n        dispatch({\r\n          type: 'hideLoadingCalendar',\r\n        });\r\n      };\r\n\r\n      const showLoteAdd = () => {\r\n        dispatch({\r\n          type: 'showLoteAdd',\r\n        });\r\n      };\r\n      const hideLoteAdd = () => {\r\n        dispatch({\r\n          type: 'hideLoteAdd',\r\n        });\r\n      };\r\n\r\n      const showProcesing = () => {\r\n        dispatch({\r\n          type: 'showProcesing',\r\n        });\r\n      };\r\n      const hideProcesing = () => {\r\n        dispatch({\r\n          type: 'hideProcesing',\r\n        });\r\n      };      \r\n      \r\n      \r\n\r\n\r\n\r\n    return (\r\n        <AppContext.Provider value={{\r\n            state,\r\n            activeDrawerTrue,\r\n            activeDrawerFalse,\r\n            setIsConected,\r\n            setTypeConection,\r\n            procesingTrue,\r\n            procesingFalse,\r\n            toogleUpdateSaldos,\r\n            showModalLoadingCalendar,\r\n            hideModalLoadingCalendar,\r\n            showLoteAdd,\r\n            hideLoteAdd,\r\n            showProcesing,\r\n            hideProcesing,           \r\n        }}>\r\n            {children}\r\n        </AppContext.Provider>\r\n    )\r\n\r\n}","import axios from 'axios';\r\nconst baseURL = 'https://dif-visita-med.herokuapp.com/api'\r\nconst AppApi = axios.create({ baseURL })\r\n\r\n// Midelwares\r\nAppApi.interceptors.request.use(\r\n    async (config) => {\r\n        const token = await localStorage.getItem(\"token\")\r\n        if (token) {\r\n            config.headers['x-token'] = token\r\n        }\r\n        return config\r\n    }\r\n)\r\n\r\nexport default AppApi","import { Status, Usuario } from '../interfaces/interfaces';\r\n\r\nexport interface AuthState {\r\n    status: Status;\r\n    token: string | null;\r\n    errorMessage: string;\r\n    user: Usuario | null;\r\n    tmpImage: string | null;\r\n}\r\n\r\ntype AuthAction =\r\n    | {\r\n        type: 'singUp', payload: {\r\n            token: string,\r\n            user: Usuario\r\n        }\r\n    }\r\n    | { type: 'registraUsuario', payload: Usuario }\r\n    | { type: 'addError', payload: string }\r\n    | { type: 'removeError' }\r\n    | { type: 'notAuthenticated' }\r\n    | { type: 'logout' }\r\n    | { type: 'loadingAuth' }\r\n    | { type: 'add-imgTmp', payload: string }\r\n    | { type: 'remove-imgTmp' }\r\n\r\n\r\nexport const authReducer = (state: AuthState, action: AuthAction): AuthState => {\r\n\r\n    switch (action.type) {\r\n\r\n        case 'addError':\r\n            return {\r\n                ...state,\r\n                status: 'not-authenticated',\r\n                user: null,\r\n                token: null,\r\n                errorMessage: action.payload\r\n            }\r\n\r\n        case 'loadingAuth':\r\n            return {\r\n                ...state,\r\n                status: 'loading-authenticated',\r\n            }\r\n        case 'registraUsuario':\r\n            return {\r\n                ...state,\r\n                user: action.payload\r\n            }\r\n\r\n        case 'removeError':\r\n            return {\r\n                ...state,\r\n                errorMessage: ''\r\n            }\r\n\r\n        case 'singUp':\r\n            return {\r\n                ...state,\r\n                errorMessage: '',\r\n                status: 'authenticated',\r\n                token: action.payload.token,\r\n                user: action.payload.user,\r\n            }\r\n        case 'add-imgTmp':\r\n            return {\r\n                ...state,\r\n                tmpImage: action.payload,\r\n            }\r\n        case 'remove-imgTmp':\r\n            return {\r\n                ...state,\r\n                tmpImage: null,\r\n            }\r\n\r\n        case 'notAuthenticated':\r\n        case 'logout':\r\n            return {\r\n                ...state,\r\n                status: 'not-authenticated',\r\n                user: null,\r\n                token: null,\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}","// import { Status, Usuario } from '../interfaces/interfaces';\r\n\r\nexport interface MessagesState {\r\n    errorMessage: Message[];\r\n    notificationMessage: Message[];\r\n\r\n}\r\n\r\nexport interface Message {\r\n    type: 'any_custom_type' | 'success' | 'error' | 'info'\r\n    title: string,\r\n    msg: string,\r\n    tiempo?: number,\r\n}\r\n\r\ntype MessagesAction =\r\n    | { type: 'addError', payload: Message[] }\r\n    | { type: 'removeError' }\r\n    | { type: 'addNotification', payload: Message[] }\r\n    | { type: 'removeNotification' }\r\n\r\nexport const messagesReducer = (state: MessagesState, action: MessagesAction): MessagesState => {\r\n\r\n    switch (action.type) {\r\n\r\n        case 'addError':\r\n            return {\r\n                ...state,\r\n                errorMessage: action.payload\r\n            }\r\n        case 'removeError':\r\n            return {\r\n                ...state,\r\n                errorMessage: []\r\n            }\r\n        case 'addNotification':\r\n            return {\r\n                ...state,\r\n                notificationMessage: action.payload\r\n            }\r\n        case 'removeNotification':\r\n            return {\r\n                ...state,\r\n                notificationMessage: []\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}","import { createContext, useReducer } from 'react';\r\nimport { Message, messagesReducer, MessagesState } from '../reducers/messagesReducer';\r\n\r\n//Interfaces\r\ninterface ContextProps {\r\n    errorMessage: Message[]\r\n    notificationMessage: Message[]\r\n    registraError: (error: Message) => void;\r\n    prugaError: () => void;\r\n    registraNotification: (notifi: Message) => void;\r\n    prugaNotification: () => void;\r\n}\r\n\r\nconst initialState: MessagesState = {\r\n    errorMessage: [],\r\n    notificationMessage: [],\r\n}\r\n\r\n//Contexto\r\nexport const MessagesContext = createContext({} as ContextProps)\r\n//provider\r\nexport const MessagesProvider = ({ children }: any) => {\r\n    const [state, dispatch] = useReducer(messagesReducer, initialState)\r\n\r\n    const registraError = ({ title = '', msg = '', type = 'error' }: Message) => {\r\n        dispatch({\r\n            type: 'addError',\r\n            payload: [{\r\n                type,\r\n                title,\r\n                msg\r\n            }]\r\n        })\r\n    }\r\n    const prugaError = () => {\r\n        dispatch({\r\n            type: 'removeError',\r\n        })\r\n    }\r\n    const registraNotification = ({ title = '', msg = '', type = 'error' }: Message) => {\r\n        dispatch({\r\n            type: 'addNotification',\r\n            payload: [{\r\n                type,\r\n                title,\r\n                msg\r\n            }]\r\n        })\r\n    }\r\n    const prugaNotification = () => {\r\n        dispatch({\r\n            type: 'removeNotification',\r\n        })\r\n    }\r\n\r\n    return (\r\n        <MessagesContext.Provider value={{\r\n            ...state,\r\n            registraError,\r\n            prugaError,\r\n            registraNotification,\r\n            prugaNotification,\r\n            // messageToast\r\n        }}>\r\n            {children}\r\n        </MessagesContext.Provider>\r\n    )\r\n}\r\n","import { useReducer, useEffect, useContext } from 'react'\r\nimport { createContext } from \"react\"\r\n\r\n\r\nimport AppApi from '../api/AppApi';\r\nimport { ChildrenProps, LoginData, LoginResponse, Status, Usuario, RegisterData } from '../interfaces/interfaces';\r\nimport { authReducer, AuthState } from '../reducers/authReducer';\r\nimport { AppContext } from './AppContext';\r\nimport { MessagesContext } from './MessagesContext';\r\n\r\ninterface UpdateUser {\r\n  nombre?: string,\r\n  correo?: string,\r\n}\r\n\r\ntype AuthContextProps = {\r\n  errorMessage: string;\r\n  token: string | null;\r\n  user: Usuario | null;\r\n  status: Status;\r\n  tmpImage: string | null;\r\n  singUp: (newUserData: RegisterData) => void;\r\n  singIn: (loginData: LoginData) => void;\r\n  logOut: () => void;\r\n  loadingAutenticate: () => void;\r\n  removeError: () => void;\r\n  nivelBoos: () => boolean;\r\n  nivelAdmin: () => boolean;\r\n  nivelSuperAdmin: () => boolean;\r\n  addImgTmp: (path: string) => void;\r\n  removeImgTmp: () => void;\r\n  updateUser: (data: UpdateUser) => void;\r\n}\r\n\r\nconst initialState: AuthState = {\r\n  status: 'checking',\r\n  token: null,\r\n  user: null,\r\n  errorMessage: '',\r\n  tmpImage: null\r\n}\r\n\r\nexport const AuthContext = createContext({} as AuthContextProps);\r\nexport const AuthProvider = ({ children }: ChildrenProps) => {\r\n\r\n  const [state, dispatch] = useReducer(authReducer, initialState)\r\n  const { registraNotification } = useContext(MessagesContext)\r\n  const { showProcesing , hideProcesing} = useContext(AppContext)\r\n\r\n  useEffect(() => {\r\n    checkToken()\r\n  }, [])\r\n\r\n\r\n  // const updatePerfilUsuario = async (uid, datos, imgActual) => {\r\n  //   const { images, ...resto } = datos;\r\n  //   if (imgActual !== images) {\r\n  //     // await fetchImgConToken(`uploadsimg/usuarios/${uid}`, images, \"PUT\");\r\n  //     await AppApi.put<PatchUsuarioResponse>(`uploadsimg/usuarios/${uid}`, images);\r\n  //   }\r\n  //   // const resp = await fetchConToken(`usuarios/${uid}`, resto, \"PATCH\");\r\n  //   const { data } = await AppApi.patch<PatchUsuarioResponse>(`usuarios/${uid}`, resto);\r\n  //   if (data.ok) {\r\n  //     // registraLogin(data, dispatch);\r\n  //   }\r\n  //   return { ok: data.ok, msg: data.msg };\r\n  // };\r\n\r\n  // const updatePassUsuario = async (uid, datos) => {\r\n  //   // const resp = await fetchConToken(`usuarios/pass/${uid}`, data, \"PATCH\");\r\n  //   const { data } = await AppApi.patch<PatchUsuarioResponse>(`usuarios/pass/${uid}`, datos);\r\n  //   if (data.ok) {\r\n  //     logOut();\r\n  //   }\r\n  //   return { ok: data.ok, msg: data.msg };\r\n  // };\r\n\r\n\r\n  const checkToken = async () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      return dispatch({ type: 'notAuthenticated' })\r\n    }\r\n    const resp = await AppApi.get('/auth');\r\n    if (resp.status !== 200) {\r\n      return dispatch({ type: 'notAuthenticated' })\r\n    }\r\n    localStorage.setItem('token', resp.data.token)\r\n    dispatch({\r\n      type: 'singUp',\r\n      payload: {\r\n        user: resp.data.usuario,\r\n        token: resp.data.token\r\n      }\r\n    })\r\n    // conectarSocket()\r\n  }\r\n\r\n  const singIn = async ({ correo, password }: LoginData) => {\r\n\r\n    try {\r\n      const { data } = await AppApi.post<LoginResponse>('/auth/login', { correo, password });\r\n\r\n      localStorage.setItem('token', data.token)\r\n      dispatch({\r\n        type: 'singUp',\r\n        payload: {\r\n          user: data.usuario,\r\n          token: data.token\r\n        }\r\n      })\r\n      // conectarSocket()\r\n\r\n    } catch (error: any) {\r\n      if (error.response.data.errors) {\r\n        dispatch({\r\n          type: 'addError',\r\n          // payload : error.response.data.errors[0].msg || 'Información Incorrecta'\r\n          payload: ''\r\n        })\r\n\r\n        registraNotification({\r\n          title: 'Error',\r\n          msg: error.response.data.errors[0].msg || 'Información Incorrecta',\r\n          type: 'error'\r\n        })\r\n      } else {\r\n        dispatch({\r\n          type: 'addError',\r\n          // payload : error.response.data.msg || 'Información Incorrecta'\r\n          payload: ''\r\n        })\r\n\r\n        registraNotification({\r\n          title: 'Error',\r\n          msg: error.response.data.msg || 'Información Incorrecta',\r\n          type: 'error'\r\n        })\r\n\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  const singUp = async ({ nombre, correo, password, rePassword, pais }: RegisterData) => {\r\n\r\n    if (password !== rePassword) {\r\n      dispatch({\r\n        type: 'addError',\r\n        payload: ''\r\n      })\r\n      registraNotification({\r\n        title: 'Error',\r\n        msg: 'Las contraseñas deben ser iguales' || 'Información Incorrecta',\r\n        type: 'error'\r\n      })\r\n      return\r\n    }\r\n\r\n    try {\r\n      const { data } = await AppApi.post<LoginResponse>('/usuarios',\r\n        {\r\n          correo,\r\n          password,\r\n          nombre,\r\n          pais,\r\n          rol: \"NEW_USER_ROLE\"\r\n        });\r\n      dispatch({\r\n        type: 'singUp',\r\n        payload: {\r\n          user: data.usuario,\r\n          token: data.token\r\n        }\r\n      })\r\n      localStorage.setItem('token', data.token)\r\n    } catch (error: any) {\r\n      if (error.response.data.errors) {\r\n        dispatch({\r\n          type: 'addError',\r\n          payload: ''\r\n        })\r\n        registraNotification({\r\n          title: 'Error',\r\n          msg: error.response.data.errors[0].msg || 'Información Incorrecta',\r\n          type: 'error'\r\n        })\r\n\r\n      } else {\r\n        dispatch({\r\n          type: 'addError',\r\n          payload: ''\r\n        })\r\n        registraNotification({\r\n          title: 'Error',\r\n          msg: error.response.data.msg || 'Información Incorrecta',\r\n          type: 'error'\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  const logOut = async () => {\r\n    localStorage.removeItem('token')\r\n    dispatch({ type: 'logout' })\r\n  }\r\n\r\n  const removeError = () => {\r\n    dispatch({ type: 'removeError' })\r\n  }\r\n\r\n  const loadingAutenticate = () => {\r\n    dispatch({ type: 'loadingAuth' })\r\n  }\r\n\r\n  const addImgTmp = (path: string) => {\r\n    dispatch({\r\n      type: 'add-imgTmp',\r\n      payload: path\r\n    })\r\n  }\r\n\r\n  const removeImgTmp = () => {\r\n    dispatch({ type: 'remove-imgTmp' })\r\n  }\r\n\r\n\r\n\r\n  // const uploadImage = async (userIde: string, data: ImagePickerResponse) => {\r\n\r\n  //     const fileToUpload = {\r\n  //         uri: data.assets![0].uri,\r\n  //         type: data.assets![0].type,\r\n  //         name: data.assets![0].fileName\r\n  //     }\r\n\r\n  //     const formData = new FormData()\r\n  //     formData.append('archivo', fileToUpload)\r\n\r\n  //     try {\r\n  //         const resp = await AppApi.put(`/uploadsimg/usuarios/${userIde}`, formData);\r\n  //         dispatch({\r\n  //             type: 'registraUsuario',\r\n  //             payload: resp.data.modelo,\r\n  //         })\r\n  //     } catch (error) {\r\n  //         registraNotification({\r\n  //             title: 'Error',\r\n  //             msg: 'No se pudo procesar la fotografía',\r\n  //             type: 'error'\r\n  //         })\r\n  //     }\r\n\r\n  // }\r\n\r\n  const updateUser = async ({ nombre, correo }: UpdateUser) => {\r\n\r\n    const user = state.user\r\n    const data = {\r\n      correo: correo ? correo : user?.correo,\r\n      nombre: nombre ? nombre : user?.nombre,\r\n      rol: user?.rol,\r\n    }\r\n\r\n    try {\r\n      showProcesing()\r\n      const resp = await AppApi.put(`/usuarios/${user?.uid}`, data);\r\n      dispatch({\r\n        type: 'registraUsuario',\r\n        payload: resp.data.usuario,\r\n      })\r\n      hideProcesing()\r\n    } catch (error) {\r\n      hideProcesing()\r\n      registraNotification({\r\n        title: 'Error',\r\n        msg: 'No se pudo actualizar la información',\r\n        type: 'error'\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  const nivelBoos = () => {\r\n    if (state.user?.rol === 'SUPER_ADMIN_ROLE'\r\n      || state.user?.rol === 'ADMIN_ROLE'\r\n      || state.user?.rol === 'JEF_VIS_ROLE') { return true } else { return false }\r\n  }\r\n\r\n  const nivelAdmin = () => {\r\n    if (state.user?.rol === 'SUPER_ADMIN_ROLE'\r\n      || state.user?.rol === 'ADMIN_ROLE') { return true } else { return false }\r\n  }\r\n\r\n  const nivelSuperAdmin = () => {\r\n    if (state.user?.rol === 'SUPER_ADMIN_ROLE') { return true } else { return false }\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={{\r\n      ...state,\r\n      singUp,\r\n      singIn,\r\n      logOut,\r\n      removeError,\r\n      loadingAutenticate,\r\n      addImgTmp,\r\n      removeImgTmp,\r\n      // uploadImage,\r\n      updateUser,\r\n      nivelBoos,\r\n      nivelAdmin,\r\n      nivelSuperAdmin,\r\n    }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import { Evento } from \"../interfaces/interfaces\";\r\n\r\n\r\n\r\nexport interface CalendarState {\r\n    eventos: Evento[],\r\n    eventosToDay: Evento[],\r\n    eventosSeleccionados: Evento[],\r\n    eventosProximos: Evento[],\r\n    eventosFilter: Evento[],\r\n    eventosIndexFilter : number | null,\r\n    eventoSeleccionado: Evento | null,\r\n    diaSeleccionado: string;\r\n}\r\n\r\ntype CalendarAction =\r\n    | { type: 'carga-data-eventos', payload: Evento[] }\r\n    | { type: 'selecciona-evento', payload: Evento }\r\n    | { type: 'selecciona-dia', payload: string }\r\n    | { type: 'purga-evento' }\r\n\r\n    | { type: 'add-eventosSeleccionados', payload: Evento[] }\r\n    | { type: 'remove-eventosSeleccionados' }\r\n\r\n    | { type: 'add-eventosToDay', payload: Evento[] }\r\n\r\n    | { type: 'add-eventosProximos', payload: Evento[] }\r\n    | { type: 'remove-eventosProximos' }\r\n\r\n    | { type: 'add-eventosFilter', payload: Evento[] }\r\n    | { type: 'remove-eventosFilter' }\r\n\r\n    | { type: 'set-eventosIndexFilter', payload: number }\r\n    | { type: 'clear-eventosIndexFilter' }\r\n\r\nexport const calendarReducer = (\r\n    state: CalendarState,\r\n    action: CalendarAction)\r\n    : CalendarState => {\r\n\r\n    switch (action.type) {\r\n        case 'carga-data-eventos':\r\n            return {\r\n                ...state,\r\n                eventos: action.payload\r\n            }\r\n        case 'selecciona-evento':\r\n            return {\r\n                ...state,\r\n                eventoSeleccionado: action.payload\r\n            }\r\n        case 'purga-evento':\r\n            return {\r\n                ...state,\r\n                eventoSeleccionado: null\r\n            }\r\n        case 'selecciona-dia':\r\n            return {\r\n                ...state,\r\n                diaSeleccionado: action.payload\r\n            }\r\n        case 'add-eventosSeleccionados':\r\n            return {\r\n                ...state,\r\n                eventosSeleccionados: action.payload\r\n            }\r\n        case 'add-eventosToDay':\r\n            return {\r\n                ...state,\r\n                eventosToDay: action.payload\r\n            }\r\n        case 'remove-eventosSeleccionados':\r\n            return {\r\n                ...state,\r\n                eventosSeleccionados: []\r\n            }\r\n\r\n        case 'add-eventosProximos':\r\n            return {\r\n                ...state,\r\n                eventosProximos: action.payload\r\n            }\r\n        case 'remove-eventosProximos':\r\n            return {\r\n                ...state,\r\n                eventosProximos: []\r\n            }\r\n\r\n        case 'add-eventosFilter':\r\n            return {\r\n                ...state,\r\n                eventosFilter: action.payload\r\n            }\r\n        case 'remove-eventosFilter':\r\n            return {\r\n                ...state,\r\n                eventosFilter: []\r\n            }\r\n        case 'set-eventosIndexFilter':\r\n            return {\r\n                ...state,\r\n                eventosIndexFilter: action.payload\r\n            }\r\n            \r\n        case 'clear-eventosIndexFilter':\r\n            return {\r\n                ...state,\r\n                eventosIndexFilter: null\r\n            }                          \r\n        default:\r\n            return state;\r\n    }\r\n\r\n}","import moment, { Moment } from \"moment\";\r\n\r\nconst currentDate = moment().set({\r\n  hour: 0,\r\n  minute: 0,\r\n  second: 0,\r\n  millisecond: 0,\r\n  year: 0,\r\n});\r\n\r\nexport const diasDiff = (fechaOrigen : any) => {\r\n  const dateCelebracion = moment(fechaOrigen);\r\n  const dateCelebracionDia = moment(dateCelebracion).set({\r\n    hour: 0,\r\n    minute: 0,\r\n    second: 0,\r\n    millisecond: 0,\r\n    year: 0,\r\n  });\r\n  return dateCelebracionDia.diff(currentDate, \"days\");\r\n};\r\n\r\nexport const fechaDiff = (fechaOrigen : Moment) => {\r\n  const currentDate = moment().set({\r\n    hour: 0,\r\n    minute: 0,\r\n    second: 0,\r\n    millisecond: 0,\r\n  });\r\n  const date = moment(fechaOrigen);\r\n  const dateDays = moment(date).set({\r\n    hour: 0,\r\n    minute: 0,\r\n    second: 0,\r\n    millisecond: 0,\r\n  });\r\n  return dateDays.diff(currentDate, \"days\");\r\n};\r\n\r\n\r\nexport const fechaDiffMsg = (fechaOrigen : Moment) => {\r\n  const dias = fechaDiff(fechaOrigen)\r\n  if (dias === 0) return ' hoy'\r\n  if (dias < 0) return ' hace ' + Math.abs(dias) + ' días'\r\n  if (dias > 0) return ' dentro de ' + Math.abs(dias)  + ' días'\r\n};\r\n\r\nexport const createCalendarDate = (start: string) => { \r\n\r\n  let horas = 0;\r\n  let minutos = 0;\r\n\r\n  if (start !== '') {\r\n     horas = moment(start).get('hours')\r\n     minutos = moment(start).get('minutes')\r\n  }\r\n  const fechaSalida = moment(start).set({\r\n    hour: horas,\r\n    minute: minutos,\r\n    second: 0,\r\n    millisecond: 0,\r\n  })\r\n  return fechaSalida\r\n  \r\n } ","import { useContext, useReducer, useEffect } from 'react';\r\nimport { createContext } from 'react';\r\nimport AppApi from '../api/AppApi';\r\nimport { ChildrenProps, Evento, CalendarResponse, DataSendCalendar, DataFilterProps } from '../interfaces/interfaces';\r\nimport { calendarReducer, CalendarState } from '../reducers/calendarReducer';\r\nimport { AuthContext } from './AuthContext';\r\nimport moment from 'moment';\r\nimport { createCalendarDate } from '../helpers/diasDif';\r\nimport { AppContext } from './AppContext';\r\n\r\n\r\n\r\ntype CalendarContextProps = {\r\n    eventos: Evento[],\r\n    eventosToDay: Evento[],\r\n    eventosProximos: Evento[],\r\n    eventosFilter: Evento[],\r\n    eventosSeleccionados: Evento[],\r\n    eventoSeleccionado: Evento | null,\r\n    eventosIndexFilter: number | null,\r\n    diaSeleccionado: string,\r\n    cargaEventos: () => void;\r\n    cargaEventosUsuario: (uid: string) => void;\r\n    addEvento: (data: DataSendCalendar) => void;\r\n    editEvento: (id: string, data: DataSendCalendar) => void;\r\n    deleteEvento: (id: string) => void;\r\n    seleccionaDia: (dia: string) => void;\r\n    eventosDay: (dia?: string) => void;\r\n    editEstadoEvento: (id: string, estado: string) => void;\r\n    cargaDataFilter: (Props : DataFilterProps) => void;\r\n    selecEvento : (evento : Evento) => void;\r\n    purgaEventoSelecciondo : () => void;    \r\n    purgaDataFilter : () => void;\r\n    setDataFilterIndex: (index : number) => void;\r\n    clearDataFilterIndex: () => void;    \r\n}\r\n\r\nconst initialState: CalendarState = {\r\n    eventos: [],\r\n    eventosToDay: [],\r\n    eventoSeleccionado: null,\r\n    eventosSeleccionados: [],\r\n    eventosProximos: [],\r\n    eventosFilter: [],\r\n    eventosIndexFilter : null,\r\n    diaSeleccionado: moment().format('YYYY-MM-DD').toString(),\r\n}\r\n\r\nconst limite = 500;\r\n\r\nexport const CalendarContext = createContext({} as CalendarContextProps)\r\nexport const CalendarProvider = ({ children }: ChildrenProps) => {\r\n\r\n    const [state, dispatch] = useReducer(calendarReducer, initialState)\r\n    const { status } = useContext(AuthContext)\r\n    const { showProcesing , hideProcesing} = useContext(AppContext)\r\n    const cargaEventos = async () => {\r\n        const { data } = await AppApi.get<CalendarResponse>\r\n            (`/calendario?limite=${limite}&desde=0`);\r\n        dispatch({\r\n            type: 'carga-data-eventos',\r\n            payload: data.eventos\r\n        })\r\n        eventosDay()\r\n        eventosFututos(data.eventos)\r\n        eventosToDay(data.eventos)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (status === 'authenticated') {\r\n            cargaEventos()\r\n        }\r\n    }, [status])\r\n\r\n    useEffect(() => {\r\n        if (state.eventosIndexFilter !== null) {\r\n            selecEvento(state.eventosFilter[state.eventosIndexFilter])\r\n        }\r\n    }, [state.eventosIndexFilter])\r\n\r\n    const cargaEventosUsuario = async (uid: string) => {\r\n        const { data } = await AppApi.get<CalendarResponse>\r\n            (`/calendario/${uid}`);\r\n        if (data) {\r\n            return {\r\n                ok: true,\r\n                msg: 'Datos recuperados con éxito',\r\n                eventos: data\r\n            }\r\n        } else {\r\n            return {\r\n                ok: false,\r\n                msg: 'No hay datos',\r\n                eventos: []\r\n            }\r\n        }\r\n    }\r\n\r\n    const seleccionaDia = (dia: string) => {\r\n        dispatch({\r\n            type: 'selecciona-dia',\r\n            payload: dia\r\n        })\r\n        eventosDay(dia)\r\n    }\r\n\r\n    const eventosDay = (dia?: string) => {\r\n        const { eventos } = state\r\n        const fechaEval = dia\r\n            ? toMs(dia)\r\n            : toMs(moment().format('YYYY-MM-DD'))\r\n        const eventosTem: Evento[] = eventos.filter((event) => {\r\n            return toMs(moment(event.start).format('YYYY-MM-DD')) <= fechaEval\r\n                && toMs(moment(event.end).format('YYYY-MM-DD')) >= fechaEval\r\n        })\r\n        dispatch({\r\n            type: 'add-eventosSeleccionados',\r\n            payload: eventosTem\r\n        })\r\n    }\r\n\r\n\r\n    const eventosFututos = (eventos: Evento[]) => {\r\n\r\n        const fechaEval = toMs(moment().format('YYYY-MM-DD'))\r\n        const eventosTem: Evento[] = eventos.filter((event) => {\r\n            return toMs(moment(event.end).format('YYYY-MM-DD')) >= fechaEval\r\n        })\r\n        dispatch({\r\n            type: 'add-eventosProximos',\r\n            payload: eventosTem\r\n        })\r\n    }\r\n\r\n    const eventosToDay = (eventos: Evento[]) => {\r\n\r\n        const fechaEval = toMs(moment().format('YYYY-MM-DD'))\r\n        const eventosTem: Evento[] = eventos.filter((event) => {\r\n            return toMs(moment(event.start).format('YYYY-MM-DD')) <= fechaEval\r\n                && toMs(moment(event.end).format('YYYY-MM-DD')) >= fechaEval\r\n        })\r\n        dispatch({\r\n            type: 'add-eventosToDay',\r\n            payload: eventosTem\r\n        })\r\n    }\r\n\r\n    const toMs = (dateStr: any) => {\r\n        const [year, month, day] = dateStr.split(\"-\")\r\n        return new Date(year, month - 1, day).getTime()\r\n    }\r\n\r\n    const selecEvento  = (evento : Evento) => {\r\n        dispatch({\r\n            type: 'selecciona-evento',\r\n            payload: evento\r\n        })        \r\n    }\r\n\r\n    const purgaEventoSelecciondo  = () => {\r\n        dispatch({\r\n            type: 'purga-evento',\r\n        })        \r\n    }\r\n\r\n    //CRUD\r\n\r\n    const addEvento = async (dataAdd: DataSendCalendar) => {\r\n\r\n        const startDate = createCalendarDate(dataAdd.start)\r\n        const endDate = createCalendarDate(dataAdd.end)\r\n        const dif = endDate.diff(startDate, 'minutes')\r\n\r\n        if (dif < 0) {\r\n            return {\r\n                ok: false,\r\n                msg: 'Fechas no válidas'\r\n            }\r\n        }\r\n        let dataSend\r\n        if (dataAdd.cliente !== '') {\r\n            dataSend = {\r\n                title: dataAdd.title,\r\n                notes: dataAdd.notes,\r\n                tipo: dataAdd.tipo,\r\n                start: startDate,\r\n                end: endDate,\r\n                cliente: dataAdd.cliente\r\n            }\r\n        } else {\r\n            dataSend = {\r\n                title: dataAdd.title,\r\n                notes: dataAdd.notes,\r\n                tipo: dataAdd.tipo,\r\n                start: startDate,\r\n                end: endDate,\r\n            }\r\n        }\r\n        showProcesing()\r\n        try {\r\n            const { data } = await AppApi.post('/calendario', dataSend);\r\n            if (data.ok) {\r\n                //Si todo sale bien\r\n                await cargaEventos()\r\n                hideProcesing()\r\n                return {\r\n                    ok: true,\r\n                    msg: 'Evento registrado en el Calendario'\r\n                }\r\n            } else {\r\n                hideProcesing()\r\n                return {\r\n                    ok: false,\r\n                    msg: data.msg\r\n                }\r\n            }\r\n        } catch (error: any) {\r\n            hideProcesing()\r\n            return {\r\n                ok: false,\r\n                msg: error.response.data.msg\r\n            }\r\n        }\r\n    }\r\n\r\n    const editEvento = async (id: string, dataEdit: DataSendCalendar) => {\r\n\r\n        const startDate = createCalendarDate(dataEdit.start)\r\n        const endDate = createCalendarDate(dataEdit.end)\r\n        const dif = endDate.diff(startDate, 'minutes')\r\n\r\n\r\n        if (dif < 0) {\r\n            return {\r\n                ok: false,\r\n                msg: 'Fechas no válidas'\r\n            }\r\n        }\r\n        let dataSend\r\n        if (dataEdit.cliente !== '') {\r\n            dataSend = {\r\n                title: dataEdit.title,\r\n                notes: dataEdit.notes,\r\n                tipo: dataEdit.tipo,\r\n                start: startDate,\r\n                end: endDate,\r\n                cliente: dataEdit.cliente\r\n            }\r\n        } else {\r\n            dataSend = {\r\n                title: dataEdit.title,\r\n                notes: dataEdit.notes,\r\n                tipo: dataEdit.tipo,\r\n                start: startDate,\r\n                end: endDate,\r\n            }\r\n        }        \r\n        try {\r\n            const { data } = await AppApi.put(`/calendario/${id}`, dataSend);\r\n            if (data.ok) {\r\n                //Si todo sale bien\r\n                await cargaEventos()\r\n                return {\r\n                    ok: true,\r\n                    msg: 'Evento Actualizado'\r\n                }\r\n            } else {\r\n                return {\r\n                    ok: false,\r\n                    msg: data.msg\r\n                }\r\n            }\r\n        } catch (error: any) {\r\n            return {\r\n                ok: false,\r\n                msg: error.response.data.msg\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    const editEstadoEvento = async (id: string, estado: string) => {\r\n        try {\r\n            const { data } = await AppApi.put(`/calendario/${id}`, { estado });\r\n            if (data.ok) {\r\n                //Si todo sale bien\r\n                await cargaEventos()\r\n                return {\r\n                    ok: true,\r\n                    msg: 'Evento Actualizado'\r\n                }\r\n            } else {\r\n                return {\r\n                    ok: false,\r\n                    msg: data.msg\r\n                }\r\n            }\r\n        } catch (error: any) {\r\n            return {\r\n                ok: false,\r\n                msg: error.response.data.msg\r\n            }\r\n        }\r\n    }\r\n\r\n    const deleteEvento = async (id: string) => {\r\n        try {\r\n            const { data } = await AppApi.put(`/calendario/${id}`, { activo : false });\r\n            if (data.ok) {\r\n                //Si todo sale bien\r\n                await cargaEventos()\r\n                return {\r\n                    ok: true,\r\n                    msg: 'Evento Eliminado'\r\n                }\r\n            } else {\r\n                return {\r\n                    ok: false,\r\n                    msg: data.msg\r\n                }\r\n            }\r\n        } catch (error: any) {\r\n            return {\r\n                ok: false,\r\n                msg: error.response.data.msg\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    const cargaDataFilter = async ({ inicio, fin, uid, max } : DataFilterProps) => {\r\n        const start = moment(inicio).format('DD-MM-YYYY').toString()\r\n        const end = moment(fin).format('DD-MM-YYYY').toString()\r\n        const { data } = await AppApi.get<CalendarResponse>\r\n          (`/calendario/${uid}?inicio=${start}&final=${end}&limite=${max}&orden=asc`);\r\n        if (data) {\r\n            dispatch({\r\n                type: 'add-eventosFilter',\r\n                payload: data.eventos\r\n            })            \r\n        } else {\r\n            dispatch({\r\n                type: 'remove-eventosFilter',\r\n            })\r\n        }\r\n      }\r\n\r\n    const purgaDataFilter  = () => {\r\n        dispatch({\r\n            type: 'remove-eventosFilter',\r\n        })    \r\n    }\r\n\r\n\r\n    const setDataFilterIndex  = (index :  number) => {\r\n        dispatch({\r\n            type: 'set-eventosIndexFilter',\r\n            payload : index\r\n        })    \r\n    }\r\n\r\n    const clearDataFilterIndex  = () => {\r\n        dispatch({\r\n            type: 'clear-eventosIndexFilter',\r\n        })    \r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <CalendarContext.Provider value={{\r\n            ...state,\r\n            cargaEventos,\r\n            seleccionaDia,\r\n            eventosDay,\r\n            addEvento,\r\n            editEvento,\r\n            deleteEvento,\r\n            editEstadoEvento,\r\n            cargaEventosUsuario,\r\n            selecEvento,\r\n            purgaEventoSelecciondo,   \r\n            cargaDataFilter,\r\n            purgaDataFilter,\r\n            setDataFilterIndex,\r\n            clearDataFilterIndex,            \r\n        }}>\r\n            {children}\r\n        </CalendarContext.Provider>\r\n    )\r\n}\r\n\r\n\r\n","import { Cliente, DataFilters, MapPointer } from '../interfaces/interfaces';\r\n\r\n\r\nexport interface ClienteState {\r\n    clientes: Cliente[],\r\n    clientesFiltrados: Cliente[],\r\n    clienteSeleccionado: Cliente | null,\r\n    idClienteSeleccionado: string | null,\r\n    dataFiltros: DataFilters[],\r\n    indexClienteSeleccionado: number | null,\r\n    mapPointers : MapPointer[]\r\n}\r\n\r\ntype ClienteAction =\r\n    | { type: 'carga-data-clientes', payload: Cliente[] }\r\n    | { type: 'selecciona-cliente', payload: Cliente }\r\n    | { type: 'selecciona-id-cliente', payload: string }\r\n    | { type: 'seleccionado-cliente', payload: string }\r\n    | { type: 'purga-cliente' }\r\n    | { type: 'add-cliente', payload: Cliente }\r\n    | { type: 'update-cliente', payload: Cliente }\r\n    | { type: 'delete-cliente' }\r\n    | { type: 'carga-data-filtros', payload: any[] }\r\n    | { type: 'purga-data-filtros' }\r\n    | { type: 'carga-data-cliente-filtrados', payload: Cliente[] }\r\n    | { type: 'purga-data-cliente-filtrados' }\r\n\r\n    | { type: 'carga-dataFilter-clientes', payload: Cliente[] }\r\n    | { type: 'clear-dataFilter-clientes'}\r\n\r\n    | { type: 'carga-index-cliente', payload: number}\r\n    | { type: 'clear-index-cliente'}\r\n\r\n    | { type: 'carga-map-pointers', payload: MapPointer[] }\r\n    | { type: 'clear-map-pointers'}\r\n\r\n\r\nexport const clienteReducer = (state: ClienteState, action: ClienteAction) => {\r\n\r\n    switch (action.type) {\r\n        case 'carga-data-clientes':\r\n            return {\r\n                ...state,\r\n                clientes: action.payload\r\n            }\r\n        case 'selecciona-cliente':\r\n            return {\r\n                ...state,\r\n                clienteSeleccionado: action.payload\r\n            }\r\n        case 'selecciona-id-cliente':\r\n            return {\r\n                ...state,\r\n                idClienteSeleccionado: action.payload\r\n            }\r\n        case 'purga-cliente':\r\n            return {\r\n                ...state,\r\n                clienteSeleccionado: null\r\n            }\r\n\r\n        case 'add-cliente':\r\n            return {\r\n                ...state,\r\n                clientes: [...state.clientes, action.payload]\r\n            }\r\n        case 'update-cliente':\r\n            return {\r\n                ...state,\r\n                clientes: state.clientes.map((e) => e._id === action.payload._id ? action.payload : e)\r\n            }\r\n        case 'delete-cliente':\r\n            return {\r\n                ...state,\r\n                clientes: state.clientes.filter((e) => e._id !== state.idClienteSeleccionado)\r\n            }\r\n\r\n        case 'carga-data-filtros':\r\n            return {\r\n                ...state,\r\n                dataFiltros: action.payload\r\n            }\r\n        case 'purga-data-filtros':\r\n            return {\r\n                ...state,\r\n                dataFiltros: []\r\n            }\r\n\r\n        case 'carga-data-cliente-filtrados':\r\n        case 'carga-dataFilter-clientes':\r\n            return {\r\n                ...state,\r\n                clientesFiltrados: action.payload\r\n            }\r\n        case 'purga-data-cliente-filtrados':\r\n        case 'clear-dataFilter-clientes':\r\n            return {\r\n                ...state,\r\n                clientesFiltrados: []\r\n            }\r\n        case 'carga-index-cliente':\r\n            return {\r\n                ...state,\r\n                clienteSeleccionado: state.clientesFiltrados[action.payload]\r\n            }\r\n        case 'clear-index-cliente':\r\n            return {\r\n                ...state,\r\n                indexClienteSeleccionado: null\r\n            }\r\n        case 'carga-map-pointers':\r\n            return {\r\n                ...state,\r\n                mapPointers: action.payload\r\n            }\r\n        case 'clear-map-pointers':\r\n            return {\r\n                ...state,\r\n                mapPointers: []\r\n            }            \r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n}","import { createContext, useContext, useEffect, useReducer } from 'react';\r\n// import { ImagePickerResponse } from 'react-native-image-picker';\r\nimport AppApi from '../api/AppApi';\r\nimport { ChildrenProps, Cliente, ClientesResponse, ClieteFilterResponse, DataFilters, MapPointer } from '../interfaces/interfaces';\r\nimport { clienteReducer, ClienteState } from '../reducers/clienteReducer';\r\nimport { AppContext } from './AppContext';\r\nimport { AuthContext } from './AuthContext';\r\n// import { MessagesContext } from './MessagesContext';\r\n\r\n//TODO: Fotos de los clientes\r\n\r\n\r\ntype ClienteContextProps = {\r\n    clientes: Cliente[],\r\n    clientesFiltrados: Cliente[],\r\n    clienteSeleccionado: Cliente | null,\r\n    idClienteSeleccionado: string | null,\r\n    dataFiltros: DataFilters[],\r\n    indexClienteSeleccionado: number | null,\r\n    mapPointers : MapPointer[],\r\n    cargaClientes: () => void;\r\n    cargaClientesFiltrado: () => void;\r\n    addFiltrosCliente: (filtros: any) => void;\r\n    clearFiltrosCliente: () => void;\r\n    seleccionaCliente: (cliente: Cliente) => void;\r\n    crearCliente: (cliente: any) => void;\r\n    updateCliente: (cliente: any) => void;\r\n    purgaClienteSeleccionado: () => void;\r\n\r\n    cargaClientesFiltrados: (clientes: Cliente[]) => void;\r\n    purgaClientesFiltrados: () => void;\r\n\r\n    seleccionaIndexCliente: (index : number) => void;\r\n    clearIndexCliente: () => void;\r\n\r\n    cargaMapPointers: (mapPointers: MapPointer[]) => void;\r\n    purgaMapPointers: () => void;\r\n\r\n\r\n    // uploadImage: (userIde: string, data: ImagePickerResponse) => void;\r\n}\r\n\r\nconst initialState: ClienteState = {\r\n    clientes: [],\r\n    clientesFiltrados: [],\r\n    dataFiltros: [],\r\n    clienteSeleccionado: null,\r\n    idClienteSeleccionado: null,\r\n    indexClienteSeleccionado: null,\r\n    mapPointers : [],\r\n}\r\n\r\nconst limite = 500;\r\n\r\n\r\n\r\nexport const ClienteContext = createContext({} as ClienteContextProps)\r\nexport const ClienteProvider = ({ children }: ChildrenProps) => {\r\n\r\n    const [state, dispatch] = useReducer(clienteReducer, initialState)\r\n    const { status, user } = useContext(AuthContext)\r\n    const { showProcesing , hideProcesing} = useContext(AppContext)\r\n\r\n    const cargaClientes = async () => {\r\n        const { data } = await AppApi.get<ClientesResponse>(`/clientes?limite=${limite}&desde=0`);\r\n        dispatch({\r\n            type: 'carga-data-clientes',\r\n            payload: data.clientes\r\n        })\r\n    }\r\n\r\n    const cargaClientesFiltrado = async () => {\r\n        if (state.dataFiltros.length === 0) {\r\n            dispatch({\r\n                type: 'carga-data-cliente-filtrados',\r\n                payload: state.clientes\r\n            })\r\n        } else {\r\n            const { data } = await AppApi.post<ClieteFilterResponse>(`/search/clientes`, state.dataFiltros);\r\n            dispatch({\r\n                type: 'carga-data-cliente-filtrados',\r\n                payload: data.results\r\n            })\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (status === 'authenticated') {\r\n            cargaClientes()\r\n        }\r\n    }, [status])\r\n\r\n    useEffect(() => {\r\n        if (status === 'authenticated') {\r\n            cargaClientesFiltrado()\r\n        }\r\n    }, [status, state.dataFiltros, state.clientes])\r\n\r\n\r\n    // useEffect(() => {\r\n    //     if (state.indexClienteSeleccionado !== null) {\r\n    //         seleccionaCliente(state.clientesFiltrados[state.indexClienteSeleccionado])\r\n    //     }\r\n    // }, [state.indexClienteSeleccionado])\r\n\r\n\r\n    const seleccionaCliente = (cliente: Cliente) => {\r\n        dispatch({\r\n            type: 'selecciona-cliente',\r\n            payload: cliente\r\n        })\r\n    }\r\n\r\n    const addFiltrosCliente = (filtros: any) => {\r\n        dispatch({\r\n            type: 'carga-data-filtros',\r\n            payload: filtros\r\n        })\r\n    }\r\n\r\n    const clearFiltrosCliente = () => {\r\n        dispatch({\r\n            type: 'purga-data-filtros',\r\n        })\r\n    }\r\n\r\n\r\n    const purgaClienteSeleccionado = () => {\r\n        dispatch({\r\n            type: 'purga-cliente',\r\n        })\r\n    }\r\n\r\n    const crearCliente = async (cliente: any) => {\r\n        const { _id, ...dataClean } = cliente\r\n        const dataSend = {\r\n            ...dataClean,\r\n            visitador: user?.uid,\r\n            pais: user?.pais,\r\n        }\r\n        try {\r\n            showProcesing()\r\n            const { data } = await AppApi.post<ClientesResponse>(`/clientes`, dataSend);\r\n            if (data.ok) {\r\n                //Si todo sale bien\r\n                await cargaClientes()\r\n                hideProcesing()\r\n                return {\r\n                    ok: true,\r\n                    msg: 'Cliente registrado con éxito'\r\n                }\r\n            } else {\r\n                hideProcesing()\r\n                return {\r\n                    ok: false,\r\n                    msg: data.msg\r\n                }\r\n            }\r\n        } catch (error: any) {\r\n            hideProcesing()\r\n            return {\r\n                ok: false,\r\n                msg: error.response.data.msg\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    // const uploadImage = async (clienteId: string, data: ImagePickerResponse) => {\r\n\r\n    //     const fileToUpload = {\r\n    //         uri: data.assets![0].uri,\r\n    //         type: data.assets![0].type,\r\n    //         name: data.assets![0].fileName\r\n    //     }\r\n\r\n    //     const formData = new FormData()\r\n    //     formData.append('archivo', fileToUpload)\r\n\r\n    //     try {\r\n    //         const resp = await AppApi.put(`/uploadsimg/clientes/${clienteId}`, formData);\r\n    //         // dispatch({\r\n    //         //     type: 'registraUsuario',\r\n    //         //     payload: resp.data.modelo,\r\n    //         // })\r\n    //     } catch (error) {\r\n    //         registraNotification({\r\n    //             title: 'Error',\r\n    //             msg: 'No se pudo procesar la fotografía',\r\n    //             type: 'error'\r\n    //         })\r\n    //     }\r\n\r\n    // }\r\n\r\n\r\n    const updateCliente = async (cliente: any) => {\r\n        const dataSend = {\r\n            ...cliente,\r\n            visitador: user?.uid,\r\n            pais: user?.pais,\r\n        }\r\n        try {\r\n            showProcesing()\r\n            const { data } = await AppApi.put<ClientesResponse>(`/clientes/${cliente._id}`, dataSend);\r\n            if (data.ok) {\r\n                //Si todo sale bien\r\n                await cargaClientes()\r\n                hideProcesing()\r\n                return {\r\n                    ok: true,\r\n                    msg: 'Cliente actualizado con éxito'\r\n                }\r\n            } else {\r\n                hideProcesing()\r\n                return {\r\n                    ok: false,\r\n                    msg: data.msg\r\n                }\r\n            }\r\n        } catch (error: any) {\r\n            hideProcesing()\r\n            return {\r\n                ok: false,\r\n                msg: error.response.data.msg\r\n            }\r\n        }\r\n    }\r\n\r\n    const cargaClientesFiltrados  = (clientes: Cliente[]) => {\r\n        dispatch({\r\n            type: 'carga-dataFilter-clientes',\r\n            payload : clientes\r\n        })\r\n    }\r\n    const purgaClientesFiltrados  = () => {\r\n        dispatch({\r\n            type: 'clear-dataFilter-clientes',\r\n        })\r\n    }\r\n    const seleccionaIndexCliente  = (index : number) => {\r\n        dispatch({\r\n            type: 'carga-index-cliente',\r\n            payload : index\r\n        })\r\n    }\r\n    const clearIndexCliente  = () => {\r\n        dispatch({\r\n            type: 'clear-index-cliente',\r\n        })        \r\n    }\r\n\r\n    const cargaMapPointers  = (mapPointers: MapPointer[]) => {\r\n        dispatch({\r\n            type: 'carga-map-pointers',\r\n            payload : mapPointers\r\n        }) \r\n    }\r\n    \r\n    const purgaMapPointers  = () => {\r\n        dispatch({\r\n            type: 'clear-map-pointers',\r\n        })         \r\n    }\r\n\r\n    return (\r\n        <ClienteContext.Provider value={{\r\n            ...state,\r\n            cargaClientes,\r\n            seleccionaCliente,\r\n            purgaClienteSeleccionado,\r\n            crearCliente,\r\n            updateCliente,\r\n            addFiltrosCliente,\r\n            clearFiltrosCliente,\r\n            cargaClientesFiltrado,\r\n            cargaClientesFiltrados,\r\n            purgaClientesFiltrados,\r\n            seleccionaIndexCliente,\r\n            clearIndexCliente,\r\n            cargaMapPointers,\r\n            purgaMapPointers,\r\n        }}>\r\n            {children}\r\n        </ClienteContext.Provider>\r\n    )\r\n\r\n}","import { TransaccionInv, Lote, ProductoSaldo, ProductosTransaccion, ClienteProductos } from '../interfaces/interfaces';\r\n\r\n\r\nexport interface InventarioState {\r\n    transacciones: TransaccionInv[],\r\n    transaccionSeleccionada: TransaccionInv | null,\r\n    lotes: Lote[]\r\n    loteSeleccionado: Lote | null,\r\n    productoSaldo: ProductoSaldo[]\r\n    productoSaldoMM: ProductoSaldo[]\r\n    productosTransaccion: ProductosTransaccion[]\r\n    productoscliente: ClienteProductos[],\r\n\r\n}\r\n\r\ntype InventarioAction =\r\n    | { type: 'carga-data-transacciones', payload: TransaccionInv[] }\r\n    | { type: 'selecciona-transaccion', payload: TransaccionInv }\r\n    | { type: 'add-transaccion', payload: TransaccionInv }\r\n    | { type: 'update-transaccion', payload: TransaccionInv }\r\n    | { type: 'delete-transaccion', payload: string }\r\n    | { type: 'purga-transaccion' }\r\n    | { type: 'carga-data-lotes', payload: Lote[] }\r\n    | { type: 'selecciona-lote', payload: Lote }\r\n    | { type: 'add-lote', payload: Lote }\r\n    | { type: 'update-lote', payload: Lote }\r\n    | { type: 'delete-lote', payload: string }\r\n    | { type: 'purga-lote' }\r\n    | { type: 'add-producto-saldo-original', payload: ProductoSaldo }\r\n    | { type: 'add-producto-saldo-MM', payload: ProductoSaldo }\r\n    | { type: 'purga-producto-saldo-original' }\r\n    | { type: 'purga-producto-saldo-MM' }\r\n    | { type: 'add-producto-transaccion', payload: ProductosTransaccion }\r\n    | { type: 'delete-producto-transaccion', payload: ProductosTransaccion }\r\n    | { type: 'update-producto-transaccion', payload: ProductosTransaccion }\r\n    | { type: 'purga-producto-transaccion' }\r\n    | { type: 'carga-data-productosclientes', payload: ClienteProductos[] }\r\n    | { type: 'purga-productoscliente' }\r\n\r\n\r\nexport const inventarioReducer = (state: InventarioState, action: InventarioAction) => {\r\n\r\n    switch (action.type) {\r\n        case 'carga-data-transacciones':\r\n            return {\r\n                ...state,\r\n                transacciones: action.payload\r\n            }\r\n        case 'selecciona-transaccion':\r\n            return {\r\n                ...state,\r\n                transaccionSeleccionada: action.payload\r\n            }\r\n        case 'add-transaccion':\r\n            return {\r\n                ...state,\r\n                transacciones: [...state.transacciones, action.payload]\r\n            }\r\n        case 'update-transaccion':\r\n            return {\r\n                ...state,\r\n                transacciones: state.transacciones.map((e) => e._id === action.payload._id ? action.payload : e)\r\n            }\r\n        case 'delete-transaccion':\r\n            return {\r\n                ...state,\r\n                transacciones: state.transacciones.filter((e) => e._id !== action.payload)\r\n            }\r\n        case 'purga-transaccion':\r\n            return {\r\n                ...state,\r\n                transaccionSeleccionada: null\r\n            }\r\n\r\n        // Lotes\r\n\r\n        case 'carga-data-lotes':\r\n            return {\r\n                ...state,\r\n                lotes: action.payload\r\n            }\r\n        case 'selecciona-lote':\r\n            return {\r\n                ...state,\r\n                loteSeleccionado: action.payload\r\n            }\r\n        case 'add-lote':\r\n            return {\r\n                ...state,\r\n                lotes: [...state.lotes, action.payload]\r\n            }\r\n        case 'update-lote':\r\n            return {\r\n                ...state,\r\n                lotes: state.lotes.map((e) => e._id === action.payload._id ? action.payload : e)\r\n            }\r\n        case 'delete-lote':\r\n            return {\r\n                ...state,\r\n                lotes: state.lotes.filter((e) => e._id !== action.payload)\r\n            }\r\n        case 'purga-lote':\r\n            return {\r\n                ...state,\r\n                loteSeleccionado: null\r\n            }\r\n\r\n\r\n        case 'add-producto-saldo-original':\r\n            return {\r\n                ...state,\r\n                productoSaldo: [...state.productoSaldo, action.payload]\r\n            }\r\n        case 'add-producto-saldo-MM':\r\n            return {\r\n                ...state,\r\n                productoSaldoMM: [...state.productoSaldoMM, action.payload]\r\n            }\r\n        case 'purga-producto-saldo-original':\r\n            return {\r\n                ...state,\r\n                productoSaldo: []\r\n            }\r\n        case 'purga-producto-saldo-MM':\r\n            return {\r\n                ...state,\r\n                productoSaldoMM: []\r\n            }\r\n\r\n        //Transaccion de muestras\r\n\r\n        case 'add-producto-transaccion':\r\n            return {\r\n                ...state,\r\n                productosTransaccion: [...state.productosTransaccion, action.payload]\r\n            }\r\n        case 'delete-producto-transaccion':\r\n            return {\r\n                ...state,\r\n                productosTransaccion: state.productosTransaccion.filter((e) => e !== action.payload)\r\n            }\r\n        case 'update-producto-transaccion':\r\n            return {\r\n                ...state,\r\n                productosTransaccion: state.productosTransaccion.map((e) => e._id === action.payload._id ? action.payload : e)\r\n            }\r\n        case 'purga-producto-transaccion':\r\n            return {\r\n                ...state,\r\n                productosTransaccion: []\r\n            }\r\n\r\n        //Productos por Cliente\r\n        case 'carga-data-productosclientes':\r\n            return {\r\n                ...state,\r\n                productoscliente: action.payload\r\n            }\r\n        case 'purga-productoscliente':\r\n            return {\r\n                ...state,\r\n                productoscliente: []\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n}","import { Producto } from '../interfaces/interfaces';\r\n\r\nexport interface Productostate {\r\n    productos: Producto[],\r\n    productoseleccionado: Producto | null,\r\n    idproductoseleccionado: string | null,\r\n    idcategoriaseleccionada: string | null,\r\n}\r\n\r\ntype ProductoAction =\r\n    | { type: 'carga-data-productos', payload: Producto[] }\r\n    | { type: 'selecciona-producto', payload: Producto }\r\n    | { type: 'selecciona-id-producto', payload: string }\r\n    | { type: 'seleccionado-producto', payload: string }\r\n    | { type: 'selecciona-categoria', payload: string }\r\n    | { type: 'purga-producto' }\r\n    | { type: 'purga-categoria' }\r\n    | { type: 'add-producto', payload: Producto }\r\n    | { type: 'update-producto', payload: Producto }\r\n    | { type: 'delete-producto' }\r\n\r\nexport const productoReducer = (state: Productostate, action: ProductoAction) => {\r\n\r\n    switch (action.type) {\r\n        case 'carga-data-productos':\r\n            return {\r\n                ...state,\r\n                productos: action.payload\r\n            }\r\n        case 'selecciona-producto':\r\n            return {\r\n                ...state,\r\n                productoseleccionado: action.payload\r\n            }\r\n        case 'selecciona-id-producto':\r\n            return {\r\n                ...state,\r\n                idproductoseleccionado: action.payload\r\n            }\r\n        case 'selecciona-categoria':\r\n            return {\r\n                ...state,\r\n                idcategoriaseleccionada: action.payload\r\n            }\r\n        case 'purga-categoria':\r\n            return {\r\n                ...state,\r\n                idcategoriaseleccionada: null\r\n            }\r\n        case 'purga-producto':\r\n            return {\r\n                ...state,\r\n                productoseleccionado: null\r\n            }\r\n        case 'add-producto':\r\n            return {\r\n                ...state,\r\n                productos: [...state.productos, action.payload]\r\n            }\r\n        case 'update-producto':\r\n            return {\r\n                ...state,\r\n                productos: state.productos.map((e) => e._id === action.payload._id ? action.payload : e)\r\n            }\r\n        case 'delete-producto':\r\n            return {\r\n                ...state,\r\n                productos: state.productos.filter((e) => e._id !== state.idproductoseleccionado)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n}","import { createContext, useContext, useEffect, useReducer } from 'react';\r\n// import { ImagePickerResponse } from 'react-native-image-picker';\r\nimport AppApi from '../api/AppApi';\r\nimport { ChildrenProps, Producto, ProductosResponse } from '../interfaces/interfaces';\r\nimport { productoReducer, Productostate } from '../reducers/productoReducer';\r\nimport { AppContext } from './AppContext';\r\nimport { AuthContext } from './AuthContext';\r\n\r\n//TODO: imagenes de los productos\r\n\r\n\r\ntype ProductoContextProps = {\r\n    productos: Producto[],\r\n    productoseleccionado: Producto | null,\r\n    idproductoseleccionado: string | null,\r\n    idcategoriaseleccionada: string | null,\r\n    cargaProductos: () => void;\r\n    seleccionaCategoria: (categoria: string) => void;\r\n    purgaCategoria: () => void;\r\n    seleccionaProducto: (Producto: Producto) => void;\r\n    crearProducto: (Producto: any) => void;\r\n    updateProducto: (Producto: any) => void;\r\n    purgaProductoSeleccionado: () => void;\r\n    // uploadImage: (userIde: string, data: ImagePickerResponse) => void;\r\n}\r\n\r\n\r\nconst initialState: Productostate = {\r\n    productos: [],\r\n    productoseleccionado: null,\r\n    idproductoseleccionado: null,\r\n    idcategoriaseleccionada: null,\r\n}\r\n\r\nconst limite = 500;\r\n\r\n\r\nexport const ProductoContext = createContext({} as ProductoContextProps)\r\nexport const ProductoProvider = ({ children }: ChildrenProps) => {\r\n\r\n    const [state, dispatch] = useReducer(productoReducer, initialState)\r\n    const { status, user } = useContext(AuthContext)\r\n    const { showProcesing , hideProcesing} = useContext(AppContext)\r\n\r\n    useEffect(() => {\r\n        if (status === 'authenticated') {\r\n            cargaProductos()\r\n        }\r\n    }, [status])\r\n\r\n    const cargaProductos = async () => {\r\n        const { data } = await AppApi.get<ProductosResponse>(`/productos?limite=${limite}&desde=0`);\r\n        dispatch({\r\n            type: 'carga-data-productos',\r\n            payload: data.productos\r\n        })\r\n    }\r\n\r\n    const seleccionaProducto = (producto: Producto) => {\r\n        dispatch({\r\n            type: 'selecciona-producto',\r\n            payload: producto\r\n        })\r\n    }\r\n\r\n    const seleccionaCategoria = (categoria: string) => {\r\n        dispatch({\r\n            type: 'selecciona-categoria',\r\n            payload: categoria\r\n        })\r\n    }\r\n    const purgaCategoria = () => {\r\n        dispatch({\r\n            type: 'purga-categoria'\r\n        })\r\n    }\r\n\r\n    const purgaProductoSeleccionado = () => {\r\n        dispatch({\r\n            type: 'purga-producto',\r\n        })\r\n    }\r\n\r\n    const crearProducto = async (Producto: any) => {\r\n        const { _id, ...dataClean } = Producto\r\n        const dataSend = {\r\n            ...dataClean,\r\n            visitador: user?.uid,\r\n            pais: user?.pais,\r\n        }\r\n        try {\r\n            showProcesing()\r\n            const { data } = await AppApi.post<ProductosResponse>(`/productos`, dataSend);\r\n            if (data.ok) {\r\n                //Si todo sale bien\r\n                await cargaProductos()\r\n                hideProcesing()\r\n                return {\r\n                    ok: true,\r\n                    msg: 'Producto registrado con éxito'\r\n                }\r\n            } else {\r\n                hideProcesing()\r\n                return {\r\n                    ok: false,\r\n                    msg: data.msg\r\n                }\r\n            }\r\n        } catch (error: any) {\r\n            hideProcesing()\r\n            return {\r\n                ok: false,\r\n                msg: error.response.data.msg\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    // const uploadImage = async (productoId: string, data: ImagePickerResponse) => {\r\n\r\n    //     const fileToUpload = {\r\n    //         uri: data.assets![0].uri,\r\n    //         type: data.assets![0].type,\r\n    //         name: data.assets![0].fileName\r\n    //     }\r\n\r\n    //     const formData = new FormData()\r\n    //     formData.append('archivo', fileToUpload)\r\n\r\n    //     try {\r\n    //         const resp = await AppApi.put(`/uploadsimg/productos/${productoId}`, formData);\r\n    //         // dispatch({\r\n    //         //     type: 'registraUsuario',\r\n    //         //     payload: resp.data.modelo,\r\n    //         // })\r\n    //     } catch (error: any) {\r\n    //         registraNotification({\r\n    //             title: 'Error',\r\n    //             msg: error.response.data.msg,\r\n    //             type: 'error'\r\n    //         })\r\n    //     }\r\n\r\n    // }\r\n\r\n\r\n    const updateProducto = async (producto: any) => {\r\n        const dataSend = {\r\n            ...producto,\r\n            visitador: user?.uid,\r\n            pais: user?.pais,\r\n        }\r\n        try {\r\n            showProcesing()\r\n            const { data } = await AppApi.put<ProductosResponse>(`/productos/${producto._id}`, dataSend);\r\n            if (data.ok) {\r\n                //Si todo sale bien\r\n                await cargaProductos()\r\n                hideProcesing()\r\n                return {\r\n                    ok: true,\r\n                    msg: 'Producto actualizado con éxito'\r\n                }\r\n            } else {\r\n                hideProcesing()\r\n                return {\r\n                    ok: false,\r\n                    msg: data.msg\r\n                }\r\n            }\r\n        } catch (error: any) {\r\n            hideProcesing()\r\n            return {\r\n                ok: false,\r\n                msg: error.response.data.msg\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <ProductoContext.Provider value={{\r\n            ...state,\r\n            cargaProductos,\r\n            seleccionaProducto,\r\n            purgaProductoSeleccionado,\r\n            crearProducto,\r\n            updateProducto,\r\n            // uploadImage,\r\n            seleccionaCategoria,\r\n            purgaCategoria,\r\n        }}>\r\n            {children}\r\n        </ProductoContext.Provider>\r\n    )\r\n\r\n}","import { DataFilters, ProductosTransaccion, Visita } from '../interfaces/interfaces';\r\n\r\n\r\n\r\nexport interface VisitasState {\r\n    visitas: Visita[],\r\n    visitasFilter: Visita[],\r\n    visitasDay: Visita[],\r\n    visitasFiltradas: Visita[],\r\n    visitaSeleccionada: Visita | null,\r\n    idVisitaSeleccionada: string | null,\r\n    productosTransaccion: ProductosTransaccion[]\r\n    dataFiltros: DataFilters[],\r\n    visitasIndexFilter: number | null,\r\n    \r\n}\r\n\r\n\r\ntype VisitaAction =\r\n    | { type: 'carga-data-visitas', payload: Visita[] }\r\n    | { type: 'carga-data-visitasday', payload: Visita[] }\r\n    | { type: 'selecciona-visita', payload: Visita }\r\n    | { type: 'selecciona-id-visita', payload: string }\r\n    | { type: 'seleccionada-visita', payload: string }\r\n    | { type: 'purga-visita' }\r\n    | { type: 'add-visita', payload: Visita }\r\n    | { type: 'update-visita', payload: Visita }\r\n    | { type: 'delete-visita' }\r\n    | { type: 'carga-data-filtros', payload: any[] }\r\n    | { type: 'purga-data-filtros' }\r\n    | { type: 'add-producto-transaccion', payload: ProductosTransaccion }\r\n    | { type: 'delete-producto-transaccion', payload: ProductosTransaccion }\r\n    | { type: 'update-producto-transaccion', payload: ProductosTransaccion }\r\n    | { type: 'purga-producto-transaccion' }\r\n    | { type: 'carga-data-visita-filtrados', payload: Visita[] }\r\n    | { type: 'purga-data-visita-filtrados' }\r\n\r\n    | { type: 'add-visitasFilter', payload: Visita[] }\r\n    | { type: 'remove-visitasFilter' }\r\n\r\n    | { type: 'clear-visitasIndexFilter' }\r\n\r\n    | {type: 'set-visitaIndexFilter', payload : number}\r\n    | {type : 'clear-visitaIndexFilter'}\r\n\r\n\r\n    \r\n\r\n\r\nexport const VisitaReducer = (state: VisitasState, action: VisitaAction) => {\r\n\r\n    switch (action.type) {\r\n        case 'carga-data-visitas':\r\n            return {\r\n                ...state,\r\n                visitas: action.payload\r\n            }\r\n        case 'carga-data-visitasday':\r\n            return {\r\n                ...state,\r\n                visitasDay: action.payload\r\n            }\r\n        case 'selecciona-visita':\r\n            return {\r\n                ...state,\r\n                visitaSeleccionada: action.payload\r\n            }\r\n        case 'selecciona-id-visita':\r\n            return {\r\n                ...state,\r\n                idVisitaSeleccionada: action.payload\r\n            }\r\n        case 'purga-visita':\r\n            return {\r\n                ...state,\r\n                visitaSeleccionada: null\r\n            }\r\n        case 'add-visita':\r\n            return {\r\n                ...state,\r\n                visitas: [...state.visitas, action.payload]\r\n            }\r\n        case 'update-visita':\r\n            return {\r\n                ...state,\r\n                visitas: state.visitas.map((e) => e._id === action.payload._id ? action.payload : e)\r\n            }\r\n        case 'delete-visita':\r\n            return {\r\n                ...state,\r\n                visitas: state.visitas.filter((e) => e._id !== state.idVisitaSeleccionada)\r\n            }\r\n        case 'carga-data-filtros':\r\n            return {\r\n                ...state,\r\n                dataFiltros: action.payload\r\n            }\r\n        case 'purga-data-filtros':\r\n            return {\r\n                ...state,\r\n                dataFiltros: []\r\n            }\r\n        //Transaccion de muestras\r\n\r\n        case 'add-producto-transaccion':\r\n            return {\r\n                ...state,\r\n                productosTransaccion: [...state.productosTransaccion, action.payload]\r\n            }\r\n        case 'delete-producto-transaccion':\r\n            return {\r\n                ...state,\r\n                productosTransaccion: state.productosTransaccion.filter((e) => e !== action.payload)\r\n            }\r\n        case 'update-producto-transaccion':\r\n            return {\r\n                ...state,\r\n                productosTransaccion: state.productosTransaccion.map((e) => e._id === action.payload._id ? action.payload : e)\r\n            }\r\n        case 'purga-producto-transaccion':\r\n            return {\r\n                ...state,\r\n                productosTransaccion: []\r\n            }\r\n\r\n        case 'carga-data-visita-filtrados':\r\n            return {\r\n                ...state,\r\n                visitasFiltradas: action.payload\r\n            }\r\n        case 'purga-data-visita-filtrados':\r\n            return {\r\n                ...state,\r\n                visitasFiltradas: []\r\n            }\r\n\r\n        case 'add-visitasFilter':\r\n            return {\r\n                ...state,\r\n                visitasFilter: action.payload\r\n            }\r\n        case 'remove-visitasFilter':\r\n            return {\r\n                ...state,\r\n                visitasFilter: []\r\n            }\r\n\r\n        case 'clear-visitasIndexFilter':\r\n            return {\r\n                ...state,\r\n                visitasIndexFilter: null\r\n            } \r\n\r\n        case 'set-visitaIndexFilter':\r\n            return {\r\n                ...state,\r\n                visitasIndexFilter: action.payload\r\n            }\r\n            \r\n        case 'clear-visitaIndexFilter':\r\n            return {\r\n                ...state,\r\n                eventosIndexFilter: null\r\n            } \r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n}","import { createContext, useContext, useEffect, useReducer } from 'react';\r\n// import { ImagePickerResponse } from 'react-native-image-picker';\r\nimport moment from 'moment';\r\n\r\nimport { VisitaReducer, VisitasState } from '../reducers/visitaReducer';\r\nimport { AuthContext } from './AuthContext';\r\n\r\nimport AppApi from '../api/AppApi';\r\nimport {\r\n    ChildrenProps,\r\n    Visita,\r\n    VisitaResponse,\r\n    ResponsePostVisita,\r\n    ProductosTransaccion,\r\n    ResponsePostTransaccion,\r\n    DataFilters,\r\n    VisitaFilterResponse,\r\n    VisitasResponse,\r\n    DataFilterProps,\r\n    DataFilterVisitasProps\r\n} from '../interfaces/interfaces';\r\nimport { AppContext } from './AppContext';\r\n\r\n//TODO: Subir imagenes\r\n\r\n\r\ntype VisitaContextProps = {\r\n    visitas: Visita[],\r\n    visitasIndexFilter : number | null,\r\n    visitasDay: Visita[],\r\n    visitasFilter: Visita[],\r\n    visitasFiltradas: Visita[],\r\n    visitaSeleccionada: Visita | null,\r\n    idVisitaSeleccionada: string | null,\r\n    productosTransaccion: ProductosTransaccion[]\r\n    dataFiltros: DataFilters[],\r\n\r\n    addFiltrosVisita: (filtros: any) => void;\r\n    addProductoTransaccion: (detalle: ProductosTransaccion) => void;\r\n    cargaDataFilter: (Props : DataFilterVisitasProps) => void;\r\n    cargaVisitas: () => void;\r\n    cargaVisitasFiltrado: () => void;\r\n    clearDataFilterIndex: () => void;\r\n    clearFiltrosVisita: () => void;\r\n    crearVisita: (visita: any) => void;\r\n    deleteProductoTransaccion: (detalle: ProductosTransaccion) => void;\r\n    prugaProductoTransaccion: () => void;\r\n    purgaDataFilter: () => void;\r\n    purgaVisitaSeleccionado: () => void;\r\n    seleccionaVisita: (visita: Visita) => void;\r\n    updateVisita: (visita: any) => void;\r\n    selecVisita : (visita : Visita) => void;\r\n    setDataFilterIndex: (index : number) => void;\r\n\r\n\r\n}\r\n\r\n\r\nconst initialState: VisitasState = {\r\n    visitas: [],\r\n    visitasFilter: [],\r\n    visitasDay: [],\r\n    visitasFiltradas: [],\r\n    dataFiltros: [],\r\n    visitaSeleccionada: null,\r\n    idVisitaSeleccionada: null,\r\n    productosTransaccion: [],\r\n    visitasIndexFilter : null,\r\n\r\n}\r\n\r\nconst limite = 500;\r\n\r\nexport const VisitaContext = createContext({} as VisitaContextProps)\r\nexport const VisitaProvider = ({ children }: ChildrenProps) => {\r\n\r\n    const [state, dispatch] = useReducer(VisitaReducer, initialState)\r\n    const { status, user } = useContext(AuthContext)\r\n    const { toogleUpdateSaldos, showProcesing , hideProcesing } = useContext(AppContext)\r\n\r\n    useEffect(() => {\r\n        if (status === 'authenticated') {\r\n            cargaVisitas()\r\n        }\r\n    }, [status])\r\n\r\n    useEffect(() => {\r\n        if (status === 'authenticated') {\r\n            cargaVisitasFiltrado()\r\n        }\r\n    }, [status, state.dataFiltros, state.visitas])\r\n\r\n\r\n    const cargaVisitas = async () => {\r\n        const { data } = await AppApi.get<VisitaResponse>(`/visitas?limite=${limite}&desde=0`);\r\n        dispatch({\r\n            type: 'carga-data-visitas',\r\n            payload: data.visitas\r\n        })\r\n        const fechaEval = toMs(moment().format('YYYY-MM-DD'))\r\n        const visitasTmp: Visita[] = data.visitas.filter((visita) => {\r\n            return toMs(moment(visita.fecha).format('YYYY-MM-DD')) === fechaEval\r\n        })\r\n        dispatch({\r\n            type: 'carga-data-visitasday',\r\n            payload: visitasTmp\r\n        })\r\n    }\r\n\r\n    const cargaVisitasFiltrado = async () => {\r\n\r\n        if (state.dataFiltros.length === 0) {\r\n            dispatch({\r\n                type: 'carga-data-visita-filtrados',\r\n                payload: state.visitas\r\n            })\r\n        } else {\r\n            const { data } = await AppApi.post<VisitaFilterResponse>(`/search/visitas`, state.dataFiltros);\r\n            dispatch({\r\n                type: 'carga-data-visita-filtrados',\r\n                payload: data.results\r\n            })\r\n        }\r\n    }\r\n\r\n    const seleccionaVisita = (visita: Visita) => {\r\n        dispatch({\r\n            type: 'selecciona-visita',\r\n            payload: visita\r\n        })\r\n    }\r\n\r\n    const addFiltrosVisita = (filtros: any) => {\r\n        dispatch({\r\n            type: 'carga-data-filtros',\r\n            payload: filtros\r\n        })\r\n    }\r\n\r\n    const clearFiltrosVisita = () => {\r\n        dispatch({\r\n            type: 'purga-data-filtros',\r\n        })\r\n    }\r\n\r\n\r\n    const purgaVisitaSeleccionado = () => {\r\n        dispatch({\r\n            type: 'purga-visita',\r\n        })\r\n    }\r\n\r\n    const crearVisita = async (visita: any) => {\r\n        const { _id, ...dataClean } = visita\r\n\r\n        const dataSend = {\r\n            ...dataClean,\r\n            visitador: user?.uid,\r\n            pais: user?.pais,\r\n        }\r\n        try {\r\n            showProcesing()\r\n            const { data } = await AppApi.post<ResponsePostVisita>(`/visitas`, dataSend);\r\n            if (data.ok) {\r\n                await cargaVisitas()\r\n                //Si todo sale bien creamos la transaccion de las muestras\r\n                const visita = data.visita\r\n\r\n                if (state.productosTransaccion) {\r\n                    if (state.productosTransaccion.length > 0) {\r\n                        const dataSend = {\r\n                            fecha: moment(),\r\n                            visita: visita._id,\r\n                            signo: -1,\r\n                            anotaciones: `Entrega de Muestras a ${visita.cliente.nombre}`,\r\n                            detalle: state.productosTransaccion\r\n                        }\r\n                        const { data } = await AppApi.post<ResponsePostTransaccion>(`/transacciones`, dataSend);\r\n                        if (data.ok) {\r\n                            const { data: aplicacion } = await AppApi.put<ResponsePostTransaccion>(`/transacciones/aplica/${data.transaccionInv._id}`);\r\n                            if (!aplicacion.ok) {\r\n                                hideProcesing()\r\n                                return {\r\n                                    ok: false,\r\n                                    msg: 'No pude aplicar la transacion de las muestras, comunicarse con soporte',\r\n                                    visita: []\r\n                                }\r\n                            }\r\n                        } else {\r\n                            hideProcesing()\r\n                            return {\r\n                                ok: false,\r\n                                msg: 'No pude crear la transacion de las muestras, comunicarse con soporte',\r\n                                visita: []\r\n                            }\r\n                        }\r\n                    }\r\n                    hideProcesing()\r\n                    toogleUpdateSaldos()\r\n                    prugaProductoTransaccion()\r\n                }\r\n                hideProcesing()\r\n                return {\r\n                    ok: true,\r\n                    msg: 'Registrado con éxito',\r\n                    visita: data.visita\r\n                }\r\n            } else {\r\n                hideProcesing()\r\n                return {\r\n                    ok: false,\r\n                    msg: data.msg,\r\n                    visita: []\r\n                }\r\n            }\r\n        } catch (error: any) {\r\n            hideProcesing()\r\n            return {\r\n                ok: false,\r\n                msg: error.response.data.msg\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    // const uploadImage = async (visitaId: string, data: ImagePickerResponse) => {\r\n\r\n    //     const fileToUpload = {\r\n    //         uri: data.assets![0].uri,\r\n    //         type: data.assets![0].type,\r\n    //         name: data.assets![0].fileName\r\n    //     }\r\n\r\n    //     const formData = new FormData()\r\n    //     formData.append('archivo', fileToUpload)\r\n\r\n    //     try {\r\n    //         const resp = await AppApi.put(`/uploadsimg/visitas/${visitaId}`, formData);\r\n    //         // dispatch({\r\n    //         //     type: 'registraUsuario',\r\n    //         //     payload: resp.data.modelo,\r\n    //         // })\r\n    //     } catch (error: any) {\r\n    //         registraNotification({\r\n    //             title: 'Error',\r\n    //             msg: error.response.data.msg,\r\n    //             type: 'error'\r\n    //         })\r\n    //     }\r\n\r\n    // }\r\n\r\n\r\n    const updateVisita = async (visita: any) => {\r\n        const dataSend = {\r\n            ...visita,\r\n            visitador: user?.uid,\r\n            pais: user?.pais,\r\n        }\r\n        try {\r\n            showProcesing()\r\n            const { data } = await AppApi.put<VisitaResponse>(`/visitas/${visita._id}`, dataSend);\r\n            if (data.ok) {\r\n                //Si todo sale bien\r\n                await cargaVisitas()\r\n                hideProcesing()\r\n                return {\r\n                    ok: true,\r\n                    msg: 'Actualizado con éxito'\r\n                }\r\n            } else {\r\n                hideProcesing()\r\n                return {\r\n                    ok: false,\r\n                    msg: data.msg\r\n                }\r\n            }\r\n        } catch (error: any) {\r\n            hideProcesing()\r\n            return {\r\n                ok: false,\r\n                msg: error.response.data.msg\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    const addProductoTransaccion = (detalle: ProductosTransaccion) => {\r\n        dispatch({\r\n            type: 'add-producto-transaccion',\r\n            payload: detalle\r\n        })\r\n    }\r\n\r\n    const deleteProductoTransaccion = (detalle: ProductosTransaccion) => {\r\n        dispatch({\r\n            type: 'delete-producto-transaccion',\r\n            payload: detalle\r\n        })\r\n    }\r\n\r\n    const prugaProductoTransaccion = () => {\r\n        dispatch({\r\n            type: 'purga-producto-transaccion',\r\n        })\r\n    }\r\n\r\n\r\n    const toMs = (dateStr: any) => {\r\n        const [year, month, day] = dateStr.split(\"-\")\r\n        return new Date(year, month - 1, day).getTime()\r\n    }\r\n\r\n\r\n    const cargaDataFilter = async ({ inicio, fin, uid, max, cliente } : DataFilterVisitasProps) => {\r\n        const start = moment(inicio).format('DD-MM-YYYY').toString()\r\n        const end = moment(fin).format('DD-MM-YYYY').toString()\r\n        const { data } = await AppApi.get<VisitasResponse>\r\n            (`/visitas/cliente/${uid}?inicio=${start}&final=${end}&limite=${max}&cliente=${cliente}&orden=asc`);\r\n            // console.log(data);\r\n            \r\n        if (data) {\r\n            dispatch({\r\n                type: 'add-visitasFilter',\r\n                payload: data.visitas\r\n            })            \r\n        } else {\r\n            dispatch({\r\n                type: 'remove-visitasFilter',\r\n            })\r\n        }\r\n    }\r\n\r\n    const purgaDataFilter  = () => {\r\n        dispatch({\r\n            type: 'remove-visitasFilter',\r\n        })    \r\n    }\r\n\r\n    const clearDataFilterIndex  = () => {\r\n        dispatch({\r\n            type: 'clear-visitasIndexFilter',\r\n        })    \r\n    }\r\n\r\n\r\n    const selecVisita  = (visita : Visita) => {\r\n        dispatch({\r\n            type: 'selecciona-visita',\r\n            payload: visita\r\n        })        \r\n    }\r\n\r\n    const setDataFilterIndex  = (index :  number) => {\r\n        dispatch({\r\n            type: 'set-visitaIndexFilter',\r\n            payload : index\r\n        })    \r\n    }\r\n\r\n    return (\r\n        <VisitaContext.Provider value={{\r\n            ...state,\r\n            addFiltrosVisita,\r\n            addProductoTransaccion,\r\n            cargaDataFilter,\r\n            cargaVisitas,\r\n            cargaVisitasFiltrado,\r\n            clearDataFilterIndex,\r\n            clearFiltrosVisita,\r\n            crearVisita,\r\n            deleteProductoTransaccion,\r\n            prugaProductoTransaccion,\r\n            purgaDataFilter,\r\n            purgaVisitaSeleccionado,\r\n            seleccionaVisita,\r\n            updateVisita,\r\n            selecVisita,\r\n            setDataFilterIndex\r\n        }}>\r\n            {children}\r\n        </VisitaContext.Provider>\r\n    )\r\n\r\n}","import { createContext, useContext, useEffect, useReducer } from 'react';\r\nimport AppApi from '../api/AppApi';\r\nimport { \r\n    ChildrenProps, \r\n    ClienteProductos, \r\n    Lote, \r\n    LoteAddData, \r\n    LotesAddResponse, \r\n    LotesResponse, \r\n    ProductoSaldo, \r\n    ProductosTransaccion, \r\n    ResponsePostTransaccion, \r\n    TransaccionInv, \r\n    TransaccionResponse \r\n} from '../interfaces/interfaces';\r\nimport { inventarioReducer, InventarioState } from '../reducers/inventarioReducer';\r\nimport { AuthContext } from './AuthContext';\r\nimport { MessagesContext } from './MessagesContext';\r\nimport { ProductoContext } from './ProductoContext';\r\nimport moment from 'moment';\r\nimport { AppContext } from './AppContext';\r\nimport { ClienteContext } from './ClienteContext';\r\nimport { VisitaContext } from './VisitaContext';\r\n\r\ntype InventarioContextProps = {\r\n    transacciones: TransaccionInv[],\r\n    transaccionSeleccionada: TransaccionInv | null,\r\n    lotes: Lote[]\r\n    loteSeleccionado: Lote | null,\r\n    productoSaldo: ProductoSaldo[]\r\n    productoSaldoMM: ProductoSaldo[]\r\n    productosTransaccion: ProductosTransaccion[]\r\n    productoscliente: ClienteProductos[],\r\n\r\n\r\n    cargaDataInventario: () => void\r\n    crearTransaccionEntrada: (dataSend: any) => void\r\n    crearTransaccionSalida: (visita: string) => void\r\n    addProductoTransaccion: (detalle: ProductosTransaccion) => void\r\n    deleteProductoTransaccion: (detalle: ProductosTransaccion) => void\r\n    seleccionaTransaccion: (transaccion: TransaccionInv) => void\r\n    prugaProductoTransaccion: () => void\r\n    addLote: (dataSend: LoteAddData) => void\r\n}\r\n\r\n\r\nconst initialState: InventarioState = {\r\n    transacciones: [],\r\n    transaccionSeleccionada: null,\r\n    lotes: [],\r\n    productoSaldo: [],\r\n    productoSaldoMM: [],\r\n    loteSeleccionado: null,\r\n    productosTransaccion: [],\r\n    productoscliente: [],\r\n\r\n}\r\n\r\nconst limite = 500;\r\n\r\nexport const InventarioContext = createContext({} as InventarioContextProps)\r\nexport const InventarioProvider = ({ children }: ChildrenProps) => {\r\n\r\n    const [state, dispatch] = useReducer(inventarioReducer, initialState)\r\n    const { status, user } = useContext(AuthContext)\r\n    const { productos } = useContext(ProductoContext)\r\n    const { state: stateApp, toogleUpdateSaldos, showProcesing , hideProcesing } = useContext(AppContext)\r\n\r\n    const { registraNotification } = useContext(MessagesContext)\r\n    const { clienteSeleccionado } = useContext(ClienteContext)\r\n    const { visitas } = useContext(VisitaContext)\r\n\r\n    const actualizaInventarios = () => {\r\n        productos.forEach(producto => {\r\n            // const lotesProducto = state.lotes.filter(lote => lote.producto._id === producto._id && lote.usuario._id === user?.uid)\r\n            const lotesProducto = state.lotes.filter(lote => lote.producto._id === producto._id)\r\n            if (lotesProducto.length > 0) {\r\n                lotesProducto.forEach(lote => {\r\n                    if (lote.saldo > 0) {\r\n                        const data = {\r\n                            ...producto,\r\n                            saldo: lote.saldo,\r\n                            lote: lote.lote,\r\n                            loteId: lote._id,\r\n                            vence: lote.lotevence,\r\n                            usuarioPropietario : lote.usuario._id\r\n                        }\r\n                        if (producto.original) {\r\n                            dispatch({\r\n                                type: 'add-producto-saldo-original',\r\n                                payload: data\r\n                            })\r\n                        } else {\r\n                            dispatch({\r\n                                type: 'add-producto-saldo-MM',\r\n                                payload: data\r\n                            })\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    const cargaProductosCliente = () => {\r\n        const visitasTem = visitas.filter(visita => visita.cliente._id === clienteSeleccionado?._id)\r\n        const data: ClienteProductos[] = [];\r\n        visitasTem.forEach(visita => {\r\n            const trasaccionesTem = state.transacciones.filter(transaccion => transaccion.visita === visita._id)\r\n            trasaccionesTem.forEach(transactTem => {\r\n                const { detalle: detalleItem } = transactTem\r\n                detalleItem.forEach(detail => {\r\n                    data.push({\r\n                        id: detail._id,\r\n                        fecha: transactTem.fecha,\r\n                        producto: detail.producto.nombre,\r\n                        lote: detail.lote._id,\r\n                        cantidad: detail.cantidad,\r\n                    })\r\n\r\n                })\r\n            })\r\n        }\r\n        )\r\n        dispatch({\r\n            type: 'carga-data-productosclientes',\r\n            payload: data\r\n        })\r\n    }\r\n\r\n    const cargaDataInventario = async () => {\r\n        const [transacciones, lotes] = await Promise.all([\r\n            AppApi.get<TransaccionResponse>(`/transacciones/all?limite=${limite}&desde=0`),\r\n            AppApi.get<LotesResponse>(`/lotes/all?limite=${limite}&desde=0`)\r\n\r\n        ])\r\n        const { data: dataTransacciones } = transacciones\r\n        const { data: dataLotes } = lotes\r\n        dispatch({\r\n            type: 'carga-data-transacciones',\r\n            payload: dataTransacciones.transaccionInv\r\n        })\r\n        dispatch({\r\n            type: 'carga-data-lotes',\r\n            payload: dataLotes.lotes\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (status === 'authenticated') {\r\n            cargaDataInventario()\r\n        }\r\n    }, [status])\r\n\r\n    useEffect(() => {\r\n        if (stateApp.updateSaldos) {\r\n            purgaSaldos()\r\n            cargaDataInventario()\r\n            actualizaInventarios()\r\n            toogleUpdateSaldos()\r\n        }\r\n    }, [stateApp.updateSaldos])\r\n\r\n    useEffect(() => {\r\n        if (clienteSeleccionado && visitas.length > 0) {\r\n            cargaProductosCliente()\r\n        } else {\r\n            dispatch({\r\n                type: 'purga-productoscliente'\r\n            })\r\n        }\r\n    }, [clienteSeleccionado])\r\n\r\n\r\n    useEffect(() => {\r\n        purgaSaldos()\r\n        actualizaInventarios()\r\n    }, [user, state.lotes, productos])\r\n\r\n    const purgaSaldos = () => {\r\n        dispatch({\r\n            type: 'purga-producto-saldo-original',\r\n        })\r\n        dispatch({\r\n            type: 'purga-producto-saldo-MM',\r\n        })\r\n    }\r\n\r\n\r\n\r\n    const addProductoTransaccion = (detalle: ProductosTransaccion) => {\r\n        dispatch({\r\n            type: 'add-producto-transaccion',\r\n            payload: detalle\r\n        })\r\n    }\r\n\r\n    const deleteProductoTransaccion = (detalle: ProductosTransaccion) => {\r\n        dispatch({\r\n            type: 'delete-producto-transaccion',\r\n            payload: detalle\r\n        })\r\n    }\r\n\r\n    const prugaProductoTransaccion = () => {\r\n        dispatch({\r\n            type: 'purga-producto-transaccion',\r\n        })\r\n    }\r\n\r\n    const seleccionaTransaccion = (transaccion: TransaccionInv) => {\r\n        dispatch({\r\n            type: 'selecciona-transaccion',\r\n            payload: transaccion\r\n        })\r\n    }\r\n\r\n\r\n    const crearTransaccionSalida = async (visita: string) => {\r\n        if (state.productosTransaccion) {\r\n            if (state.productosTransaccion.length > 0) {\r\n                const dataSend = {\r\n                    fecha: moment(),\r\n                    visita: visita,\r\n                    signo: -1,\r\n                    anotaciones: 'Entrega de Muestras',\r\n                    detalle: state.productosTransaccion\r\n                }\r\n                showProcesing()\r\n                await AppApi.post<ResponsePostTransaccion>(`/transacciones`, dataSend);\r\n                hideProcesing()\r\n            }\r\n        }\r\n    }\r\n\r\n    const crearTransaccionEntrada = async (dataSend: any) => {\r\n        try {\r\n            if (state.productosTransaccion && state.productosTransaccion.length > 0) {\r\n                showProcesing()\r\n                const { data } = await AppApi.post<ResponsePostTransaccion>(`/transaccionesweb`, dataSend);\r\n\r\n                //TODO  : Falta Procesar las Alertas\r\n                \r\n                if (data.ok) {\r\n                    const { data: aplicacion } = await AppApi.put<ResponsePostTransaccion>(`/transaccionesweb/aplica/${data.transaccionInv._id}`);\r\n                    if (!aplicacion.ok) {\r\n                        hideProcesing()\r\n                        registraNotification({\r\n                            type: 'error',\r\n                            title: 'Inventario',\r\n                            msg: aplicacion.msg\r\n                        })\r\n                    } else {\r\n                        hideProcesing()\r\n                        toogleUpdateSaldos()\r\n                        prugaProductoTransaccion()\r\n                        registraNotification({\r\n                            type: 'success',\r\n                            title: 'Inventario',\r\n                            msg: aplicacion.msg\r\n                        })\r\n                    }\r\n                } else {\r\n                    hideProcesing()\r\n                    registraNotification({\r\n                        type: 'error',\r\n                        title: 'Inventario',\r\n                        msg: data.msg\r\n                    })\r\n                }\r\n            } else {\r\n                hideProcesing()\r\n                registraNotification({\r\n                    type: 'error',\r\n                    title: 'Inventario',\r\n                    msg: 'No hay productos que cargar',\r\n                })\r\n            }\r\n        } catch (error: any) {\r\n            console.log(error);\r\n            hideProcesing()\r\n            registraNotification({\r\n                type: 'error',\r\n                title: 'Inventario',\r\n                msg: error.response.data.msg,\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    const addLote = async (dataSend: LoteAddData) => {\r\n        try {\r\n            showProcesing()\r\n            const { data } = await AppApi.post<LotesAddResponse>(`/Lotes`, dataSend);\r\n            \r\n            if (data.ok) {\r\n                await cargaDataInventario()\r\n                hideProcesing()\r\n                return {\r\n                    ok: true,\r\n                    msg: 'Lote registrado con éxito'\r\n                }\r\n            } else {\r\n                hideProcesing()\r\n                return {\r\n                    ok: false,\r\n                    msg: data.msg\r\n                }\r\n            }\r\n        } catch (error: any) {\r\n            hideProcesing()\r\n            return {\r\n                ok: false,\r\n                msg: error.response.data.msg\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <InventarioContext.Provider value={{\r\n            ...state,\r\n            cargaDataInventario,\r\n            crearTransaccionSalida,\r\n            addProductoTransaccion,\r\n            deleteProductoTransaccion,\r\n            prugaProductoTransaccion,\r\n            seleccionaTransaccion,\r\n            addLote,\r\n            crearTransaccionEntrada\r\n        }}>\r\n            {children}\r\n        </InventarioContext.Provider>\r\n    )\r\n\r\n}","\r\nimport {\r\n    Caracteristicas,\r\n    CaracteristicasTipo,\r\n    MasterDataResponse,\r\n    Pais,\r\n    Provincia,\r\n    Canton,\r\n    Distrito,\r\n    Barrio,\r\n    Param,\r\n    Usuario\r\n} from '../interfaces/interfaces';\r\n\r\n\r\nexport interface MasterDataState {\r\n    caracteristicasTipo: CaracteristicasTipo[];\r\n    caracteristicasTipoNewData: CaracteristicasTipo[];\r\n    caracteristricas: Caracteristicas[];\r\n    caracteristricasNewData: Caracteristicas[];\r\n    paises: Pais[];\r\n    paisesNewData: Pais[];\r\n    provincias: Provincia[];\r\n    provinciasNewData: Provincia[];\r\n    cantones: Canton[];\r\n    cantonesNewData: Canton[];\r\n    distritos: Distrito[];\r\n    distritosNewData: Distrito[];\r\n    barrios: Barrio[];\r\n    barriosNewData: Barrio[];\r\n    param: Param[];\r\n    paramNewData : Param[]\r\n    paramNewDataValores : Param[]\r\n}\r\n\r\nexport type masterDataActions =\r\n    | { type: 'set_master_data', payload: MasterDataResponse }\r\n    | { type: 'carga-param-newdata', payload: Param[] }\r\n    | { type: 'carga-param-newdata-valores', payload: Param[] }\r\n    | { type: 'purga-param-newdata' }\r\n    | { type: 'purga-param-newdata-valores' }\r\n    | { type: 'carga-param', payload: Param[] }\r\n\r\n    | { type: 'carga-paises-newdata', payload: Pais[] }\r\n    | { type: 'purga-paises-newdata' }\r\n    | { type: 'add-paises-newdata', payload: Pais }\r\n    | { type: 'update-paises-newdata', payload: Pais }\r\n\r\n    | { type: 'carga-provincias-newdata', payload: Provincia[] }\r\n    | { type: 'purga-provincias-newdata' }\r\n    | { type: 'add-provincias-newdata', payload: Provincia }\r\n    | { type: 'update-provincias-newdata', payload: Provincia }\r\n\r\n    | { type: 'carga-cantones-newdata', payload: Canton[] }\r\n    | { type: 'purga-cantones-newdata' }\r\n    | { type: 'add-cantones-newdata', payload: Canton }\r\n    | { type: 'update-cantones-newdata', payload: Canton }\r\n\r\n    | { type: 'carga-distritos-newdata', payload: Distrito[] }\r\n    | { type: 'purga-distritos-newdata' }\r\n    | { type: 'add-distritos-newdata', payload: Distrito }\r\n    | { type: 'update-distritos-newdata', payload: Distrito }\r\n\r\n    | { type: 'carga-barrios-newdata', payload: Barrio[] }\r\n    | { type: 'purga-barrios-newdata' }\r\n    | { type: 'add-barrios-newdata', payload: Barrio }\r\n    | { type: 'update-barrios-newdata', payload: Barrio }\r\n\r\n    | { type: 'carga-caracteristicasTipo-newdata', payload: CaracteristicasTipo[] }\r\n    | { type: 'purga-caracteristicasTipo-newdata' }\r\n    | { type: 'add-caracteristicasTipo-newdata', payload: CaracteristicasTipo }\r\n    | { type: 'update-caracteristicasTipo-newdata', payload: CaracteristicasTipo }\r\n\r\n    | { type: 'carga-caracteristicas-newdata', payload: Caracteristicas[] }\r\n    | { type: 'purga-caracteristicas-newdata' }\r\n    | { type: 'add-caracteristicas-newdata', payload: Caracteristicas }\r\n    | { type: 'update-caracteristicas-newdata', payload: Caracteristicas }\r\n\r\n    | { type: 'carga-visitaroresPais', payload: Usuario[] } //Accion para los visitadores por Pais\r\n\r\n\r\nexport const masterDataReducer = (state: MasterDataState, action: masterDataActions): MasterDataState => {\r\n\r\n    switch (action.type) {\r\n        case 'set_master_data':\r\n            return {\r\n                ...state,\r\n                caracteristicasTipo: action.payload.caracteristicasTipo,\r\n                caracteristricas: action.payload.caracteristricas,\r\n                paises: action.payload.paises,\r\n                provincias: action.payload.provincias,\r\n                cantones: action.payload.cantones,\r\n                distritos: action.payload.distritos,\r\n                barrios: action.payload.barrios,\r\n                param: action.payload.params,\r\n            }\r\n        case 'carga-param-newdata':\r\n            return {\r\n                ...state,\r\n                paramNewData: action.payload,\r\n            }\r\n        case 'carga-param-newdata-valores':\r\n            return {\r\n                ...state,\r\n                paramNewDataValores: action.payload,\r\n            }    \r\n        case 'purga-param-newdata':\r\n            return {\r\n                ...state,\r\n                paramNewData: [],\r\n            }\r\n        case 'purga-param-newdata-valores':\r\n            return {\r\n                ...state,\r\n                paramNewDataValores: [],\r\n            }                     \r\n        case 'carga-param':\r\n            return {\r\n                ...state,\r\n                param: action.payload,\r\n            }\r\n        \r\n        //Paises\r\n        \r\n        case 'carga-paises-newdata':\r\n            return {\r\n                ...state,\r\n                paisesNewData: action.payload,\r\n            }\r\n        case 'purga-paises-newdata':\r\n            return {\r\n                ...state,\r\n                paisesNewData: [],\r\n            }\r\n        case 'add-paises-newdata':\r\n            return {\r\n                ...state,\r\n                paises: [...state.paises, action.payload],\r\n            }\r\n        case 'update-paises-newdata':\r\n            return {\r\n                ...state,\r\n                paises: state.paises.map((e) => e._id === action.payload._id ? action.payload : e)\r\n            }                                                            \r\n\r\n        //Provincias\r\n        \r\n        case 'carga-provincias-newdata':\r\n            return {\r\n                ...state,\r\n                provinciasNewData: action.payload,\r\n            }\r\n        case 'purga-provincias-newdata':\r\n            return {\r\n                ...state,\r\n                provinciasNewData: [],\r\n            }\r\n        case 'add-provincias-newdata':\r\n            return {\r\n                ...state,\r\n                provincias: [...state.provincias, action.payload],\r\n            }\r\n        case 'update-provincias-newdata':\r\n            return {\r\n                ...state,\r\n                provincias: state.provincias.map((e) => e._id === action.payload._id ? action.payload : e)\r\n            } \r\n\r\n        //Cantones\r\n        \r\n        case 'carga-cantones-newdata':\r\n            return {\r\n                ...state,\r\n                cantonesNewData: action.payload,\r\n            }\r\n        case 'purga-cantones-newdata':\r\n            return {\r\n                ...state,\r\n                cantonesNewData: [],\r\n            }\r\n        case 'add-cantones-newdata':\r\n            return {\r\n                ...state,\r\n                cantones: [...state.cantones, action.payload],\r\n            }\r\n        case 'update-cantones-newdata':\r\n            return {\r\n                ...state,\r\n                cantones: state.cantones.map((e) => e._id === action.payload._id ? action.payload : e)\r\n            } \r\n\r\n        //Distritos\r\n        \r\n        case 'carga-distritos-newdata':\r\n            return {\r\n                ...state,\r\n                distritosNewData: action.payload,\r\n            }\r\n        case 'purga-distritos-newdata':\r\n            return {\r\n                ...state,\r\n                distritosNewData: [],\r\n            }\r\n        case 'add-distritos-newdata':\r\n            return {\r\n                ...state,\r\n                distritos: [...state.distritos, action.payload],\r\n            }\r\n        case 'update-distritos-newdata':\r\n            return {\r\n                ...state,\r\n                distritos: state.distritos.map((e) => e._id === action.payload._id ? action.payload : e)\r\n            } \r\n\r\n        //Barrios\r\n        \r\n        case 'carga-barrios-newdata':\r\n            return {\r\n                ...state,\r\n                barriosNewData: action.payload,\r\n            }\r\n        case 'purga-barrios-newdata':\r\n            return {\r\n                ...state,\r\n                barriosNewData: [],\r\n            }\r\n        case 'add-barrios-newdata':\r\n            return {\r\n                ...state,\r\n                barrios: [...state.barrios, action.payload],\r\n            }\r\n        case 'update-barrios-newdata':\r\n            return {\r\n                ...state,\r\n                barrios: state.barrios.map((e) => e._id === action.payload._id ? action.payload : e)\r\n            } \r\n\r\n        //Características Tipo\r\n        \r\n        case 'carga-caracteristicasTipo-newdata':\r\n            return {\r\n                ...state,\r\n                caracteristicasTipoNewData: action.payload,\r\n            }\r\n        case 'purga-caracteristicasTipo-newdata':\r\n            return {\r\n                ...state,\r\n                caracteristicasTipoNewData: [],\r\n            }\r\n        case 'add-caracteristicasTipo-newdata':\r\n            return {\r\n                ...state,\r\n                caracteristicasTipo: [...state.caracteristicasTipo, action.payload],\r\n            }\r\n        case 'update-caracteristicasTipo-newdata':\r\n            return {\r\n                ...state,\r\n                caracteristicasTipo: state.caracteristicasTipo.map((e) => e._id === action.payload._id ? action.payload : e)\r\n            } \r\n\r\n        //Características\r\n        \r\n        case 'carga-caracteristicas-newdata':\r\n            return {\r\n                ...state,\r\n                caracteristricasNewData: action.payload,\r\n            }\r\n        case 'purga-caracteristicas-newdata':\r\n            return {\r\n                ...state,\r\n                caracteristricasNewData: [],\r\n            }\r\n        case 'add-caracteristicas-newdata':\r\n            return {\r\n                ...state,\r\n                caracteristricas : [...state.caracteristricas, action.payload]\r\n            }\r\n        case 'update-caracteristicas-newdata':\r\n            return {\r\n                ...state,\r\n                caracteristricas: state.caracteristricas.map((e) => e._id === action.payload._id ? action.payload : e)\r\n            } \r\n            \r\n            \r\n        default:\r\n            return state\r\n    }\r\n\r\n}","import Swal from \"sweetalert2\";\r\n\r\nexport const viewErrors = (data: any) => {\r\n  const { msg, errors } = data;\r\n  // console.log(errors);\r\n  if (errors) {\r\n    var errores = \":\";\r\n    errors.map((error: any) => (errores += ` ${error.msg},`));\r\n    Swal.fire(\"Error\", msg + errores, \"error\");\r\n  } else {\r\n    Swal.fire(\"Error\", msg, \"error\");\r\n  }\r\n};\r\n\r\nexport const exitoFire = (texto = \"Exitoso\", time = 1500) => {\r\n  Swal.fire({\r\n    position: \"top-end\",\r\n    icon: \"success\",\r\n    title: texto,\r\n    showConfirmButton: false,\r\n    timer: time,\r\n    imageUrl:\r\n      \"https://res.cloudinary.com/desm1rvpy/image/upload/v1628353065/Infarma/logo/Logo-Infarma_fondo-trasnp_mnf6hl.png\",\r\n    imageWidth: 200,\r\n    imageHeight: 150,\r\n  });\r\n};\r\n\r\nexport const errorSimpleFire = (texto = \"Error\") => {\r\n  Swal.fire(\"Error\", texto, \"error\");\r\n};\r\n\r\nexport const exitoFireOK = (texto = \"Exitoso\") => {\r\n  Swal.fire({\r\n    icon: \"success\",\r\n    title: texto,\r\n    imageUrl:\r\n      \"https://res.cloudinary.com/desm1rvpy/image/upload/v1628353065/Infarma/logo/Logo-Infarma_fondo-trasnp_mnf6hl.png\",\r\n    imageWidth: 200,\r\n    imageHeight: 150,\r\n  });\r\n};\r\n\r\nexport const notificacionFire = (data: any) => {\r\n  const { msg, images } = data;\r\n  Swal.fire({\r\n    // icon: \"success\",\r\n    title: msg,\r\n    imageUrl: images,\r\n    imageWidth: 200,\r\n    imageHeight: 150,\r\n    showClass: {\r\n      popup: \"animate__animated animate__fadeInDown\",\r\n    },\r\n    hideClass: {\r\n      popup: \"animate__animated animate__fadeOutUp\",\r\n    },\r\n  });\r\n};\r\n\r\nexport const confirmDeleteFire = async (titulo: string) => {\r\n  let resultado;\r\n  await Swal.fire({\r\n    title: titulo,\r\n    showDenyButton: true,\r\n    // showCancelButton: true,\r\n    confirmButtonText: `Desactivar`,\r\n    denyButtonText: `Cancelar`,\r\n  }).then((result) => {\r\n    /* Read more about isConfirmed, isDenied below */\r\n    if (result.isConfirmed) {\r\n      resultado = true;\r\n    } else if (result.isDenied) {\r\n      resultado = false;\r\n    }\r\n  });\r\n  return resultado;\r\n};\r\n\r\nexport const confirmUpdateFire = async (titulo: string) => {\r\n  let resultado;\r\n  await Swal.fire({\r\n    title: titulo,\r\n    showDenyButton: true,\r\n    // showCancelButton: true,\r\n    confirmButtonText: `Actualizar`,\r\n    denyButtonText: `Cancelar`,\r\n  }).then((result) => {\r\n    /* Read more about isConfirmed, isDenied below */\r\n    if (result.isConfirmed) {\r\n      resultado = true;\r\n    } else if (result.isDenied) {\r\n      resultado = false;\r\n    }\r\n  });\r\n  return resultado;\r\n};\r\n\r\nexport const confirmCrearFire = async (titulo: string) => {\r\n  let resultado;\r\n  await Swal.fire({\r\n    title: titulo,\r\n    showDenyButton: true,\r\n    // showCancelButton: true,\r\n    confirmButtonText: `Crear`,\r\n    denyButtonText: `Cancelar`,\r\n  }).then((result) => {\r\n    /* Read more about isConfirmed, isDenied below */\r\n    if (result.isConfirmed) {\r\n      resultado = true;\r\n    } else if (result.isDenied) {\r\n      resultado = false;\r\n    }\r\n  });\r\n  return resultado;\r\n};\r\n\r\n// export const notificacionTimer = (title:string, mensaje:string, timer:number) => {\r\n//   let timerInterval:any;\r\n//   Swal.fire({\r\n//     title: title,\r\n//     html: mensaje,\r\n//     // html: \"I will close in <b></b> milliseconds.\",\r\n//     position: \"top-end\",\r\n//     timer: timer,\r\n//     timerProgressBar: true,\r\n//     didOpen: () => {\r\n//       Swal.showLoading();\r\n//       timerInterval = setInterval(() => {\r\n//         const content = Swal.getContent();\r\n//         if (content) {\r\n//           const b = content.querySelector(\"b\");\r\n//           if (b) {\r\n//             b.textContent = Swal.getTimerLeft();\r\n//           }\r\n//         }\r\n//       }, 100);\r\n//     },\r\n//     willClose: () => {\r\n//       clearInterval(timerInterval);\r\n//     },\r\n//   }).then((result) => {\r\n//     /* Read more about handling dismissals below */\r\n//     if (result.dismiss === Swal.DismissReason.timer) {\r\n//       console.log(\"I was closed by the timer\");\r\n//     }\r\n//   });\r\n// };\r\n","import { useContext, useEffect } from 'react'\r\nimport { createContext, useReducer } from \"react\";\r\nimport { AuthContext } from './AuthContext';\r\nimport AppApi from '../api/AppApi';\r\nimport {\r\n    Caracteristicas,\r\n    CaracteristicasTipo,\r\n    MasterDataResponse,\r\n    Pais,\r\n    Provincia,\r\n    Canton,\r\n    Distrito,\r\n    Barrio,\r\n    Param,\r\n    PaisesAddResponse,\r\n    ProvinciasAddResponse,\r\n    CantonesAddResponse,\r\n    DistritosAddResponse,\r\n    BarriosAddResponse,\r\n    CaracteristicasTipoAddResponse\r\n} from '../interfaces/interfaces';\r\nimport { masterDataReducer, MasterDataState } from '../reducers/masterDataReducer';\r\nimport { confirmCrearFire, confirmUpdateFire } from '../components/ui/messagesUI';\r\nimport { MessagesContext } from './MessagesContext';\r\nimport { AppContext } from './AppContext';\r\n\r\nexport const appInitialState: MasterDataState = {\r\n    caracteristicasTipo: [],\r\n    caracteristicasTipoNewData: [],\r\n    caracteristricas: [],\r\n    caracteristricasNewData: [],\r\n    paises: [],\r\n    paisesNewData: [],\r\n    provincias: [],\r\n    provinciasNewData: [],\r\n    cantones: [],\r\n    cantonesNewData: [],\r\n    distritos: [],\r\n    distritosNewData: [],\r\n    barrios: [],\r\n    barriosNewData: [],\r\n    param: [],\r\n    paramNewData: [],\r\n    paramNewDataValores: [],\r\n};\r\n\r\ninterface MasterDataContextProps {\r\n    caracteristicasTipo: CaracteristicasTipo[];\r\n    caracteristricas: Caracteristicas[];\r\n    paises: Pais[];\r\n    provincias: Provincia[];\r\n    cantones: Canton[];\r\n    distritos: Distrito[];\r\n    barrios: Barrio[];\r\n    param: Param[];\r\n    paramNewData: Param[];\r\n    cargaParamNewData: (data: Param[]) => void;\r\n    cargaParamNewDataValores: (data: Param[]) => void;\r\n    limpiaParamsNewData: () => void;\r\n    limpiaParamsNewDataValores: () => void;\r\n    actualizaParam: (index: number) => void;\r\n    actualizaParamValores: (index: number) => void;\r\n    cargaPaisesNewData: (data: Pais[]) => void;\r\n    limpiaPaisNewData: () => void;\r\n    actualizaPais: (index: number) => void;\r\n    crearPais: (pais: NewPais) => void;\r\n    cargaProvinciasNewData: (data: Provincia[]) => void;\r\n    limpiaProvinciaNewData: () => void;\r\n    actualizaProvincia: (index: number) => void;\r\n    crearProvincia: (pais: NewProvincia) => void;\r\n    cargaCantonesNewData: (data: Canton[]) => void;\r\n    limpiaCantonNewData: () => void;\r\n    actualizaCanton: (index: number) => void;\r\n    crearCanton: (pais: NewCanton) => void;\r\n    cargaDistritosNewData: (data: Distrito[]) => void;\r\n    limpiaDistritoNewData: () => void;\r\n    actualizaDistrito: (index: number) => void;\r\n    crearDistrito: (pais: NewDistrito) => void;\r\n    cargaBarriosNewData: (data: Barrio[]) => void;\r\n    limpiaBarriosNewData: () => void;\r\n    actualizaBarrios: (index: number) => void;\r\n    crearBarrios: (pais: NewBarrio) => void;    \r\n    cargaTipoCaracteristicaNewData: (data: CaracteristicasTipo[]) => void;\r\n    limpiaTipoCaracteristicaNewData: () => void;\r\n    crearTipoCaracteristica: (nombre: NewTipoCaracteristica) => void;\r\n    actualizaTipoCaracteristica: (index: number) => void;    \r\n    \r\n    cargaCaracteristicaNewData: (data: Caracteristicas[]) => void;\r\n    limpiaCaracteristicaNewData: () => void;\r\n    crearCaracteristica: (nombre: NewCaracteristica) => void;\r\n    actualizaCaracteristica: (index: number) => void;      \r\n}\r\n\r\ninterface NewPais {\r\n    nombre: string,\r\n    codigo: string\r\n}\r\n\r\ninterface NewProvincia {\r\n    nombre: string,\r\n    pais: string\r\n}\r\n\r\ninterface NewCanton {\r\n    nombre: string,\r\n    provincia: string\r\n}\r\n\r\ninterface NewDistrito {\r\n    nombre: string,\r\n    canton: string\r\n}\r\n\r\ninterface NewBarrio {\r\n    nombre: string,\r\n    distrito: string\r\n}\r\n\r\ninterface NewTipoCaracteristica {\r\n    nombre: string,\r\n}\r\n\r\ninterface NewCaracteristica {\r\n    nombre: string,\r\n    tipo : string\r\n}\r\n\r\nexport const MasterDataContext = createContext({} as MasterDataContextProps)\r\nexport const MasterDataProvider = ({ children }: any) => {\r\n\r\n    const [state, dispatch] = useReducer(masterDataReducer, appInitialState)\r\n    const { status } = useContext(AuthContext)\r\n    const { registraNotification } = useContext(MessagesContext)\r\n    const { showProcesing , hideProcesing} = useContext(AppContext)\r\n\r\n\r\n    useEffect(() => {\r\n        if (status === 'authenticated') {\r\n            cargaMasterData()\r\n        }\r\n    }, [status])\r\n\r\n    const cargaMasterData = async () => {\r\n        try {\r\n            const { data } = await AppApi.post<MasterDataResponse>(`/search/all`);\r\n\r\n            dispatch({\r\n                type: 'set_master_data',\r\n                payload: data\r\n            })\r\n        } catch (error: any) {\r\n            return {\r\n                ok: false,\r\n                msg: error.response.data.msg\r\n            }\r\n        }\r\n    }\r\n\r\n    //Parámetros\r\n\r\n    const cargaParamNewData  = (data : Param[]) => {\r\n        dispatch({\r\n            type: 'carga-param-newdata',\r\n            payload: data\r\n          })        \r\n    }\r\n\r\n    const limpiaParamsNewData  = () => {\r\n        dispatch({\r\n            type: 'purga-param-newdata',\r\n          }) \r\n    }\r\n\r\n    const cargaParamNewDataValores  = (data : Param[]) => {\r\n        dispatch({\r\n            type: 'carga-param-newdata-valores',\r\n            payload: data\r\n          })        \r\n    }\r\n\r\n    const limpiaParamsNewDataValores  = () => {\r\n        dispatch({\r\n            type: 'purga-param-newdata-valores',\r\n          }) \r\n    }\r\n\r\n    const actualizaParam  = async (index: number) => {\r\n        const resp = await confirmUpdateFire('Desea actualizar El Parámetro?')\r\n        if (resp) {\r\n            showProcesing()\r\n            const paramNuevo:Param = state.paramNewData[index]\r\n            const { data } = await AppApi.put<any>(`/parametros/${paramNuevo.id}`, {valor: paramNuevo.valor});\r\n            if(data.ok) {\r\n                registraNotification({\r\n                    title: 'Actualización',\r\n                    msg: data.msg + \", Los usuarios deben recargar la Aplicación\",\r\n                    type: 'success'\r\n                  })\r\n                  const { data : result } = await AppApi.post<MasterDataResponse>(`/search/all`);\r\n\r\n                  dispatch({\r\n                      type: 'set_master_data',\r\n                      payload: result\r\n                  })\r\n            } else {\r\n                registraNotification({\r\n                    title: 'Actualización',\r\n                    msg: data.msg,\r\n                    type: 'error'\r\n                  })                \r\n            }\r\n        }\r\n        hideProcesing()\r\n    }\r\n\r\n    const actualizaParamValores  = async (index: number) => {\r\n        const resp = await confirmUpdateFire('Desea actualizar El Parámetro?')\r\n        if (resp) {\r\n            showProcesing()\r\n            const paramNuevo:Param = state.paramNewDataValores[index]\r\n            const { data } = await AppApi.put<any>(`/parametros/${paramNuevo.id}`, {valor: paramNuevo.valor});\r\n            if(data.ok) {\r\n                registraNotification({\r\n                    title: 'Actualización',\r\n                    msg: data.msg + \", Los usuarios deben recargar la Aplicación\",\r\n                    type: 'success'\r\n                  })\r\n                  const { data : result } = await AppApi.post<MasterDataResponse>(`/search/all`);\r\n                  dispatch({\r\n                      type: 'set_master_data',\r\n                      payload: result\r\n                  })\r\n            } else {\r\n                registraNotification({\r\n                    title: 'Actualización',\r\n                    msg: data.msg,\r\n                    type: 'error'\r\n                  })                \r\n            }\r\n        }\r\n        hideProcesing()\r\n    }\r\n    //Paises\r\n\r\n    const cargaPaisesNewData  = (data: Pais[]) => {\r\n        dispatch({\r\n            type: 'carga-paises-newdata',\r\n            payload: data\r\n          }) \r\n    }\r\n\r\n    const limpiaPaisNewData  = () => {\r\n        dispatch({\r\n            type: 'purga-paises-newdata',\r\n          }) \r\n        \r\n    }\r\n\r\n    const crearPais  = async (dataSend: NewPais) => {\r\n        const resp = await confirmCrearFire('Desea crear el País?')\r\n        showProcesing()\r\n        if (resp) {\r\n            try {\r\n                const { data } = await AppApi.post<PaisesAddResponse>(`/paises`, dataSend);\r\n                if (data.ok) {\r\n                    const { data : result } = await AppApi.post<MasterDataResponse>(`/search/all`);\r\n                    dispatch({\r\n                        type: 'set_master_data',\r\n                        payload: result\r\n                    })\r\n                } else {\r\n                    registraNotification({\r\n                        title: 'Países',\r\n                        msg: data.msg,\r\n                        type: 'error'\r\n                    })             \r\n                }\r\n            } catch (error: any) {\r\n                registraNotification({\r\n                    title: 'Países',\r\n                    msg: error.response.data.msg,\r\n                    type: 'error'\r\n                })             \r\n            }\r\n        }\r\n        hideProcesing()\r\n    }\r\n\r\n    const actualizaPais  = async (index: number) => {\r\n        const resp = await confirmUpdateFire('Desea actualizar el País?')\r\n        if (resp) {\r\n            showProcesing()\r\n            const paisNuevo:Pais = state.paisesNewData[index]\r\n            const dataSend = {\r\n                nombre : paisNuevo.nombre,\r\n                codigo : paisNuevo.codigo,\r\n                gpsLat  : paisNuevo.gpsLat,\r\n                gpsLong : paisNuevo.gpsLong,\r\n            }\r\n            const { data } = await AppApi.put<any>(`/paises/${paisNuevo._id}`, dataSend);\r\n            if(data.ok) {\r\n                  const { data : result } = await AppApi.post<MasterDataResponse>(`/search/all`);\r\n                  dispatch({\r\n                      type: 'set_master_data',\r\n                      payload: result\r\n                  })\r\n            } else {\r\n                registraNotification({\r\n                    title: 'Actualización',\r\n                    msg: data.msg,\r\n                    type: 'error'\r\n                  })                \r\n            }\r\n        }\r\n        hideProcesing()\r\n    }\r\n\r\n    //Provincias\r\n    const cargaProvinciasNewData  = (data: Provincia[]) => {\r\n        dispatch({\r\n            type: 'carga-provincias-newdata',\r\n            payload: data\r\n          }) \r\n        \r\n    }\r\n\r\n    const limpiaProvinciaNewData  = () => {\r\n        dispatch({\r\n            type: 'purga-provincias-newdata',\r\n          }) \r\n        \r\n    }\r\n\r\n    const crearProvincia  = async (dataSend: NewProvincia) => {\r\n        const resp = await confirmCrearFire('Desea crear la Provincia?')\r\n        if (resp) {\r\n            showProcesing()\r\n            try {\r\n                const { data } = await AppApi.post<ProvinciasAddResponse>(`/provincias`, dataSend);\r\n                if (data.ok) {\r\n                    const { data : result } = await AppApi.post<MasterDataResponse>(`/search/all`);\r\n                    dispatch({\r\n                        type: 'set_master_data',\r\n                        payload: result\r\n                    })\r\n                } else {\r\n                    registraNotification({\r\n                        title: 'Provincias',\r\n                        msg: data.msg,\r\n                        type: 'error'\r\n                    })             \r\n                }\r\n            } catch (error: any) {\r\n                registraNotification({\r\n                    title: 'Provincias',\r\n                    msg: error.response.data.msg,\r\n                    type: 'error'\r\n                })             \r\n            }\r\n        }\r\n        hideProcesing()\r\n    }\r\n\r\n    const actualizaProvincia  = async (index: number) => {\r\n        const resp = await confirmUpdateFire('Desea actualizar la Provincia?')\r\n        if (resp) {\r\n            showProcesing()\r\n            const provinciaNuevo:Provincia = state.provinciasNewData[index]\r\n            const dataSend = {\r\n                nombre : provinciaNuevo.nombre,\r\n                pais : provinciaNuevo.pais,\r\n            }\r\n            const { data } = await AppApi.put<any>(`/provincias/${provinciaNuevo._id}`, dataSend);\r\n            if(data.ok) {\r\n                  const { data : result } = await AppApi.post<MasterDataResponse>(`/search/all`);\r\n                  dispatch({\r\n                      type: 'set_master_data',\r\n                      payload: result\r\n                  })\r\n            } else {\r\n                registraNotification({\r\n                    title: 'Actualización',\r\n                    msg: data.msg,\r\n                    type: 'error'\r\n                  })                \r\n            }\r\n        }\r\n        hideProcesing()\r\n    }\r\n\r\n    //Cantones\r\n    const cargaCantonesNewData  = (data: Canton[]) => {\r\n        dispatch({\r\n            type: 'carga-cantones-newdata',\r\n            payload: data\r\n          }) \r\n        \r\n    }\r\n\r\n    const limpiaCantonNewData  = () => {\r\n        dispatch({\r\n            type: 'purga-cantones-newdata',\r\n          }) \r\n        \r\n    }\r\n\r\n    const crearCanton = async (dataSend: NewCanton) => {\r\n        const resp = await confirmCrearFire('Desea crear el Cantón?')\r\n        if (resp) {\r\n            showProcesing()\r\n            try {\r\n                const { data } = await AppApi.post<CantonesAddResponse>(`/cantones`, dataSend);\r\n                if (data.ok) {\r\n                    const { data : result } = await AppApi.post<MasterDataResponse>(`/search/all`);\r\n                    dispatch({\r\n                        type: 'set_master_data',\r\n                        payload: result\r\n                    })\r\n                } else {\r\n                    registraNotification({\r\n                        title: 'Cantones',\r\n                        msg: data.msg,\r\n                        type: 'error'\r\n                    })             \r\n                }\r\n            } catch (error: any) {\r\n                registraNotification({\r\n                    title: 'Cantones',\r\n                    msg: error.response.data.msg,\r\n                    type: 'error'\r\n                })             \r\n            }\r\n        }\r\n        hideProcesing()\r\n    }\r\n\r\n    const actualizaCanton  = async (index: number) => {\r\n        const resp = await confirmUpdateFire('Desea actualizar el Cantón?')\r\n        if (resp) {\r\n            showProcesing()\r\n            const cantonNuevo:Canton = state.cantonesNewData[index]\r\n            const dataSend = {\r\n                nombre : cantonNuevo.nombre,\r\n                provincia : cantonNuevo.provincia,\r\n            }\r\n            const { data } = await AppApi.put<any>(`/cantones/${cantonNuevo._id}`, dataSend);\r\n            if(data.ok) {\r\n                  const { data : result } = await AppApi.post<MasterDataResponse>(`/search/all`);\r\n                  dispatch({\r\n                      type: 'set_master_data',\r\n                      payload: result\r\n                  })\r\n            } else {\r\n                registraNotification({\r\n                    title: 'Actualización',\r\n                    msg: data.msg,\r\n                    type: 'error'\r\n                  })                \r\n            }\r\n        }\r\n        hideProcesing()\r\n    }\r\n\r\n    //Distritos\r\n    const cargaDistritosNewData  = (data: Distrito[]) => {\r\n        dispatch({\r\n            type: 'carga-distritos-newdata',\r\n            payload: data\r\n          }) \r\n    }\r\n\r\n    const limpiaDistritoNewData  = () => {\r\n        dispatch({\r\n            type: 'purga-distritos-newdata',\r\n          }) \r\n        \r\n    }\r\n\r\n    const crearDistrito = async (dataSend: NewDistrito) => {\r\n        const resp = await confirmCrearFire('Desea crear el Distrito?')\r\n        if (resp) {\r\n            showProcesing()\r\n            try {\r\n                const { data } = await AppApi.post<DistritosAddResponse>(`/distritos`, dataSend);\r\n                if (data.ok) {\r\n                    const { data : result } = await AppApi.post<MasterDataResponse>(`/search/all`);\r\n                    dispatch({\r\n                        type: 'set_master_data',\r\n                        payload: result\r\n                    })\r\n                } else {\r\n                    registraNotification({\r\n                        title: 'Distritos',\r\n                        msg: data.msg,\r\n                        type: 'error'\r\n                    })             \r\n                }\r\n            } catch (error: any) {\r\n                registraNotification({\r\n                    title: 'Distritos',\r\n                    msg: error.response.data.msg,\r\n                    type: 'error'\r\n                })             \r\n            }\r\n        }\r\n        hideProcesing()\r\n    }\r\n\r\n    const actualizaDistrito  = async (index: number) => {\r\n        const resp = await confirmUpdateFire('Desea actualizar el Distrito?')\r\n        if (resp) {\r\n            showProcesing()\r\n            const distritoNuevo:Distrito = state.distritosNewData[index]\r\n            const dataSend = {\r\n                nombre : distritoNuevo.nombre,\r\n                canton : distritoNuevo.canton,\r\n            }\r\n            const { data } = await AppApi.put<any>(`/distritos/${distritoNuevo._id}`, dataSend);\r\n            if(data.ok) {\r\n                  const { data : result } = await AppApi.post<MasterDataResponse>(`/search/all`);\r\n                  dispatch({\r\n                      type: 'set_master_data',\r\n                      payload: result\r\n                  })\r\n            } else {\r\n                registraNotification({\r\n                    title: 'Actualización',\r\n                    msg: data.msg,\r\n                    type: 'error'\r\n                  })                \r\n            }\r\n        }\r\n        hideProcesing()\r\n    }\r\n\r\n    //Barrios\r\n    const cargaBarriosNewData  = (data: Barrio[]) => {\r\n        dispatch({\r\n            type: 'carga-barrios-newdata',\r\n            payload: data\r\n          }) \r\n        \r\n    }\r\n\r\n    const limpiaBarriosNewData  = () => {\r\n        dispatch({\r\n            type: 'purga-barrios-newdata',\r\n          }) \r\n        \r\n    }\r\n\r\n    const crearBarrios = async (dataSend: NewBarrio) => {\r\n        const resp = await confirmCrearFire('Desea crear el Barrio?')\r\n        if (resp) {\r\n            showProcesing()\r\n            try {\r\n                const { data } = await AppApi.post<BarriosAddResponse>(`/barrios`, dataSend);\r\n                if (data.ok) {\r\n                    const { data : result } = await AppApi.post<MasterDataResponse>(`/search/all`);\r\n                    dispatch({\r\n                        type: 'set_master_data',\r\n                        payload: result\r\n                    })\r\n                } else {\r\n                    registraNotification({\r\n                        title: 'Barrios',\r\n                        msg: data.msg,\r\n                        type: 'error'\r\n                    })             \r\n                }\r\n            } catch (error: any) {\r\n                registraNotification({\r\n                    title: 'Barrios',\r\n                    msg: error.response.data.msg,\r\n                    type: 'error'\r\n                })             \r\n            }\r\n        }\r\n        hideProcesing()\r\n    }\r\n\r\n    const actualizaBarrios  = async (index: number) => {\r\n        const resp = await confirmUpdateFire('Desea actualizar el Barrio?')\r\n        if (resp) {\r\n            showProcesing()\r\n            const barrioNuevo:Barrio = state.barriosNewData[index]\r\n            const dataSend = {\r\n                nombre : barrioNuevo.nombre,\r\n                distrito : barrioNuevo.distrito,\r\n            }\r\n            const { data } = await AppApi.put<any>(`/barrios/${barrioNuevo._id}`, dataSend);\r\n            if(data.ok) {\r\n                  const { data : result } = await AppApi.post<MasterDataResponse>(`/search/all`);\r\n\r\n                  dispatch({\r\n                      type: 'set_master_data',\r\n                      payload: result\r\n                  })\r\n            } else {\r\n                registraNotification({\r\n                    title: 'Actualización',\r\n                    msg: data.msg,\r\n                    type: 'error'\r\n                  })                \r\n            }\r\n        }\r\n        hideProcesing()\r\n    }\r\n\r\n    //Tipos de Características\r\n    const cargaTipoCaracteristicaNewData  = (data: CaracteristicasTipo[]) => {\r\n        dispatch({\r\n            type: 'carga-caracteristicasTipo-newdata',\r\n            payload: data\r\n          }) \r\n        \r\n    }\r\n\r\n    const limpiaTipoCaracteristicaNewData  = () => {\r\n        dispatch({\r\n            type: 'purga-caracteristicasTipo-newdata',\r\n          }) \r\n        \r\n    }\r\n\r\n    const crearTipoCaracteristica = async (dataSend: NewTipoCaracteristica) => {\r\n        const resp = await confirmCrearFire('Desea crear el Tipo de Característica?')\r\n        if (resp) {\r\n            showProcesing()\r\n            try {\r\n                const { data } = await AppApi.post<CaracteristicasTipoAddResponse>(`/tipocaracteristica`, dataSend);\r\n                if (data.ok) {\r\n                    const { data : result } = await AppApi.post<MasterDataResponse>(`/search/all`);\r\n                    dispatch({\r\n                        type: 'set_master_data',\r\n                        payload: result\r\n                    })\r\n                } else {\r\n                    registraNotification({\r\n                        title: 'Tipos de Características',\r\n                        msg: data.msg,\r\n                        type: 'error'\r\n                    })             \r\n                }\r\n            } catch (error: any) {\r\n                registraNotification({\r\n                    title: 'Tipos de Características',\r\n                    msg: error.response.data.msg,\r\n                    type: 'error'\r\n                })             \r\n            }\r\n        }\r\n        hideProcesing()\r\n    }\r\n\r\n    const actualizaTipoCaracteristica  = async (index: number) => {\r\n        const resp = await confirmUpdateFire('Desea actualizar el Tipo de Característica?')\r\n        if (resp) {\r\n            showProcesing()\r\n            const caracteristicasTipoNueno:CaracteristicasTipo = state.caracteristicasTipoNewData[index]\r\n            const dataSend = {\r\n                nombre : caracteristicasTipoNueno.nombre,\r\n            }\r\n            console.log({caracteristicasTipoNueno});\r\n            \r\n            const { data } = await AppApi.put<any>(`/tipocaracteristica/${caracteristicasTipoNueno._id}`, dataSend);\r\n            if(data.ok) {\r\n                console.log(data);\r\n                \r\n                  const { data : result } = await AppApi.post<MasterDataResponse>(`/search/all`);\r\n\r\n                  dispatch({\r\n                      type: 'set_master_data',\r\n                      payload: result\r\n                  })\r\n            } else {\r\n                registraNotification({\r\n                    title: 'Actualización',\r\n                    msg: data.msg,\r\n                    type: 'error'\r\n                  })                \r\n            }\r\n        }\r\n        hideProcesing()\r\n    }\r\n\r\n    //Tipos de Características\r\n    const cargaCaracteristicaNewData  = (data: Caracteristicas[]) => {\r\n        dispatch({\r\n            type: 'carga-caracteristicas-newdata',\r\n            payload: data\r\n          }) \r\n        \r\n    }\r\n\r\n    const limpiaCaracteristicaNewData  = () => {\r\n        dispatch({\r\n            type: 'purga-caracteristicas-newdata',\r\n          }) \r\n        \r\n    }\r\n\r\n    const crearCaracteristica = async (dataSend: NewCaracteristica) => {\r\n        const resp = await confirmCrearFire('Desea crear la Característica?')\r\n        if (resp) {\r\n            showProcesing()\r\n            try {\r\n                const { data } = await AppApi.post<CaracteristicasTipoAddResponse>(`/caracteristica`, dataSend);\r\n                if (data.ok) {\r\n                    const { data : result } = await AppApi.post<MasterDataResponse>(`/search/all`);\r\n                    dispatch({\r\n                        type: 'set_master_data',\r\n                        payload: result\r\n                    })\r\n                } else {\r\n                    registraNotification({\r\n                        title: 'Tipos de Características',\r\n                        msg: data.msg,\r\n                        type: 'error'\r\n                    })             \r\n                }\r\n            } catch (error: any) {\r\n                registraNotification({\r\n                    title: 'Tipos de Características',\r\n                    msg: error.response.data.msg,\r\n                    type: 'error'\r\n                })             \r\n            }\r\n        }\r\n        hideProcesing()\r\n    }\r\n\r\n    const actualizaCaracteristica  = async (index: number) => {\r\n        const resp = await confirmUpdateFire('Desea actualizar la Característica?')\r\n        if (resp) {\r\n            showProcesing()\r\n            const caracteristicasNuevo:Caracteristicas = state.caracteristricasNewData[index]\r\n            const dataSend = {\r\n                nombre : caracteristicasNuevo.nombre,\r\n                tipo : caracteristicasNuevo.tipo,\r\n            }\r\n            const { data } = await AppApi.put<any>(`/caracteristica/${caracteristicasNuevo._id}`, dataSend);\r\n            if(data.ok) {\r\n                  const { data : result } = await AppApi.post<MasterDataResponse>(`/search/all`);\r\n\r\n                  dispatch({\r\n                      type: 'set_master_data',\r\n                      payload: result\r\n                  })\r\n            } else {\r\n                registraNotification({\r\n                    title: 'Actualización',\r\n                    msg: data.msg,\r\n                    type: 'error'\r\n                  })                \r\n            }\r\n        }\r\n        hideProcesing()\r\n    }\r\n    \r\n    \r\n    return (\r\n        <MasterDataContext.Provider value={{\r\n            ...state,\r\n            cargaParamNewData,\r\n            cargaParamNewDataValores,\r\n            limpiaParamsNewData,\r\n            limpiaParamsNewDataValores,\r\n            actualizaParam,\r\n            actualizaParamValores,\r\n            cargaPaisesNewData,\r\n            limpiaPaisNewData,\r\n            actualizaPais,\r\n            crearPais,\r\n            cargaProvinciasNewData,\r\n            limpiaProvinciaNewData,\r\n            actualizaProvincia,\r\n            crearProvincia,\r\n            cargaCantonesNewData,\r\n            limpiaCantonNewData,\r\n            actualizaCanton,\r\n            crearCanton,\r\n            cargaDistritosNewData,\r\n            limpiaDistritoNewData,\r\n            actualizaDistrito,\r\n            crearDistrito,\r\n            cargaBarriosNewData,\r\n            limpiaBarriosNewData,\r\n            actualizaBarrios,\r\n            crearBarrios,\r\n            cargaTipoCaracteristicaNewData,\r\n            limpiaTipoCaracteristicaNewData,\r\n            crearTipoCaracteristica,\r\n            actualizaTipoCaracteristica,\r\n            cargaCaracteristicaNewData,\r\n            limpiaCaracteristicaNewData,\r\n            crearCaracteristica,\r\n            actualizaCaracteristica,\r\n        }}>\r\n            {children}\r\n        </MasterDataContext.Provider>\r\n    )\r\n\r\n}","\r\nimport { Usuario } from '../interfaces/interfaces';\r\nimport { Chat, Notificaciones } from '../interfaces/socketInterfaces';\r\n\r\n\r\nexport interface SocketState {\r\n    usuarios : Usuario[],\r\n    usuariosOnLine: Usuario[],\r\n    usuariosNewData: Usuario[],\r\n    total: number,\r\n    chat: Chat[],\r\n    chatNoLeido: Chat[],\r\n    chatActivo: string,\r\n\r\n    notificacionesEnviadas: Notificaciones[],\r\n    notificacionesRecibidas: Notificaciones[],\r\n    notificacionActiva: Notificaciones | null,\r\n    usuariosSeleccionados: Usuario[],\r\n    usuariosDisponibles: Usuario[],\r\n\r\n}\r\n\r\ninterface NotificacionesCarga {\r\n    notificacionesEnviadas: Notificaciones[]\r\n    notificacionesRecibidas: Notificaciones[]\r\n}\r\n\r\ntype SocketAction =\r\n    | { type: 'carga-usuarios', payload: Usuario[] }\r\n    | { type: 'carga-usuarios-online', payload: Usuario[] }\r\n    | { type: 'carga-usuarios-newdata', payload: Usuario[] }\r\n    | { type: 'purga-usuarios-online' }\r\n    | { type: 'purga-usuarios-newdata' }\r\n    | { type: 'carga-chats', payload: Chat[] }\r\n    | { type: 'purga-chats' }\r\n    | { type: 'activa-chat', payload: string }\r\n    | { type: 'reg-msg-chat', payload: Chat }\r\n    | { type: 'leido-msg-chat', payload: Chat }\r\n    | { type: 'no-leidos-msg-chat', payload: Chat[] }\r\n    | { type: 'carga-notifis', payload: NotificacionesCarga }  //Notificaciones\r\n    | { type: 'carga-notifis-recibidas', payload: Notificaciones[] }\r\n    | { type: 'carga-notifis-enviadas', payload: Notificaciones[] }\r\n    | { type: 'activa-notifi', payload: Notificaciones }\r\n    | { type: 'carga-all-destino-notifi', }\r\n    | { type: 'purga-destino-notifi', }\r\n    | { type: 'carga-destino-notifi', payload: Usuario }\r\n    | { type: 'elimina-destino-notifi', payload: Usuario }\r\n    | { type: 'carga-disponibles', }\r\n    | { type: 'agregar-disponible', payload: Usuario }\r\n    | { type: 'eliminar-disponible', payload: Usuario }\r\n    | { type: 'purgar-disponibles', }\r\n    | { type: 'actualiza-notifi-activa', payload: Notificaciones }\r\n\r\n    | { type: 'desactiva-notifi', }\r\n\r\nexport const socketReducer = (state: SocketState, action: SocketAction): SocketState => {\r\n\r\n    switch (action.type) {\r\n\r\n        case 'carga-usuarios':\r\n            return {\r\n                ...state,\r\n                usuarios: action.payload,\r\n            }                    \r\n        //Usuarios en linea\r\n\r\n        case 'carga-usuarios-online':\r\n            return {\r\n                ...state,\r\n                usuariosOnLine: action.payload,\r\n            }\r\n        case 'purga-usuarios-online':\r\n            return {\r\n                ...state,\r\n                usuariosOnLine: [],\r\n            }\r\n\r\n        // New Data de Usuarios\r\n        case 'carga-usuarios-newdata':\r\n            return {\r\n                ...state,\r\n                usuariosNewData: action.payload,\r\n            }\r\n        case 'purga-usuarios-newdata':\r\n            return {\r\n                ...state,\r\n                usuariosNewData: [],\r\n            }\r\n\r\n\r\n        ///Chat\r\n\r\n        case 'carga-chats':\r\n            return {\r\n                ...state,\r\n                chat: action.payload,\r\n            }\r\n        case 'purga-chats':\r\n            return {\r\n                ...state,\r\n                chat: [],\r\n            }\r\n        case 'activa-chat':\r\n            return {\r\n                ...state,\r\n                chatActivo: action.payload,\r\n            }\r\n        case 'reg-msg-chat':\r\n            return {\r\n                ...state,\r\n                chat: [...state.chat, action.payload],\r\n            }\r\n        case 'leido-msg-chat':\r\n            return {\r\n                ...state,\r\n                chat: (state.chat.map((e) =>\r\n                    e._id === action.payload._id ? action.payload : e\r\n                ))\r\n            };\r\n        case 'no-leidos-msg-chat':\r\n            return {\r\n                ...state,\r\n                chatNoLeido: action.payload,\r\n            }\r\n\r\n        //Notificaciones\r\n        case 'carga-notifis':\r\n            return {\r\n                ...state,\r\n                notificacionesEnviadas: action.payload.notificacionesEnviadas,\r\n                notificacionesRecibidas: action.payload.notificacionesRecibidas,\r\n            };\r\n        case 'carga-notifis-recibidas':\r\n            return {\r\n                ...state,\r\n                notificacionesRecibidas: action.payload,\r\n            };\r\n        case 'carga-notifis-enviadas':\r\n            return {\r\n                ...state,\r\n                notificacionesEnviadas: action.payload,\r\n            };\r\n        case 'activa-notifi':\r\n            return {\r\n                ...state,\r\n                notificacionActiva: action.payload,\r\n            };\r\n        case 'carga-all-destino-notifi':\r\n            return {\r\n                ...state,\r\n                usuariosSeleccionados: state.usuariosOnLine,\r\n            };\r\n        case 'purga-destino-notifi':\r\n            return {\r\n                ...state,\r\n                usuariosSeleccionados: [],\r\n            };\r\n        case 'carga-destino-notifi':\r\n            return {\r\n                ...state,\r\n                usuariosSeleccionados: [...state.usuariosSeleccionados, action.payload],\r\n            };\r\n        case 'elimina-destino-notifi':\r\n            return {\r\n                ...state,\r\n                usuariosSeleccionados: (state.usuariosSeleccionados.filter((e) =>\r\n                    e.uid !== action.payload.uid\r\n                ))\r\n            };\r\n\r\n        case 'carga-disponibles':\r\n            return {\r\n                ...state,\r\n                usuariosDisponibles: state.usuariosOnLine\r\n            };\r\n        case 'agregar-disponible':\r\n            return {\r\n                ...state,\r\n                usuariosDisponibles: [...state.usuariosDisponibles, action.payload],\r\n            };\r\n        case 'eliminar-disponible':\r\n            return {\r\n                ...state,\r\n                usuariosDisponibles: (state.usuariosDisponibles.filter((e) =>\r\n                    e.uid !== action.payload.uid\r\n                ))\r\n            };\r\n        case 'purgar-disponibles':\r\n            return {\r\n                ...state,\r\n                usuariosDisponibles: []\r\n            };\r\n        case 'actualiza-notifi-activa':\r\n            return {\r\n                ...state,\r\n                notificacionActiva: action.payload,\r\n            };\r\n        //Default\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}","import { createContext, useContext, useEffect, useReducer } from 'react';\r\nimport moment from 'moment';\r\nimport AppApi from '../api/AppApi';\r\nimport { confirmDeleteFire, confirmUpdateFire } from '../components/ui/messagesUI';\r\nimport { ChildrenProps, Usuario } from '../interfaces/interfaces';\r\nimport { Chat, Notificaciones, NotificationsResponse } from '../interfaces/socketInterfaces';\r\nimport { useSocket } from '../hooks/useSocket';\r\nimport { socketReducer, SocketState } from '../reducers/socketReducer';\r\nimport { AuthContext } from './AuthContext';\r\nimport { MessagesContext } from './MessagesContext';\r\n\r\ninterface DataNewUsuario {\r\n  nombre: string,\r\n  password: string,\r\n  correo: string,\r\n  rol: string,\r\n  pais: string,\r\n}\r\n\r\ntype SocketsContextProps = {\r\n  usuarios : Usuario[]\r\n  usuariosOnLine: Usuario[],\r\n  usuariosNewData: Usuario[],\r\n  total: number,\r\n  chat: Chat[],\r\n  chatNoLeido: Chat[],\r\n  chatActivo: string | null,\r\n  notificacionesEnviadas: Notificaciones[],\r\n  notificacionesRecibidas: Notificaciones[],\r\n  notificacionActiva: Notificaciones | null,\r\n  usuariosSeleccionados: Usuario[],\r\n  usuariosDisponibles: Usuario[],\r\n\r\n  activaChat: (uid?: string) => void;\r\n  enviarMensaje: (mensaje: Chat) => void;\r\n  chatLeido: (mensaje: Chat) => void;\r\n  leidoChat: (mensaje: Chat) => void;\r\n  activaNotifi: (notifi: Notificaciones) => void;\r\n  selecDestinatario: (user: Usuario) => void;\r\n  noSelecDestinatario: (user: Usuario) => void;\r\n  selecAllDestinatarios: () => void;\r\n  purgaAllDestinatarios: () => void;\r\n  setDisponibles: () => void;\r\n  addDisponible: (users: Usuario) => void;\r\n  delDisponible: (users: Usuario) => void;\r\n  purgDisponible: () => void;\r\n  sedNotifications: (title: string, notes: string) => void;\r\n  notiLeida: (notifi: Notificaciones) => void;\r\n  cargaUsuariosNewData: (usuarios: Usuario[]) => void;\r\n  limpiaUsuariosNewData: () => void;\r\n  actualizaUsuario: (index: number) => void;\r\n  eliminaUsuario: (index: number) => void;\r\n  crearUsuario: (usuario: DataNewUsuario) => void;\r\n}\r\n\r\nconst initialState: SocketState = {\r\n  usuarios: [],\r\n  usuariosOnLine: [],\r\n  usuariosNewData: [],\r\n  total: 0,\r\n  chat: [],\r\n  chatNoLeido: [],\r\n  chatActivo: '',\r\n  notificacionesEnviadas: [],\r\n  notificacionesRecibidas: [],\r\n  usuariosSeleccionados: [],\r\n  notificacionActiva: null,\r\n  usuariosDisponibles: [],\r\n}\r\n\r\nexport const SocketContext = createContext({} as SocketsContextProps);\r\nexport const SocketProvider = ({ children }: ChildrenProps) => {\r\n  const { socket, conectarSocket, desconectarSocket } = useSocket()\r\n  const [state, dispatch] = useReducer(socketReducer, initialState)\r\n  const { status, user, token } = useContext(AuthContext)\r\n  const { registraNotification } = useContext(MessagesContext)\r\n\r\n\r\n    //USUARIOS\r\n    const registraUsuarios = (usuarios: Usuario[]) => {\r\n      const Usuarios: Usuario[] = usuarios.filter(\r\n        (usuario) => usuario.rol !== \"NEW_USER_ROLE\" \r\n      );\r\n      dispatch({\r\n        type: 'carga-usuarios',\r\n        payload: Usuarios\r\n      });\r\n\r\n    };\r\n\r\n    const registraUsuariosOnline = (usuarios: Usuario[], id: string) => {\r\n      const UsuariosOnLine: Usuario[] = usuarios.filter(\r\n        (usuario) => usuario.rol !== \"NEW_USER_ROLE\" && usuario.uid !== id,\r\n      );\r\n      dispatch({\r\n        type: 'carga-usuarios-online',\r\n        payload: UsuariosOnLine\r\n      });\r\n    };\r\n  \r\n    const limpiaUsuariosOnline = () => {\r\n      dispatch({\r\n        type: 'purga-usuarios-online'\r\n      });\r\n    };\r\n\r\n    \r\n  //LISTENERS\r\n\r\n  //CONEXION/DESCONEXION\r\n  useEffect(() => {\r\n    //Conectar el Socket cuando el usuario se logea\r\n    if (status === 'authenticated') {\r\n      registraNotification({\r\n        title: 'Conexión',\r\n        msg: `Se conectó al servicio RealTime de Infarma`,\r\n        type: 'success'\r\n      })\r\n      // const token = localStorage.getItem(\"token\");\r\n      conectarSocket(token!);\r\n    }\r\n  }, [status]);\r\n\r\n  useEffect(() => {\r\n    //Desconectar el Socket cuando el usuario se desconecta\r\n    if (status !== 'authenticated') {\r\n\r\n      registraNotification({\r\n        title: 'Conexión',\r\n        msg: 'Se desconectó del servicio RealTime',\r\n        type: 'info'\r\n      })\r\n      desconectarSocket();\r\n      limpiaUsuariosOnline();\r\n    }\r\n  }, [status]);\r\n\r\n  useEffect(() => {\r\n    //Escuchar los cambios en los Usuarios Conectados\r\n    if (status === 'authenticated') {\r\n      socket?.on(\"lista-usuarios\", (usuarios: any) => {\r\n        registraUsuariosOnline(usuarios, user!.uid);\r\n        registraUsuarios(usuarios)\r\n      });\r\n    }\r\n  }, [socket]);\r\n\r\n  // CHAT\r\n  useEffect(() => {\r\n    //Emitir solicitud cuando se selecciona un chat\r\n    if (status === 'authenticated' && state.chatActivo !== '') {\r\n      const payload = {\r\n        miId: user?.uid,\r\n        mensajesDe: state.chatActivo,\r\n      };\r\n      socket?.emit(\"obtener-chat\", payload);\r\n    } else {\r\n      dispatch({ type: 'purga-chats' })\r\n    }\r\n  }, [state.chatActivo, status])\r\n\r\n  useEffect(() => {\r\n    //Escuchar la respuesta de la solicitud cuando se selecicona un chat\r\n    if (status === 'authenticated') {\r\n      socket?.on(\"obtener-chat\", (resp: any) => {\r\n        if (resp.ok) {\r\n          cargarChat(resp.chat);\r\n        }\r\n      });\r\n    }\r\n  }, [socket, status]);\r\n\r\n  useEffect(() => {\r\n    //Escuchar los mensajes enviados por otros usuarios\r\n    socket?.on(\"mensaje-personal\", (resp: any) => {\r\n      if (resp.ok) {\r\n        dispatch({\r\n          type: 'reg-msg-chat',\r\n          payload: resp.mensaje\r\n        })\r\n      }\r\n    });\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket?.on(\"chat-leido\", (resp: any) => {\r\n      if (resp.ok) {\r\n        leidoChat(resp.mensajes);\r\n      }\r\n    });\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket?.on(\"chat-no-leido\", (resp: any) => {\r\n      if (resp.ok) {\r\n        dispatch({\r\n          type: 'no-leidos-msg-chat',\r\n          payload: resp.chatSinLeer\r\n        })\r\n\r\n      }\r\n    });\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    if (state.chatNoLeido.length > 0) {\r\n      if (state.chatActivo === null || state.chatActivo === '') {\r\n        registraNotification({\r\n          title: 'Chat',\r\n          msg: 'Tiene actividad en el chat o mensajes sin leer, verifique...!',\r\n          type: 'info'\r\n        })\r\n      }\r\n    }\r\n  }, [state.chatNoLeido,])\r\n\r\n  //NOTIFICACIONES\r\n  useEffect(() => {\r\n    socket?.on(\"tus-notificaciones-todas\", (resp: NotificationsResponse) => {\r\n      dispatch({\r\n        type: 'carga-notifis',\r\n        payload: {\r\n          notificacionesEnviadas: resp.notificacionesEnviadas,\r\n          notificacionesRecibidas: resp.notificacionesRecibidas\r\n        },\r\n      });\r\n    });\r\n  }, [socket]);\r\n\r\n\r\n  useEffect(() => {\r\n    socket?.on(\"tus-notificaciones-recibidas\", (resp: NotificationsResponse) => {\r\n      if (resp.ok) {\r\n        dispatch({\r\n          type: 'carga-notifis-recibidas',\r\n          payload: resp.notificacionesRecibidas\r\n        });\r\n      }\r\n    });\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket?.on(\"tus-notificaciones-enviadas\", (resp: NotificationsResponse) => {\r\n      if (resp.ok) {\r\n        dispatch({\r\n          type: 'carga-notifis-enviadas',\r\n          payload: resp.notificacionesEnviadas\r\n        });\r\n      }\r\n    });\r\n  }, [socket]);\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    socket?.on(\"resp-notifi-leida\", (resp: any) => {\r\n      if (resp.ok) {\r\n        updateNotiSelected(resp.notificacion);\r\n      }\r\n    });\r\n  }, [socket]);\r\n\r\n\r\n  useEffect(() => {\r\n    socket?.on(\"resp-notifi\", (resp: any) => {\r\n      if (resp.ok) {\r\n        registraNotification({\r\n          title: 'Mensaje',\r\n          msg: resp.msg,\r\n          type: 'success'\r\n        })\r\n        purgaAllDestinatarios();\r\n      } else {\r\n        registraNotification({\r\n          title: 'Mensaje',\r\n          msg: resp.msg,\r\n          type: 'error'\r\n        })\r\n      }\r\n    });\r\n  }, [socket]);\r\n\r\n\r\n  useEffect(() => {\r\n    socket?.on(\"notifi-personal\", (resp: any) => {\r\n      if (resp.ok) {\r\n        registraNotification({\r\n          title: 'Mensaje',\r\n          msg: resp.msg,\r\n          type: 'success'\r\n        })\r\n      }\r\n    });\r\n  }, [socket]);\r\n\r\n  //ACCIONES\r\n\r\n\r\n  //CHAT\r\n  const activaChat = (uid: string = '') => {\r\n    dispatch({\r\n      type: 'activa-chat',\r\n      payload: uid,\r\n    });\r\n  }\r\n\r\n  const cargarChat = (chat: Chat[]) => {\r\n    dispatch({\r\n      type: 'carga-chats',\r\n      payload: chat\r\n    })\r\n  }\r\n\r\n  const enviarMensaje = (msg: Chat) => {\r\n    socket.emit(\"mensaje-personal\", msg)\r\n  }\r\n\r\n  const chatLeido = (msg: Chat) => {\r\n    socket.emit(\"chat-leido\", msg);\r\n  };\r\n\r\n  const leidoChat = (chat: Chat) => {\r\n    dispatch({\r\n      type: 'leido-msg-chat',\r\n      payload: chat,\r\n    });\r\n  };\r\n\r\n  //NOTIFICACIONES\r\n  const activaNotifi = (notifi: Notificaciones) => {\r\n    dispatch({\r\n      type: 'activa-notifi',\r\n      payload: notifi,\r\n    })\r\n  }\r\n\r\n  const selecAllDestinatarios = () => {\r\n    dispatch({\r\n      type: 'carga-all-destino-notifi',\r\n    })\r\n  }\r\n\r\n  const purgaAllDestinatarios = () => {\r\n    dispatch({\r\n      type: 'purga-destino-notifi',\r\n    })\r\n  }\r\n\r\n  const selecDestinatario = (user: Usuario) => {\r\n    dispatch({\r\n      type: 'carga-destino-notifi',\r\n      payload: user,\r\n    })\r\n  }\r\n\r\n  const noSelecDestinatario = (user: Usuario) => {\r\n    dispatch({\r\n      type: 'elimina-destino-notifi',\r\n      payload: user,\r\n    })\r\n  }\r\n\r\n  const setDisponibles = () => {\r\n    dispatch({\r\n      type: 'carga-disponibles'\r\n    })\r\n  }\r\n  const addDisponible = (user: Usuario) => {\r\n    dispatch({\r\n      type: 'agregar-disponible',\r\n      payload: user,\r\n    })\r\n  }\r\n  const delDisponible = (user: Usuario) => {\r\n    dispatch({\r\n      type: 'eliminar-disponible',\r\n      payload: user,\r\n    })\r\n  }\r\n  const purgDisponible = () => {\r\n    dispatch({\r\n      type: 'purgar-disponibles',\r\n    })\r\n  }\r\n\r\n  const sedNotifications = (title: string, notes: string) => {\r\n    let seleccionados: any = [];\r\n    state.usuariosSeleccionados.map((usuario) =>\r\n      seleccionados.push({ uid: usuario.uid, correo: usuario.correo })\r\n    );\r\n    const data = {\r\n      title: title,\r\n      notes: notes,\r\n      para: seleccionados,\r\n      de: user?.uid,\r\n      fechaenviado: moment(),\r\n    };\r\n    socket.emit(\"enviar-notificacion\", data);\r\n    purgaAllDestinatarios()\r\n    setDisponibles()\r\n  }\r\n\r\n  const notiLeida = (notifi: Notificaciones) => {\r\n    socket.emit(\"notificacion-leida\", notifi);\r\n  }\r\n\r\n  const updateNotiSelected = (notifi: Notificaciones) => {\r\n    dispatch({\r\n      type: 'actualiza-notifi-activa',\r\n      payload: notifi\r\n    })\r\n  }\r\n\r\n  const cargaUsuariosNewData = (usuarios: Usuario[]) => {\r\n    dispatch({\r\n      type: 'carga-usuarios-newdata',\r\n      payload: usuarios\r\n    })\r\n  }\r\n\r\n  const limpiaUsuariosNewData = () => {\r\n    dispatch({\r\n      type: 'purga-usuarios-newdata',\r\n    })\r\n  }\r\n\r\n  const actualizaUsuario = async (index: number) => {\r\n    const resp = await confirmUpdateFire('Desea actualizar datos del Usuario?')\r\n    if (resp) {\r\n      // const usuarioOriginal = state.usuariosOnLine[index]\r\n      const usuarioNuevo = state.usuariosNewData[index]\r\n      const payload = { usuario: usuarioNuevo }\r\n      socket?.emit(\"update-usuario\", payload);\r\n      socket?.emit(\"lista-usuarios\");\r\n    }\r\n  }\r\n\r\n  const eliminaUsuario = async (index: number) => {\r\n    const resp = await confirmDeleteFire('Desea desactivar el Usuario?')\r\n    if (resp) {\r\n      const usuarioDelete = state.usuariosNewData[index]\r\n      const payload = { usuario: usuarioDelete }\r\n      socket?.emit(\"delete-usuario\", payload);\r\n      socket?.emit(\"lista-usuarios\");\r\n    }\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    socket?.on(\"resultado-usuario\", (resp: any) => {\r\n      if (resp.ok) {\r\n        if (resp.ok) {\r\n          registraNotification({\r\n            title: 'Actualización de Usuario',\r\n            msg: resp.msg,\r\n            type: 'success'\r\n          })\r\n        } else {\r\n          registraNotification({\r\n            title: 'Actualización de Usuario',\r\n            msg: resp.msg,\r\n            type: 'error'\r\n          })\r\n        }\r\n      }\r\n    });\r\n  }, [socket]);\r\n\r\n\r\n  //\"lista-Usuarios\"\r\n\r\n\r\n  const crearUsuario = async (usuario: DataNewUsuario) => {\r\n    try {\r\n      const { data } = await AppApi.post<any>(`/usuarios`, usuario);\r\n      if (data.ok) {\r\n        socket?.emit(\"lista-usuarios\");\r\n        registraNotification({\r\n          title: 'Creación de Usuario',\r\n          msg: data.msg,\r\n          type: 'success'\r\n        })\r\n      } else {\r\n        registraNotification({\r\n          title: 'Creación de Usuario',\r\n          msg: data.msg,\r\n          type: 'error'\r\n        })\r\n      }\r\n    } catch (error: any) {\r\n      registraNotification({\r\n        title: 'Creación de Usuario',\r\n        msg: error.response.data.msg,\r\n        type: 'error'\r\n      })\r\n    }\r\n  }\r\n\r\n  //RETURN\r\n  return (\r\n    <SocketContext.Provider value={{\r\n      ...state,\r\n      activaChat,\r\n      enviarMensaje,\r\n      chatLeido,\r\n      leidoChat,\r\n      activaNotifi,\r\n      selecDestinatario,\r\n      noSelecDestinatario,\r\n      selecAllDestinatarios,\r\n      purgaAllDestinatarios,\r\n      setDisponibles,\r\n      addDisponible,\r\n      delDisponible,\r\n      purgDisponible,\r\n      sedNotifications,\r\n      notiLeida,\r\n      cargaUsuariosNewData,\r\n      limpiaUsuariosNewData,\r\n      actualizaUsuario,\r\n      eliminaUsuario,\r\n      crearUsuario,\r\n    }}>\r\n      {children}\r\n    </SocketContext.Provider>\r\n\r\n  )\r\n\r\n}","import { useCallback, useEffect, useState } from \"react\";\r\nimport { io } from \"socket.io-client\";\r\n//http://192.168.2.17:8080\r\nexport const useSocket = (serverPath: string = 'https://dif-visita-med.herokuapp.com') => {\r\n// export const useSocket = (serverPath: string = process.env.REACT_APP_API_URL) => {\r\n  // export const useSocket = (serverPath: string = 'http://192.168.2.17:8080') => {\r\n  // export const useSocket = (serverPath: string = 'http://192.168.100.131:8080') => {\r\n  const [socket, setSocket] = useState<any>();\r\n  const [onLine, setOnLine] = useState(false);\r\n\r\n  const conectarSocket = useCallback((token: string) => {\r\n    const socketTemp = io(serverPath, {\r\n      transports: [\"websocket\"],\r\n      autoConnect: true,\r\n      forceNew: true,\r\n      query: {\r\n        \"x-token\": token,\r\n      },\r\n    });\r\n    setSocket(socketTemp);\r\n    setOnLine(true)\r\n  }, [serverPath]);\r\n\r\n  const desconectarSocket = useCallback(() => {\r\n    setOnLine(false)\r\n    socket?.disconnect();\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    setOnLine(socket?.connected);\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket?.on('connect', () => {\r\n      console.log(\"Conectado\");\r\n      setOnLine(true)\r\n    });\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket?.on('disconnect', () => {\r\n      console.log(\"Desconectado\");\r\n      setOnLine(false)\r\n    });\r\n  }, [socket]);\r\n\r\n  return {\r\n    socket,\r\n    onLine,\r\n    desconectarSocket,\r\n    conectarSocket,\r\n  };\r\n};\r\n","export default \"data:image/png;base64,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\"","import {useEffect, useState} from 'react';\r\nimport { Divider, Link } from \"@material-ui/core\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Link as LinkRouter } from 'react-router-dom';\r\n\r\n\r\nimport logo from \"../../../assets/logo1.png\";\r\nimport { Pais, Provincia, Canton, Distrito, Barrio, stylesMap, Lote } from '../../../interfaces/interfaces';\r\nimport moment from 'moment';\r\n\r\ninterface PropsText {\r\n  label: string;\r\n  name: string;\r\n  value?: string;\r\n  callBack: (value: string) => void;\r\n  onBlur?: () => void;\r\n}\r\n\r\ninterface PropsDateTime {\r\n  label: string;\r\n  name: string;\r\n  value?: any;\r\n  callBack: (value: string) => void;\r\n  onBlur?: () => void;\r\n}\r\n\r\ninterface PropsNumber {\r\n  label: string;\r\n  name: string;\r\n  value?: number;\r\n  callBack: (value: string) => void;\r\n  onBlur?: () => void;\r\n}\r\n\r\ninterface PropsTextTable {\r\n  name: string;\r\n  value?: string;\r\n  callBack: (value: string) => void;\r\n  onBlur?: () => void;\r\n\r\n}\r\n\r\ninterface PropsTextView {\r\n  label: string;\r\n  value?: string;\r\n}\r\n\r\n\r\ninterface PropsSelectPaisTable {\r\n  name: string;\r\n  value?: string;\r\n  callBack: (value: string) => void;\r\n  data: Pais[];\r\n  onBlur?: () => void;\r\n}\r\n\r\ninterface PropsSelectProvinciaTable {\r\n  name: string;\r\n  value?: string;\r\n  callBack: (value: string) => void;\r\n  data: Provincia[];\r\n  onBlur?: () => void;\r\n}\r\n\r\ninterface PropsSelectCantonTable {\r\n  name: string;\r\n  value?: string;\r\n  callBack: (value: string) => void;\r\n  data: Canton[];\r\n  onBlur?: () => void;\r\n}\r\n\r\ninterface PropsSelectDistritoTable {\r\n  name: string;\r\n  value?: string;\r\n  callBack: (value: string) => void;\r\n  data: Distrito[];\r\n  onBlur?: () => void;\r\n}\r\n\r\ninterface PropsSelectBarrioTable {\r\n  name: string;\r\n  value: string;\r\n  callBack: (value: string) => void;\r\n  data: Barrio[];\r\n  onBlur?: () => void;\r\n}\r\n\r\ninterface PropsSelectItemTable {\r\n  name: string;\r\n  value?: string;\r\n  callBack: (value: string) => void;\r\n  data: any;\r\n  onBlur?: () => void;\r\n}\r\n\r\ninterface PropsSelectItem {\r\n  label: string;\r\n  name: string;\r\n  value?: string;\r\n  callBack: (value: string) => void;\r\n  data: any;\r\n}\r\n\r\ninterface PropsSelectLote {\r\n  label: string;\r\n  name: string;\r\n  value?: string;\r\n  callBack: (value: string) => void;\r\n  data: Lote[];\r\n}\r\n\r\ninterface PropsSelectPais {\r\n  label: string,\r\n  name: string;\r\n  value?: string;\r\n  callBack: (value: string) => void;\r\n  data: Pais[];\r\n}\r\n\r\ninterface PropsSelectProvincia {\r\n  label: string,\r\n  name: string;\r\n  value?: string;\r\n  callBack: (value: string) => void;\r\n  data: Provincia[];\r\n}\r\n\r\ninterface PropsSelectCanton {\r\n  label: string,\r\n  name: string;\r\n  value?: string;\r\n  callBack: (value: string) => void;\r\n  data: Canton[];\r\n}\r\n\r\ninterface PropsSelectDistrito {\r\n  label: string,\r\n  name: string;\r\n  value?: string;\r\n  callBack: (value: string) => void;\r\n  data: Distrito[];\r\n}\r\n\r\ninterface PropsSelectBarrio {\r\n  label: string,\r\n  name: string;\r\n  value?: string;\r\n  callBack: (value: string) => void;\r\n  data: Barrio[];\r\n}\r\nexport const LogoEmm = () => {\r\n  return <img src={logo} alt=\"Logo\" width=\"250\" height=\"150\" />;\r\n};\r\n\r\nexport const ExternalLink = ({ url, img, label }) => {\r\n  return (\r\n    <>\r\n      <Link className=\"divrow\" target=\"_blank\" href={url}>\r\n        <img alt={label} src={img} className=\"imgIco ml-2 mt-2\" />\r\n        <h6 className=\"ml-2\">{label}</h6>\r\n      </Link>\r\n      <Divider />\r\n    </>\r\n  );\r\n};\r\n\r\n\r\nexport const TextControlArea  = ({ label, name, value, callBack }: PropsText) => {\r\n  return (\r\n    <div>\r\n      <label className='imput_box_label' >\r\n        {label}:\r\n      </label>\r\n      <textarea\r\n        className='imput_box_box_textarea'\r\n        rows={5}\r\n        name={name}\r\n        placeholder={label}\r\n        value={value}\r\n        onChange={(e) => callBack(e.target.value)}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport const TextControl = ({ label, name, value, callBack }: PropsText) => {\r\n  return (\r\n    <div className='imput_box_container' >\r\n      <label className='imput_box_label' >\r\n        {label}:\r\n      </label>\r\n      <input\r\n        className='form-control  imput_box_box'\r\n        type=\"text\"\r\n        name={name}\r\n        placeholder={label}\r\n        value={value}\r\n        onChange={(e) => callBack(e.target.value)}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n\r\nexport const DateTimeControl = ({ label, name, value, callBack }: PropsDateTime) => {\r\n\r\n  const initialValue = moment(value).format(\"DD/MM/YYYY\").toString()\r\n  const [dateTime, setDateTime] = useState(initialValue)\r\n\r\n  const handleUpdate  = (e:string) => {\r\n    const dateTMP = moment(e).format(\"DD/MM/YYYY\").toString()\r\n    setDateTime(dateTMP)\r\n    \r\n\r\n  }\r\n\r\n  useEffect(() => {\r\n    callBack(dateTime.toString())\r\n  }, [dateTime, callBack])\r\n\r\n  return (\r\n    <div className='imput_box_container' >\r\n      <label className='imput_box_label' >\r\n        {label}:\r\n      </label>\r\n      <input\r\n        className='imput_box_box'\r\n        type='date'\r\n        name={name}\r\n        placeholder={label}\r\n        value={dateTime.toString()}\r\n        onChange={(e) => handleUpdate(e.target.value)}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport const TextControlNum = ({ label, name, value, callBack }: PropsNumber) => {\r\n  return (\r\n    <div className='imput_box_container'>\r\n      <label className='imput_box_label' >\r\n        {label}\r\n      </label>\r\n      <input\r\n        className='form-control imput_box_box'\r\n        type=\"number\"\r\n        name={name}\r\n        placeholder={label}\r\n        value={value}\r\n        onChange={(e) => callBack(e.target.value)}\r\n        style={{width: 100}}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const TextControlNum2 = ({ label, name, value, callBack }: PropsNumber) => {\r\n  return (\r\n    <div className='mr-4'>\r\n      <label >\r\n        {label}\r\n      </label>\r\n      <input\r\n        className='form-control imput_box_box'\r\n        type=\"number\"\r\n        name={name}\r\n        placeholder={label}\r\n        value={value}\r\n        onChange={(e) => callBack(e.target.value)}\r\n        style={{width: 100}}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const TextControlNumCol = ({ label, name, value, callBack }: PropsNumber) => {\r\n  return (\r\n    <div>\r\n      <label >\r\n        {label}\r\n      </label>\r\n      <input\r\n        className='form-control imput_box_box'\r\n        type=\"number\"\r\n        name={name}\r\n        placeholder={label}\r\n        value={value}\r\n        onChange={(e) => callBack(e.target.value)}\r\n        style={{width: 100}}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport const TextControlEmail = ({ label, name, value, callBack }: PropsText) => {\r\n  return (\r\n    <div className='imput_box_container' >\r\n      <label className='imput_box_label' >\r\n        {label}:\r\n      </label>\r\n      <input\r\n        className='imput_box_box'\r\n        type=\"email\"\r\n        name={name}\r\n        placeholder={label}\r\n        value={value}\r\n        onChange={(e) => callBack(e.target.value)}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const TextControlPass = ({ label, name, value, callBack }: PropsText) => {\r\n  return (\r\n    <div className=\"imput_box_container\">\r\n      <label className='imput_box_label' >\r\n        {label}:\r\n      </label>\r\n      <input\r\n        type=\"password\"\r\n        className='imput_box_box'\r\n        name={name}\r\n        placeholder={label}\r\n        value={value}\r\n        onChange={(e) => callBack(e.target.value)}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const TextControlView = ({ label, value }: PropsTextView) => {\r\n  return (\r\n    <div className=\"input-group col-md-12\" style={{ alignItems: \"center\" }}>\r\n      <label className=\"mr-2  col-md-2\" style={{ textAlign: \"end\" }}>\r\n        {label}:\r\n      </label>\r\n      <input\r\n        type=\"text\"\r\n        className=\"form-control mr-2 col-md-8\"\r\n        value={value}\r\n        disabled\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const RoleControlSelect = ({ label, name, value, callBack }: PropsText) => {\r\n  return (\r\n    <div className=\"imput_box_container\" >\r\n      <label className=\"imput_box_label\">\r\n        {label}:\r\n      </label>\r\n      <select\r\n        className='imput_box_box'\r\n        name={name}\r\n        value={value}\r\n        onChange={(e) => callBack(e.target.value)}\r\n      >\r\n        <option value=\"NEW_USER_ROLE\">Nuevo Usuario</option>\r\n        <option value=\"SUPER_ADMIN_ROLE\">Super Administrador</option>\r\n        <option value=\"ADMIN_ROLE\">Administrador</option>\r\n        <option value=\"JEF_VIS_ROLE\">Jefe de Visita</option>\r\n        <option value=\"JEF_AGE_ROLE\">Jefe de Ventas</option>\r\n        <option value=\"VIS_USER_ROLE\">Visitador Médico</option>\r\n        <option value=\"AGE_USER_ROLE\">Agente de Ventas</option>\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const RoleControlTable = ({ name, value, callBack, onBlur }: PropsTextTable) => {\r\n  return (\r\n    <div className=\"input-group\" style={{ alignItems: \"center\", width: 250 }}>\r\n      <select\r\n        className=\"form-control\"\r\n        name={name}\r\n        value={value}\r\n        onChange={(e) => callBack(e.target.value)}\r\n        onBlur={onBlur}\r\n      >\r\n        <option value=\"NEW_USER_ROLE\">Nuevo Usuario</option>\r\n        <option value=\"SUPER_ADMIN_ROLE\">Super Administrador</option>\r\n        <option value=\"ADMIN_ROLE\">Administrador</option>\r\n        <option value=\"JEF_VIS_ROLE\">Jefe de Visita</option>\r\n        <option value=\"JEF_AGE_ROLE\">Jefe de Ventas</option>\r\n        <option value=\"VIS_USER_ROLE\">Visitador Médico</option>\r\n        <option value=\"AGE_USER_ROLE\">Agente de Ventas</option>\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport const SelectItemTable = ({ name, value, callBack, data, onBlur }: PropsSelectItemTable) => {\r\n  return (\r\n    \r\n    <div className=\"input-group\" style={{ alignItems: \"center\", width: 425 }}>\r\n      <select\r\n        className=\"form-control\"\r\n        name={name}\r\n        value={value}\r\n        onChange={(e) => callBack(e.target.value)}\r\n        onBlur={onBlur}\r\n      >\r\n        {data.map((item) => (\r\n          <option key={item._id} value={item._id}>\r\n            {`Tipo: ${item.nombre} | Valor: ${item.nombre}`}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\n// export const SelectItem = ({ label, name, value, callBack, data }: PropsSelectItem) => {\r\n//   return (\r\n//     <div >\r\n//       <label >\r\n//         {label}\r\n//       </label>\r\n//       <select\r\n//         className='form-control imput_box_box'\r\n//         name={name}\r\n//         value={value}\r\n//         onChange={(e) => callBack(e.target.value)}\r\n//       >\r\n//         <option value=\"0\">Seleccione un Valor</option>\r\n//         {data.map((item) => (\r\n//           <option key={item._id} value={item._id}>\r\n//             {item.nombre}\r\n//           </option>\r\n//         ))}\r\n//       </select>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\nexport const SelectItem = ({ label, name, value, callBack, data }: PropsSelectItem) => {\r\n  return (\r\n    <div  >\r\n      <label >\r\n        {label}\r\n      </label>\r\n      <select\r\n        className='form-control imput_box_box'\r\n        name={name}\r\n        value={value}\r\n        onChange={(e) => callBack(e.target.value)}\r\n      >\r\n        <option value=\"0\">Seleccione un Valor</option>\r\n        {data.map((item) => (\r\n          <option key={item._id} value={item._id}>\r\n            {item.nombre}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const SelectLote = ({ label, name, value, callBack, data }: PropsSelectItem) => {\r\n\r\n  return (\r\n    <div  >\r\n      <label >\r\n        {label}\r\n      </label>\r\n      <select\r\n        className='form-control imput_box_box'\r\n        name={name}\r\n        value={value}\r\n        onChange={(e) => callBack(e.target.value)}\r\n      >\r\n        <option value=\"0\">Seleccione un Valor</option>\r\n        {data.map((item) => (\r\n          <option key={item._id} value={item._id}>\r\n            {`${item.lote} | ${item.saldo} | ${moment(item.lotevence).format(\"MM-YY\")}`}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n// ${moment(item.lotevence).format(\"MM-YY\")}\r\nexport const SelectVisitador = ({ label, name, value, callBack, data }: PropsSelectItem) => {\r\n\r\n  return (\r\n    <div >\r\n      <label >\r\n        {label}\r\n      </label>\r\n      <select\r\n        className='form-control imput_box_box'\r\n        name={name}\r\n        value={value}\r\n        onChange={(e) => callBack(e.target.value)}\r\n      >\r\n        <option value=\"0\">Seleccione un Valor</option>\r\n        {data.map((item) => (\r\n          <option key={item.uid} value={item.uid}>\r\n            {item.nombre}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport const SelectItemTabla2 = ({ name, value, callBack, data, onBlur }: PropsSelectItemTable) => {\r\n  return (\r\n    <div className=\"input-group\" style={{ alignItems: \"center\", width: 225 }}>\r\n      <select\r\n        className='form-control'\r\n        name={name}\r\n        value={value}\r\n        onChange={(e) => callBack(e.target.value)}\r\n        onBlur={onBlur}        \r\n      >\r\n        <option value=\"0\">Seleccione un Valor</option>\r\n        {data.map((item) => (\r\n          <option key={item._id} value={item._id}>\r\n            {item.nombre}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport const SelectDateddMM = ({ label, name, value, callBack }) => {\r\n  return (\r\n    <div className=\"input-group\" style={{ alignItems: \"center\" }}>\r\n      <label className=\"mr-2 col-md-4\" style={{ textAlign: \"end\" }}>\r\n        {label}\r\n      </label>\r\n      <DatePicker\r\n        className=\"form-control col-md-5\"\r\n        onChange={callBack}\r\n        name={name}\r\n        selected={value}\r\n        dateFormat=\"dd/MM\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const SelectDateddMMyyyy = ({ label, name, value, callBack }) => {\r\n  return (\r\n    <div>\r\n      <label>\r\n        {label}\r\n      </label>\r\n      <DatePicker\r\n        className=\"form-control col-md-11\"\r\n        onChange={callBack}\r\n        name={name}\r\n        selected={value}\r\n        dateFormat=\"dd/MM/yyyy\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport const SelectPais = ({ label, name, value, callBack, data }: PropsSelectPais) => {\r\n  return (\r\n    <div className=\"imput_box_container\" >\r\n      <label className=\"imput_box_label\">\r\n        {label}:\r\n      </label>\r\n      <select\r\n        className='form-control imput_box_box'\r\n        name={name}\r\n        value={value}\r\n        onChange={(e) => callBack(e.target.value)}\r\n      >\r\n        <option value=\"0\">Seleccione un Valor</option>\r\n        {data.map((item) => (\r\n          <option key={item._id} value={item._id}>\r\n            {item.nombre}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const SelectPaisTable = ({ name, value, callBack, data, onBlur }: PropsSelectPaisTable) => {\r\n  return (\r\n    <div className=\"input-group\" style={{ alignItems: \"center\", width: 250 }}>\r\n      <select\r\n        className=\"form-control\"\r\n        name={name}\r\n        value={value}\r\n        onChange={(e) => callBack(e.target.value)}\r\n        onBlur={onBlur}\r\n      >\r\n        {data.map((item) => (\r\n          <option key={item._id} value={item._id}>\r\n            {item.nombre}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const SelectProvincia = ({ label, name, value, callBack, data }: PropsSelectProvincia) => {\r\n  return (\r\n    <div className=\"imput_box_container\" >\r\n      <label className=\"imput_box_label\">\r\n        {label}:\r\n      </label>\r\n      <select\r\n        className='form-control imput_box_box'\r\n        name={name}\r\n        value={value}\r\n        onChange={(e) => callBack(e.target.value)}\r\n      >\r\n        <option value=\"0\">Seleccione un Valor</option>\r\n        {data.map((item) => (\r\n          <option key={item._id} value={item._id}>\r\n            {item.nombre}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const SelectProvinciaTable = ({ name, value, callBack, data, onBlur }: PropsSelectProvinciaTable) => {\r\n  return (\r\n    <div className=\"input-group\" style={{ alignItems: \"center\", width: 250 }}>\r\n      <select\r\n        className=\"form-control\"\r\n        name={name}\r\n        value={value}\r\n        onChange={(e) => callBack(e.target.value)}\r\n        onBlur={onBlur}\r\n      >\r\n        {data.map((item) => (\r\n          <option key={item._id} value={item._id}>\r\n            {item.nombre}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const SelectCanton = ({ label, name, value, callBack, data }: PropsSelectCanton) => {\r\n  return (\r\n    <div className=\"imput_box_container\" >\r\n      <label className=\"imput_box_label\">\r\n        {label}:\r\n      </label>\r\n      <select\r\n        className='form-control imput_box_box'\r\n        name={name}\r\n        value={value}\r\n        onChange={(e) => callBack(e.target.value)}\r\n      >\r\n        <option value=\"0\">Seleccione un Valor</option>\r\n        {data.map((item) => (\r\n          <option key={item._id} value={item._id}>\r\n            {item.nombre}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const SelectCantonTable = ({ name, value, callBack, data, onBlur }: PropsSelectCantonTable) => {\r\n  return (\r\n    <div className=\"input-group\" style={{ alignItems: \"center\", width: 250 }}>\r\n      <select\r\n        className=\"form-control\"\r\n        name={name}\r\n        value={value}\r\n        onChange={(e) => callBack(e.target.value)}\r\n        onBlur={onBlur}\r\n      >\r\n        {data.map((item) => (\r\n          <option key={item._id} value={item._id}>\r\n            {item.nombre}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const SelectDistrito = ({ label, name, value, callBack, data }: PropsSelectDistrito) => {\r\n  return (\r\n    <div className=\"imput_box_container\" >\r\n      <label className=\"imput_box_label\">\r\n        {label}:\r\n      </label>\r\n      <select\r\n        className='form-control imput_box_box'\r\n        name={name}\r\n        value={value}\r\n        onChange={(e) => callBack(e.target.value)}\r\n      >\r\n        <option value=\"0\">Seleccione un Valor</option>\r\n        {data.map((item) => (\r\n          <option key={item._id} value={item._id}>\r\n            {item.nombre}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const SelectDistritoTable = ({ name, value, callBack, data, onBlur }: PropsSelectDistritoTable) => {\r\n  return (\r\n    <div className=\"input-group\" style={{ alignItems: \"center\", width: 250 }}>\r\n      <select\r\n        className=\"form-control\"\r\n        name={name}\r\n        value={value}\r\n        onChange={(e) => callBack(e.target.value)}\r\n        onBlur={onBlur}\r\n      >\r\n        {data.map((item) => (\r\n          <option key={item._id} value={item._id}>\r\n            {item.nombre}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const SelectBarrio = ({ label, name, value, callBack, data }: PropsSelectBarrio) => {\r\n  return (\r\n    <div className=\"imput_box_container\" >\r\n      <label className=\"imput_box_label\">\r\n        {label}:\r\n      </label>\r\n      <select\r\n        className='form-control imput_box_box'\r\n        name={name}\r\n        value={value}\r\n        onChange={(e) => callBack(e.target.value)}\r\n      >\r\n        <option value=\"0\">Seleccione un Valor</option>\r\n        {data.map((item) => (\r\n          <option key={item._id} value={item._id}>\r\n            {item.nombre}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const SelectBarrioTable = ({ name, value, callBack, data, onBlur }: PropsSelectBarrioTable) => {\r\n  return (\r\n    <div className=\"input-group\" style={{ alignItems: \"center\", width: 250 }}>\r\n      <select\r\n        className=\"form-control\"\r\n        name={name}\r\n        value={value}\r\n        onChange={(e) => callBack(e.target.value)}\r\n        onBlur={onBlur}\r\n      >\r\n        {data.map((item) => (\r\n          <option key={item._id} value={item._id}>\r\n            {item.nombre}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\ntype colors = 'blue' |\r\n              'green' |\r\n              'red' | \r\n              'yellow' | \r\n              'purple' | \r\n              'black' |\r\n              'orange' |\r\n              'grey' |\r\n              'darkblue'\r\ntype typeBtn = 'small' | \r\n              'mid' | \r\n              'large'\r\n\r\n\r\ninterface BtnProps {\r\n  label : string,\r\n  callBack: () => void,\r\n  icon? : string,\r\n  color? : colors,\r\n  style? : React.CSSProperties\r\n}\r\n\r\ninterface BtnCustonProps {\r\n  label : string,\r\n  callBack: () => void,\r\n  icon? : string,\r\n  type? : typeBtn,\r\n  color? : colors,\r\n  style? : React.CSSProperties\r\n  disabled? : boolean\r\n  to? : string\r\n}\r\n\r\ninterface BtnCustonPropsCallBack {\r\n  label : string,\r\n  callBack: (e: any) => void,\r\n  icon? : string,\r\n  type? : typeBtn,\r\n  color? : colors,\r\n  style? : React.CSSProperties\r\n  disabled? : boolean\r\n  to? : string\r\n}\r\n\r\n\r\nexport const BtnEnter = ({\r\n  label, \r\n  callBack, \r\n  icon, \r\n  color = 'blue', \r\n  style={}\r\n} : BtnProps) => {\r\n\r\n  return (\r\n    <button \r\n      className= {`ml-4 mr-4 mt-3 btn-${color}`}\r\n      onClick={callBack} \r\n      style={{\r\n        ...style\r\n      }}\r\n    >\r\n      {label}\r\n      {\r\n        icon && (\r\n          <i\r\n            className={`${icon} btn-ico`}\r\n          />\r\n        )\r\n      }\r\n    </button>\r\n  )\r\n}\r\n\r\nexport const BtnExit = ({\r\n  label, \r\n  callBack, \r\n  icon = 'mouse', \r\n  type = 'mid'\r\n} : BtnCustonProps) => {\r\n  return (\r\n    <button \r\n      className={`btn-exit-${type} ml-5 mt-1`}\r\n      onClick={callBack}   \r\n    >\r\n      <span>{label}</span>\r\n      <span>\r\n        {icon ? (\r\n          <i\r\n            className={`${icon} btn-ico`}\r\n          />\r\n        ) : (\r\n          <a>Click...!</a>\r\n        )}      \r\n      </span>\r\n    </button>            \r\n  )\r\n}\r\n\r\nexport const BtnTypeEnter = ({\r\n  label, \r\n  callBack, \r\n  icon = 'mouse', \r\n  type = 'mid', \r\n  color = 'blue', \r\n  disabled = false,\r\n  style = {}\r\n} : BtnCustonProps) => {\r\n  return (\r\n    <button \r\n      className={`btn-${color}-${type} ml-1 mt-1`}\r\n      onClick={callBack}   \r\n      disabled={disabled}\r\n      style={style}\r\n    >\r\n      <span>{label}</span>\r\n      <span>\r\n        {icon ? (\r\n          <i\r\n            className={`${icon} btn-ico`}\r\n          />\r\n        ) : (\r\n          <a>Click...!</a>\r\n        )}      \r\n      </span>\r\n    </button>            \r\n  )\r\n}\r\n\r\nexport const BtnTypeEnterCallBack = ({\r\n  label, \r\n  callBack, \r\n  icon = 'mouse', \r\n  type = 'mid', \r\n  color = 'blue', \r\n  disabled = false,\r\n  style = {}\r\n} : BtnCustonPropsCallBack) => {\r\n  return (\r\n    <button \r\n      className={`btn-${color}-${type} ml-1 mt-1`}\r\n      onClick={callBack}   \r\n      disabled={disabled}\r\n      style={style}\r\n    >\r\n      <span>{label}</span>\r\n      <span>\r\n        {icon ? (\r\n          <i\r\n            className={`${icon} btn-ico`}\r\n          />\r\n        ) : (\r\n          <a>Click...!</a>\r\n        )}      \r\n      </span>\r\n    </button>            \r\n  )\r\n}\r\n\r\nexport const BtnTypeEnterInvert = ({\r\n  label, \r\n  callBack, \r\n  icon = 'mouse', \r\n  type = 'mid', \r\n  color = 'blue', \r\n  disabled = false,\r\n  style = {}\r\n} : BtnCustonProps) => {\r\n  return (\r\n    <button \r\n      className={`btn-${color}-${type} ml-1 mt-1`}\r\n      onClick={callBack}   \r\n      disabled={disabled}\r\n      style={style}\r\n    >\r\n      <span>\r\n        {icon ? (\r\n          <i\r\n            className={`${icon} btn-ico`}\r\n          />\r\n        ) : (\r\n          <a>Click...!</a>\r\n        )}      \r\n      </span>\r\n      <span>{label}</span>\r\n\r\n    </button>            \r\n  )\r\n}\r\n\r\nexport const BtnTypeLink = ({\r\n  label, \r\n  callBack, \r\n  icon = 'mouse', \r\n  type = 'mid', \r\n  color = 'blue', \r\n  to = ''\r\n} : BtnCustonProps) => {\r\n  return (\r\n    <LinkRouter \r\n      className={`btn-${color}-${type} ml-1 mt-1`}\r\n      to={`${to}`}\r\n      // to=\"/home/cliente\"\r\n      onClick={callBack}   \r\n    >\r\n      <span>\r\n        {icon ? (\r\n          <i\r\n            className={`${icon} btn-ico`}\r\n          />\r\n        ) : (\r\n          <a>Click...!</a>\r\n        )}      \r\n      </span>\r\n      <span>{label}</span>\r\n    </LinkRouter>            \r\n  )\r\n}\r\n\r\ninterface MapStyleProps {  \r\n  label : string,\r\n  name : string ,\r\n  value : string ,\r\n  callBack: (value: stylesMap) => void;\r\n}\r\n\r\nexport const MapStyleControlSelect = ({ label, name, value, callBack }: MapStyleProps) => {\r\n  return (\r\n    <div className=\"imput_box_container\" >\r\n      <label className=\"imput_box_label\">\r\n        {label}:\r\n      </label>\r\n      <select\r\n        className='imput_box_box'\r\n        name={name}\r\n        value={value}\r\n        onChange={(e : any) => callBack(e.target.value)}\r\n      >\r\n        <option value=\"calles\">Normal Plano</option>\r\n        <option value=\"exteriores\">Normal Relieve</option>\r\n        <option value=\"claro\">Ligth</option>\r\n        <option value=\"oscuro\">Dark</option>\r\n        <option value=\"satelite\">Satélite</option>\r\n        <option value=\"calles+satelite\">Satélite + Calles</option>\r\n        <option value=\"navegacion+dia\">Navegación de Día</option>\r\n        <option value=\"navegacion+noche\">Navegación de Noche</option>\r\n      </select>\r\n    </div>\r\n  );\r\n};","import { useContext, useEffect, useState } from \"react\";\r\nimport { LogoEmm } from \"../../components/ui/atom/FormControls\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nexport const LoginPage = () => {\r\n  const { singIn } = useContext(AuthContext);\r\n\r\n  const [form, setForm] = useState({\r\n    correo: '',\r\n    password: '',\r\n    rememberme: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const correo = localStorage.getItem(\"correo\");\r\n    correo &&\r\n      setForm((form) => ({\r\n        ...form,\r\n        rememberme: true,\r\n        correo,\r\n      }));\r\n  }, []);\r\n\r\n  const onChange = ({ target }: any) => {\r\n    const { name, value } = target;\r\n    setForm({\r\n      ...form,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const toggleCheck = () => {\r\n    setForm({\r\n      ...form,\r\n      rememberme: !form.rememberme,\r\n    });\r\n  };\r\n\r\n  const onSubmit = async (ev: any) => {\r\n    ev.preventDefault();\r\n\r\n    form.rememberme\r\n      ? localStorage.setItem(\"correo\", form.correo)\r\n      : localStorage.removeItem(\"correo\");\r\n\r\n    const { correo, password } = form;\r\n    singIn({ correo, password });\r\n  };\r\n\r\n  const todoOk = () => {\r\n    return form.correo.length > 0 && form.password.length ? true : false;\r\n  };\r\n\r\n  return (\r\n    <form\r\n      className=\"login100-form validate-form flex-sb flex-w animate__animated animate__fadeInLeft\"\r\n      onSubmit={onSubmit}\r\n    >\r\n      <span className=\"login100-form-title mb-3\">\r\n        <LogoEmm />\r\n      </span>\r\n\r\n      <div className=\"wrap-input100 validate-input mb-3\">\r\n        <input\r\n          className=\"input100\"\r\n          type=\"correo\"\r\n          name=\"correo\"\r\n          placeholder=\"correo\"\r\n          value={form.correo}\r\n          onChange={onChange}\r\n        />\r\n        <span className=\"focus-input100\"></span>\r\n      </div>\r\n\r\n      <div className=\"wrap-input100 validate-input mb-3\">\r\n        <input\r\n          className=\"input100\"\r\n          type=\"password\"\r\n          name=\"password\"\r\n          placeholder=\"Password\"\r\n          value={form.password}\r\n          onChange={onChange}\r\n        />\r\n        <span className=\"focus-input100\"></span>\r\n      </div>\r\n\r\n      <div className=\"row mb-3\">\r\n        <div className=\"col\" onClick={() => toggleCheck()}>\r\n          <input\r\n            className=\"input-checkbox100\"\r\n            id=\"ckb1\"\r\n            type='checkbox'\r\n            name=\"rememberme\"\r\n            checked={form.rememberme}\r\n            readOnly\r\n          />\r\n          <label className=\"label-checkbox100\">Recordarme</label>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div className=\"container-login100-form-btn m-t-17\">\r\n        <button\r\n          type=\"submit\"\r\n          disabled={!todoOk()}\r\n          className=\"login100-form-btn\"\r\n        >\r\n          Ingresar\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n","import { Redirect, Route, Switch } from \"react-router-dom\";\r\n\r\nimport \"../css/login-register.css\";\r\nimport { LoginPage } from \"../pages/auth/LoginPage\";\r\n\r\nexport const AuthRouter = () => {\r\n  return (\r\n    <div className=\"limiter\">\r\n      <div className=\"container-login100\">\r\n        <div className=\"wrap-login100 p-t-50 p-b-90\">\r\n          <Switch>\r\n            <Route exact path=\"/auth/login\" component={LoginPage} />\r\n            <Redirect to=\"/auth/login\" />\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { NavLink } from \"react-router-dom\";\r\nimport \"../../../css/img.css\";\r\n\r\ninterface Props {\r\n  route: string,\r\n  caption: string,\r\n  icon?: string\r\n}\r\n\r\nexport const MenuItem = ({ route, caption, icon }: Props) => {\r\n  const style = \"nav-item nav-link ml-2\";\r\n  return (\r\n    <div\r\n      style={{\r\n        flexDirection: \"row\",\r\n        alignItems: \"self-start\",\r\n        justifyContent: 'center'\r\n      }}\r\n    >\r\n      <NavLink \r\n        activeClassName=\"active\" \r\n        className={style} \r\n        exact to={route} \r\n        style={{ \r\n          flexDirection: \"row\", \r\n          alignItems: \"self-start\", \r\n          justifyContent: 'center',\r\n          // color : '#095CA2'\r\n        }} \r\n      >\r\n        {icon && (\r\n          <i\r\n            className={`${icon} bigicon mr-2`}\r\n            style={{ color: \"#E02729\"}}\r\n          />\r\n        )}\r\n        {caption}\r\n      </NavLink>\r\n    </div>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/defaultUser.7a6572ee.png\";","import { useContext } from \"react\";\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../../context/AuthContext\";\r\nimport defaultUser from \"../../../assets/defaultUser.png\";\r\nimport \"../../../css/img.css\";\r\nimport { BtnExit, BtnTypeEnter } from \"./FormControls\";\r\n\r\ninterface Props {\r\n  route: string,\r\n  caption: string\r\n}\r\n\r\nexport const MenuItemPerfil = ({ route, caption }: Props) => {\r\n  const { user, logOut } = useContext(AuthContext);\r\n  // const nombre = caption.split(\" \");\r\n  const style = \"nav-item nav-link text-info\";\r\n\r\n  const history = useHistory();\r\n\r\n  const handleLogout = () => {\r\n    history.replace(\"/auth\");\r\n    logOut();\r\n  };\r\n\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        flexDirection: \"row\",\r\n        alignItems: \"self-start\",\r\n      }}\r\n    >\r\n      <NavLink activeClassName=\"active\" className={style} exact to={route}>\r\n        <img\r\n          alt={user?.nombre}\r\n          src={user?.images ? user.images : defaultUser}\r\n          style={{\r\n            width: \"40px\",\r\n            height: \"40px\",\r\n            objectFit: \"fill\",\r\n            borderRadius: 50,\r\n            marginTop: 5,\r\n            marginBottom: 5,\r\n            marginRight: 10,\r\n          }}\r\n        />\r\n          {caption}\r\n\r\n          <BtnExit \r\n            label='Salir'\r\n            callBack={handleLogout}\r\n            icon=\"fa fa-sign-out-alt\"\r\n            type='small'\r\n          />   \r\n\r\n              \r\n      </NavLink>\r\n\r\n    </div>\r\n  );\r\n};\r\n","import { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { MenuItem } from \"./ui/atom/MenuItem\";\r\nimport { MenuItemPerfil } from \"./ui/atom/MenuItemPerfil\";\r\n\r\nexport const NavbarMain = () => {\r\n  const { user } = useContext(AuthContext);\r\n\r\n  if (!user) return null\r\n\r\n  return (\r\n    <div>\r\n      <nav className=\"navbar navbar-expand-sm bg-dark navbar-dark \">\r\n        <Link className=\"navbar-brand\" to=\"/\">\r\n          <i className=\"fa fa-home bigicon mr-3\"></i>\r\n          Visita Médica\r\n        </Link>\r\n        <div className=\"navbar-collapse\">\r\n          <div className=\"navbar-nav\">\r\n            {(user.rol === \"SUPER_ADMIN_ROLE\" || user.rol === \"ADMIN_ROLE\") && (\r\n              <MenuItem route=\"/home/admin\" caption=\"Administración\" />\r\n            )}\r\n            <MenuItem route=\"/home/calendar\" caption=\"Calendario\" />\r\n            <MenuItem route=\"/home/clientes\" caption=\"Clientes\" />\r\n            <MenuItem route=\"/home/visitas\" caption=\"Visitas\" />\r\n            <MenuItem route=\"/home/vademecum\" caption=\"Vademecum\" />\r\n            <MenuItem route=\"/home/inventario\" caption=\"Inventario\" />\r\n            <MenuItem route=\"/home/rutas\" caption=\"Rutas\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"navbar-collapse collapse w-100 order-3 dual-collapse2\" style={{justifyItems:'center'}}>\r\n          <ul className=\"navbar-nav ml-auto\">\r\n            <MenuItemPerfil route=\"/home/user/perfil\" caption={user.nombre} />\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n","import Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\n// types:\r\n// \"Audio\"\r\n// \"BallTriangle\"\r\n// \"Bars\"\r\n// \"Circles\"\r\n// \"Grid\"\r\n// \"Hearts\"\r\n// \"Oval\"\r\n// \"Puff\"\r\n// \"Rings\"\r\n// \"TailSpin\"\r\n// \"ThreeDots\"\r\n\r\n// \"Watch\"\r\n// \"RevolvingDot\"\r\n// \"Triangle\"\r\n// \"Plane\"\r\n// \"MutatingDots\"\r\n// \"CradleLoader\"\r\n\r\n//color=\"#41A75E\"\r\n//color=\"#00BFFF\"\r\n//color=\"#00D9F6\"\r\n//color=\"#FFAD33\"\r\n\r\nexport const Spiner = () => {\r\n  return (\r\n    <Loader\r\n      type=\"Watch\"\r\n      color=\"#FF3547\"\r\n      height={150}\r\n      width={150}\r\n      visible\r\n    // timeout={3000} //3 secs\r\n    />\r\n  );\r\n};\r\n","import React, { useContext } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport { AppContext } from \"../../../context/AppContext\";\r\nimport \"../../../css/modal.css\";\r\n\r\nimport { Spiner } from \"./Spiner\";\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n    marginRight: \"-50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n  },\r\n};\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nexport const SpinerModal = () => {\r\n  const { state } = useContext(AppContext);\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={state.isProcesing}\r\n      style={customStyles}\r\n      closeTimeoutMS={200}\r\n      className=\"modal-spiner\"\r\n      overlayClassName=\"modal-fondo\"\r\n    >\r\n      <div\r\n        style={{\r\n          alignItems: \"center\",\r\n          flexDirection: \"column\",\r\n          display: \"flex\",\r\n        }}\r\n      >\r\n        <label style={{ color: \"#E02729\" }}>Procesando</label>\r\n        <Spiner />\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport const PanelVacio = () => {\r\n  return <div className=\"navbar-nav\"></div>;\r\n};\r\n","import React from \"react\";\r\nimport { Divider } from \"@material-ui/core\";\r\nimport { MenuItem } from \"../ui/atom/MenuItem\";\r\n\r\ninterface Props {\r\n  etiquetaHome: string\r\n}\r\n\r\nexport const PanelNotificaciones = ({ etiquetaHome }: Props) => {\r\n  return (\r\n    <div className=\"navbar-collapse\">\r\n      <MenuItem route=\"/home/notifis\" caption={etiquetaHome} />\r\n\r\n      <Divider />\r\n\r\n      <MenuItem\r\n        route=\"/home/notinoread\"\r\n        caption=\"Sin Leer\"\r\n        icon=\"fa fa-inbox\"\r\n      />\r\n      <MenuItem route=\"/home/notiread\" caption=\"Leidos\" icon=\"fa fa-glasses\" />\r\n\r\n      <MenuItem\r\n        route=\"/home/notisends\"\r\n        caption=\"Enviados\"\r\n        icon=\"fa fa-share-square\"\r\n      />\r\n\r\n      <Divider />\r\n\r\n      <MenuItem route=\"/home/notispeak\" caption=\"Chat\" icon=\"fa fa-comments\" />\r\n    </div>\r\n  );\r\n};\r\n","import React, { useContext } from \"react\";\r\nimport { Divider } from \"@material-ui/core\";\r\n\r\nimport { MenuItem } from \"../ui/atom/MenuItem\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { PanelVacio } from \"./PanelVacio\";\r\n\r\ninterface Props {\r\n  etiquetaHome: string\r\n}\r\n\r\nexport const PanelParametros = ({ etiquetaHome = '' }: Props) => {\r\n  const { user } = useContext(AuthContext);\r\n\r\n  switch (user?.rol) {\r\n    case \"SUPER_ADMIN_ROLE\":\r\n    case \"ADMIN_ROLE\":\r\n      return (\r\n        // <div className=\"navbar-nav\">\r\n        <div className=\"navbar-collapse\">\r\n          <MenuItem route=\"/home/admin\" caption={etiquetaHome} />\r\n\r\n          <Divider />\r\n          {user?.rol === \"SUPER_ADMIN_ROLE\" && (\r\n            <>\r\n              <MenuItem\r\n                route=\"/home/param\"\r\n                caption=\"Parámetros\"\r\n                icon=\"fa fa-cogs\"\r\n              />\r\n              <Divider />\r\n            </>\r\n          )}\r\n          <MenuItem\r\n            route=\"/home/usuariosadd\"\r\n            caption=\"Crear Usuarios\"\r\n            icon=\"fa fa-user-plus\"\r\n          />\r\n          <MenuItem\r\n            route=\"/home/usuarios\"\r\n            caption=\"Usuarios\"\r\n            icon=\"fa fa-users\"\r\n          />\r\n          <Divider />\r\n          <MenuItem\r\n            route=\"/home/geo\"\r\n            caption=\"Dist. Geográficas\"\r\n            icon=\"fa fa-atlas\"\r\n          />\r\n          <Divider />\r\n          <MenuItem\r\n            route=\"/home/caracteristicasgrupos\"\r\n            caption=\"Tipos de Características\"\r\n            icon=\"fa fa-object-group\"\r\n          />          \r\n          <MenuItem\r\n            route=\"/home/caracteristicas\"\r\n            caption=\"Características\"\r\n            icon=\"fa fa-object-group\"\r\n          />\r\n        </div>\r\n      );\r\n    default:\r\n      return <PanelVacio />\r\n  }\r\n};\r\n","export default __webpack_public_path__ + \"static/media/instagram.16006d4c.png\";","\r\nexport const SpacerHorizontal = () => {\r\n    return (\r\n        <div className='spacer-horizontal' />\r\n    )\r\n}\r\n\r\n\r\nexport const SpacerVertical = () => {\r\n    return (\r\n        <div style={{\r\n            flex: 1,\r\n            flexDirection: 'column',\r\n        }}\r\n        />\r\n    )\r\n}\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport defaultUser from \"../../assets/defaultUser.png\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { SocketContext } from \"../../context/SocketContext\";\r\n\r\nexport const UsuarioOnLineItem = ({ usuario }) => {\r\n  const history = useHistory();\r\n  const {\r\n    selecDestinatario,\r\n    noSelecDestinatario,\r\n    usuariosSeleccionados,\r\n    chatNoLeido,\r\n    activaChat,\r\n  } = useContext(SocketContext);\r\n  const { user } = useContext(AuthContext);\r\n  const [msgSinLeer, setMsgSinLeer] = useState(0);\r\n\r\n  const seleccionado = usuariosSeleccionados.filter(\r\n    (e) => e.uid === usuario.uid\r\n  );\r\n\r\n  useEffect(() => {\r\n    const noLeidos = chatNoLeido.filter(\r\n      (msg) => msg.de === usuario.uid\r\n    );\r\n    setMsgSinLeer(noLeidos.length);\r\n  }, [chatNoLeido, usuario.uid]);\r\n\r\n  const color = usuario.conectado ? \"lightgreen\" : \"lightgrey\";\r\n  const coloronLine = usuario.conectado ? \"blue\" : \"grey\";\r\n  const colorMsgSinLeer = msgSinLeer > 0 ? \"green\" : \"grey\";\r\n\r\n  const handleClick = () => {\r\n    if (seleccionado.length > 0) {\r\n      noSelecDestinatario(usuario);\r\n    } else {\r\n      selecDestinatario(usuario);\r\n    }\r\n  };\r\n\r\n  const handleChat = async () => {\r\n    await activaChat(user!.uid);\r\n    history.push(\"home/notispeak\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div\r\n        className=\"input-group col-md-12 \"\r\n        style={{\r\n          backgroundColor: color,\r\n          borderRadius: 5,\r\n          marginBottom: 5,\r\n          alignItems: \"center\",\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n        }}\r\n      >\r\n        <div className=\"divjustificadoizq\">\r\n          <img\r\n            alt={usuario.nombre}\r\n            src={usuario.images ? usuario.images : defaultUser}\r\n            style={{\r\n              width: \"30px\",\r\n              height: \"30px\",\r\n              objectFit: \"contain\",\r\n              borderRadius: 50,\r\n              marginTop: 5,\r\n              marginBottom: 5,\r\n            }}\r\n          />\r\n          <small className=\"ml-2\">{usuario.nombre.substring(0, 25)}</small>\r\n        </div>\r\n        <div className=\"divjustificadoizq\">\r\n          <div\r\n            style={{ cursor: \"pointer\", color: coloronLine }}\r\n            onClick={handleClick}\r\n          >\r\n            <i className=\"fas fa-send mr-2 ml-2\" />\r\n          </div>\r\n          <div\r\n            style={{ cursor: \"pointer\", color: colorMsgSinLeer }}\r\n            onClick={handleChat}\r\n          >\r\n            <i className=\"fas fa-comments mr-1\" />\r\n            {msgSinLeer}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { useContext } from \"react\";\r\nimport { UsuarioOnLineItem } from \"../../components/sockets/UsuarioOnLineItem\";\r\nimport { SocketContext } from \"../../context/SocketContext\";\r\n\r\nexport const UsuariosOnline = () => {\r\n  const { usuariosOnLine } = useContext(SocketContext);\r\n  return (\r\n    <div className='mt-2'>\r\n      <h6 className=\"mb-2 mt-\">En Línea</h6>\r\n\r\n      {usuariosOnLine.map((usuario) => (\r\n        <UsuarioOnLineItem key={usuario.uid} usuario={usuario} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","import { useContext } from \"react\";\r\nimport { Divider } from \"@material-ui/core\";\r\n\r\nimport { MenuItem } from \"../ui/atom/MenuItem\";\r\nimport imgFB from '../../assets/FB.png';\r\nimport imgInst from \"../../assets/instagram.png\";\r\nimport imgEMM from \"../../assets/logo1.png\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { PanelVacio } from \"./PanelVacio\";\r\nimport { ExternalLink } from \"../ui/atom/FormControls\";\r\nimport { SpacerHorizontal } from \"../ui/atom/Spacer\";\r\nimport { UsuariosOnline } from \"../../pages/admin/UsuariosOnline\";\r\n\r\ninterface Props {\r\n  etiquetaHome: string\r\n}\r\n\r\nexport const PanelHome = ({ etiquetaHome = '' }: Props) => {\r\n  const { user } = useContext(AuthContext);\r\n\r\n  switch (user?.rol) {\r\n    case \"SUPER_ADMIN_ROLE\":\r\n    case \"ADMIN_ROLE\":\r\n    case \"VIS_USER_ROLE\":\r\n    case \"JEF_VIS_ROLE\":\r\n      return (\r\n        // <div className=\"navbar-nav\">\r\n        <div className=\"navbar-collapse\" style={{ height: \"88.5vh\", overflowY: \"scroll\" }}>\r\n          <MenuItem route=\"/home\" caption={etiquetaHome} />\r\n\r\n          <Divider />\r\n          <ExternalLink\r\n            url=\"https://www.instagram.com/laboratorioinfarma/\"\r\n            img={imgInst}\r\n            label=\"Instagram\"\r\n          />\r\n          <ExternalLink\r\n            url=\"https://www.facebook.com/Infarmamedicamentos\"\r\n            img={imgFB}\r\n            label=\"Facebook\"\r\n          />\r\n          <ExternalLink\r\n            url=\"https://infarmamedicamentos.com\"\r\n            img={imgEMM}\r\n            label=\"Sitio WEB\"\r\n          />\r\n          <SpacerHorizontal />\r\n\r\n          <MenuItem\r\n            route=\"/home/notisends\"\r\n            caption=\"Mensajes\"\r\n            icon=\"fa fa-envelope-open-text\"\r\n          />\r\n          <MenuItem\r\n            route=\"/home/notisends\"\r\n            caption=\"Chat\"\r\n            icon=\"fa fa-comments\"\r\n          />\r\n          <SpacerHorizontal />\r\n          <Divider />\r\n\r\n          <UsuariosOnline />\r\n\r\n        </div>\r\n      );\r\n    default:\r\n      return <PanelVacio />\r\n  }\r\n};\r\n","export default \"data:image/png;base64,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\"","import { useContext } from \"react\";\r\nimport { Divider } from \"@material-ui/core\";\r\n\r\nimport { MenuItem } from \"../ui/atom/MenuItem\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { PanelVacio } from \"./PanelVacio\";\r\n\r\ninterface Props {\r\n  etiquetaHome: string\r\n}\r\n\r\nexport const PanelCalendario = ({ etiquetaHome = '' }: Props) => {\r\n  const { user } = useContext(AuthContext);\r\n\r\n  switch (user?.rol) {\r\n    case \"SUPER_ADMIN_ROLE\":\r\n    case \"ADMIN_ROLE\":\r\n    case \"JEF_VIS_ROLE\":\r\n    case \"VIS_USER_ROLE\" :\r\n      return (\r\n        // <div className=\"navbar-nav\">\r\n        <div className=\"navbar-collapse\">\r\n          <MenuItem route=\"/home/calendar\" caption={etiquetaHome} />\r\n\r\n          <Divider />\r\n          <MenuItem\r\n            route=\"/home/calendario\"\r\n            caption=\"Calendario\"\r\n            icon=\"fa fa-calendar-alt\"\r\n          /> \r\n          {/* {user?.rol !== \"VIS_USER_ROLE\" && (\r\n            <> */}\r\n              <MenuItem\r\n                route=\"/home/agendas\"\r\n                caption=\"Agendas\"\r\n                icon=\"fa fa-calendar\"\r\n              />\r\n              <Divider />\r\n            {/* </>\r\n          )}\r\n         \r\n          <MenuItem\r\n            route=\"/home/eventos\"\r\n            caption=\"Eventos\"\r\n            icon=\"fa fa-calendar-alt\"\r\n          />        */}\r\n        </div>\r\n      );\r\n    default:\r\n      return <PanelVacio />\r\n  }\r\n};\r\n","import React, { useContext } from \"react\";\r\nimport { Divider } from \"@material-ui/core\";\r\n\r\nimport { MenuItem } from \"../ui/atom/MenuItem\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { PanelVacio } from \"./PanelVacio\";\r\n\r\ninterface Props {\r\n  etiquetaHome: string\r\n}\r\n\r\nexport const PanelClientes = ({ etiquetaHome = '' }: Props) => {\r\n  const { user } = useContext(AuthContext);\r\n\r\n  switch (user?.rol) {\r\n    case \"SUPER_ADMIN_ROLE\":\r\n    case \"ADMIN_ROLE\":\r\n    case \"JEF_VIS_ROLE\":\r\n    case \"VIS_USER_ROLE\" :\r\n      return (\r\n        // <div className=\"navbar-nav\">\r\n        <div className=\"navbar-collapse\">\r\n          <MenuItem route=\"/home/clientes\" caption={etiquetaHome} />\r\n\r\n          <Divider />\r\n          {/* {user?.rol !== \"VIS_USER_ROLE\" && (\r\n            <>\r\n              <MenuItem\r\n                route=\"/home/agendas\"\r\n                caption=\"Agendas\"\r\n                icon=\"fa fa-calendar\"\r\n              />\r\n              <Divider />\r\n            </>\r\n          )} */}\r\n          <MenuItem\r\n            route=\"/home/clientesactivos\"\r\n            caption=\"Clientes Activos\"\r\n            icon=\"fa fa-user-check\"\r\n          />\r\n          <MenuItem\r\n            route=\"/home/clientesinactivos\"\r\n            caption=\"Clientes Inactivos\"\r\n            icon=\"fa fa-user-lock\"\r\n          />    \r\n          <MenuItem\r\n            route=\"/home/clientesmapeo\"\r\n            caption=\"Mapeo de Clientes\"\r\n            icon=\"fa fa-map-signs\"\r\n          />                   \r\n        </div>\r\n      );\r\n    default:\r\n      return <PanelVacio />\r\n  }\r\n};\r\n","import { useContext } from \"react\";\r\n\r\nimport { MenuItem } from \"../ui/atom/MenuItem\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { PanelVacio } from \"./PanelVacio\";\r\n\r\ninterface Props {\r\n  etiquetaHome: string\r\n}\r\n\r\nexport const PanelVisitas = ({ etiquetaHome = '' }: Props) => {\r\n  const { user } = useContext(AuthContext);\r\n\r\n  switch (user?.rol) {\r\n    case \"SUPER_ADMIN_ROLE\":\r\n    case \"ADMIN_ROLE\":\r\n    case \"JEF_VIS_ROLE\":\r\n    case \"VIS_USER_ROLE\" :\r\n      return (\r\n        <div className=\"navbar-collapse\">\r\n          <MenuItem route=\"/home/visitas\" caption={etiquetaHome} />\r\n          <MenuItem\r\n            route=\"/home/visitashistorico\"\r\n            caption=\"Histórico de Visitas\"\r\n            icon=\"fa fa-th-list\"\r\n          />\r\n        </div>\r\n      );\r\n    default:\r\n      return <PanelVacio />\r\n  }\r\n};\r\n","import { useContext } from \"react\";\r\n\r\nimport { MenuItem } from \"../ui/atom/MenuItem\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { PanelVacio } from \"./PanelVacio\";\r\n\r\ninterface Props {\r\n  etiquetaHome: string\r\n}\r\n\r\nexport const PanelInventario = ({ etiquetaHome = '' }: Props) => {\r\n  const { user } = useContext(AuthContext);\r\n\r\n  switch (user?.rol) {\r\n    case \"SUPER_ADMIN_ROLE\":\r\n    case \"ADMIN_ROLE\":\r\n    case \"JEF_VIS_ROLE\":\r\n    case \"VIS_USER_ROLE\" :\r\n      return (\r\n        // <div className=\"navbar-nav\">\r\n        <div className=\"navbar-collapse\">\r\n          <MenuItem route=\"/home/inventario\" caption={etiquetaHome} />\r\n\r\n          <MenuItem\r\n            route=\"/home/inventarioadd\"\r\n            caption=\"Cargar Inventario\"\r\n            icon=\"fa fa-charging-station\"\r\n          />    \r\n          <MenuItem\r\n            route=\"/home/inventariosaldos\"\r\n            caption=\"Saldos de Inventario\"\r\n            icon=\"fa fa-dolly-flatbed\"\r\n          />                          \r\n          <MenuItem\r\n            route=\"/home/inventariotransacciones\"\r\n            caption=\"Histórico de Transacciones\"\r\n            icon=\"fa fa-history\"\r\n          />                 \r\n        </div>\r\n      );\r\n    default:\r\n      return <PanelVacio />\r\n  }\r\n};\r\n","import { useContext } from \"react\";\r\n\r\nimport { MenuItem } from \"../ui/atom/MenuItem\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { PanelVacio } from \"./PanelVacio\";\r\n\r\ninterface Props {\r\n  etiquetaHome: string\r\n}\r\n\r\nexport const PanelRutas = ({ etiquetaHome = '' }: Props) => {\r\n  const { user } = useContext(AuthContext);\r\n\r\n  switch (user?.rol) {\r\n    case \"SUPER_ADMIN_ROLE\":\r\n    case \"ADMIN_ROLE\":\r\n    case \"JEF_VIS_ROLE\":\r\n    case \"VIS_USER_ROLE\" :\r\n      return (\r\n        // <div className=\"navbar-nav\">\r\n        <div className=\"navbar-collapse\">\r\n          <MenuItem route=\"/home/rutas\" caption={etiquetaHome} />\r\n\r\n          <MenuItem\r\n            route=\"/home/rutasconsulta\"\r\n            caption=\"Consulta de Recorridos\"\r\n            icon=\"fa fa-route\"\r\n          />                 \r\n        </div>\r\n      );\r\n    default:\r\n      return <PanelVacio />\r\n  }\r\n};\r\n","import { useContext } from \"react\";\r\n\r\nimport { MenuItem } from \"../ui/atom/MenuItem\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { PanelVacio } from \"./PanelVacio\";\r\n\r\ninterface Props {\r\n  etiquetaHome: string\r\n}\r\n\r\nexport const PanelVademecum = ({ etiquetaHome = '' }: Props) => {\r\n  const { user } = useContext(AuthContext);\r\n  switch (user?.rol) {\r\n    case \"SUPER_ADMIN_ROLE\":\r\n    case \"ADMIN_ROLE\":\r\n    case \"JEF_VIS_ROLE\":\r\n    case \"VIS_USER_ROLE\" :\r\n      return (\r\n        // <div className=\"navbar-nav\">\r\n        <div className=\"navbar-collapse\">\r\n          <MenuItem route=\"/home/vademecum\" caption={etiquetaHome} />\r\n          <MenuItem\r\n            route=\"/home/vade\"\r\n            caption=\"Vademecum\"\r\n            icon=\"fa fa-laptop-medical\"\r\n          />             \r\n          <MenuItem\r\n            route=\"/home/vademecumall\"\r\n            caption=\"Lista de Productos\"\r\n            icon=\"fa fa-laptop-medical\"\r\n          />                 \r\n        </div>\r\n      );\r\n    default:\r\n      return <PanelVacio />\r\n  }\r\n};\r\n","import { PanelVacio } from \"./PanelVacio\";\r\nimport { PanelNotificaciones } from \"./PanelNotificaciones\";\r\nimport { PanelParametros } from \"./PanelParametros\";\r\nimport { PanelHome } from \"./PanelHome\";\r\nimport { PanelCalendario } from \"./PanelCalendario\";\r\nimport { PanelClientes } from \"./PanelClientes\";\r\nimport { PanelVisitas } from \"./PanelVisitas\";\r\nimport { PanelInventario } from \"./PanelInventario\";\r\nimport { PanelRutas } from \"./PanelRutas\";\r\nimport { PanelVademecum } from './PanelVademecum';\r\n\r\nexport const ConstruyeMenu = ({ option }) => {\r\n  switch (option) {\r\n    case \"home\":\r\n      return (<PanelHome etiquetaHome=\"Panel Principal\" />);\r\n\r\n    case \"usuarios\":\r\n    case \"usuariosadd\":\r\n    case \"geo\":\r\n    case \"caracteristicas\":\r\n    case \"caracteristicasgrupos\":\r\n    case \"param\":\r\n    case \"admin\":\r\n      return (<PanelParametros etiquetaHome=\"Panel Administración\" />);\r\n\r\n    case \"calendario\":\r\n    case \"calendar\":\r\n    case \"agendas\":\r\n    case \"eventos\":\r\n      return (<PanelCalendario etiquetaHome=\"Panel Calendario\" />);\r\n\r\n\r\n    case \"clientes\":\r\n    case \"cliente\":\r\n    case \"clientesactivos\":\r\n    case \"clientesinactivos\":\r\n    case \"clientesmapeo\":\r\n      return (<PanelClientes etiquetaHome=\"Panel Clientes\"/>);\r\n\r\n    case \"visitashistorico\":\r\n    case \"visitas\":\r\n    case \"visita\":\r\n      return (<PanelVisitas etiquetaHome=\"Panel Visitas\"/>);\r\n\r\n\r\n    case \"vade\":\r\n    case \"vademecum\":\r\n    case \"vademecumall\":\r\n      return (<PanelVademecum etiquetaHome=\"Panel Vademecum\"/>);\r\n\r\n    case \"inventario\":\r\n    case \"inventarioadd\":\r\n    case \"inventariosaldos\":\r\n    case \"inventariotransacciones\":\r\n    case \"inventariotransaccion\":\r\n      return (<PanelInventario etiquetaHome=\"Panel Inventario\"/>);\r\n\r\n    case \"rutas\":\r\n    case \"rutasconsulta\" :      \r\n      return (<PanelRutas etiquetaHome=\"Panel Rutas\"/>);            \r\n      \r\n    case \"notisends\":\r\n      return <PanelNotificaciones etiquetaHome=\"Panel Mensajes\" />;\r\n    case \"vacia\":\r\n      return <PanelParametros etiquetaHome=\"\" />;\r\n    default:\r\n      return <PanelVacio />;\r\n  }\r\n};\r\n","import { useHistory } from \"react-router-dom\";\r\nimport { ConstruyeMenu } from \"./menu/ConstruyeMenu\";\r\nimport \"../css/navbar.css\";\r\n\r\nexport const NavbarLeft = () => {\r\n  const history = useHistory();\r\n  const ruta = history.location.pathname.split(\"/\");\r\n  const option = ruta[ruta.length - 1];\r\n\r\n  return (\r\n    <div\r\n      className=\"navbar-collapse navbar-light\"\r\n    >\r\n      <ConstruyeMenu option={option} />\r\n    </div>\r\n  );\r\n};\r\n","export default \"data:image/jpeg;base64,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\"","import noimage from \"../../../assets/portadas/noimagen.jpg\"\r\n\r\ninterface Props {\r\n    img?: any\r\n}\r\n\r\nexport const ImgPortada = ({img} : Props) => {\r\n\r\nconst imagen = img ? img : noimage\r\n\r\n  return (\r\n    <div \r\n      className=\"img_portada_box animate__animated animate__fadeIn\"\r\n      style={{alignSelf:'center', justifyContent:'center'}} \r\n    >\r\n        <img alt='portada' src={imagen} \r\n        style={{\r\n            borderRadius :10,\r\n            position:'absolute', \r\n            width: '95%', height:'80%',\r\n        }} \r\n        />\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport const ImgPerfil = ({img} : Props) => {\r\n\r\n  const imagen = img ? img : noimage\r\n  \r\n    return (\r\n      <div \r\n        className=\"img_perfil_box animate__animated animate__fadeIn\"\r\n        style={{\r\n          alignSelf:'center', \r\n          justifyContent:'center'\r\n        }} \r\n      >\r\n          <img alt='portada' src={imagen} \r\n            style={{\r\n                display:'block',\r\n                margin :'auto',\r\n                borderRadius :15,\r\n                height:'100%'\r\n            }} \r\n          />\r\n      </div>\r\n    )\r\n  }\r\n  \r\n  ","interface Props {\r\n    title? : string\r\n}\r\n\r\nexport const TitlePage = ({title = \"Aquí va un título\"} : Props) => {\r\n  return (\r\n    <div>\r\n      <h2 style={{\r\n            fontFamily:'monospace',\r\n            color:\"#E02729\",\r\n            marginTop:15\r\n        }}\r\n    >\r\n          {title}\r\n    </h2>\r\n    </div>\r\n  )\r\n}\r\n\r\n","import { NavbarLeft } from '../../components/NavbarLeft'\r\nimport { SpacerHorizontal } from '../../components/ui/atom/Spacer'\r\nimport { Divider } from '@material-ui/core';\r\nimport { ImgPortada } from '../../components/ui/atom/ImgPortada';\r\nimport { TitlePage } from '../../components/ui/atom/TitlePage';\r\n\r\n    \r\nexport const CalendarioPortada = () => {\r\n\r\n    const portada = \"https://res.cloudinary.com/desm1rvpy/image/upload/v1641503440/Infarma/logo/calendario_zkw44f.jpg\"\r\n\r\n    return (\r\n        <div className='flexbox-container'>\r\n           <div className='col-md-2'>\r\n               <NavbarLeft />\r\n           </div>\r\n    \r\n           <div\r\n               className='col-md-10'\r\n               style={{ height: '88.5vh', overflowY: 'scroll' }}\r\n           >\r\n               <div>\r\n                   <TitlePage title='Panel del Calendario' />\r\n                   <SpacerHorizontal />\r\n                   <Divider />\r\n                   <SpacerHorizontal />\r\n                   <ImgPortada img={portada} />                   \r\n               </div>\r\n           </div>\r\n       </div>\r\n   )\r\n}","import { useContext } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { SocketContext } from \"../../context/SocketContext\";\r\n\r\nexport const NuevosMensajesFab = () => {\r\n  const { chatNoLeido } = useContext(SocketContext);\r\n\r\n  const history = useHistory();\r\n  const handleClickNew = () => {\r\n    history.push(\"home/notispeak\");\r\n  };\r\n  if (chatNoLeido.length === 0) {\r\n    return null;\r\n  }\r\n  const textoToolChat =\r\n    chatNoLeido.length === 1\r\n      ? `${chatNoLeido.length} chat nuevo`\r\n      : `${chatNoLeido.length} chats nuevos`;\r\n  return (\r\n    <div\r\n      onClick={handleClickNew}\r\n      className=\"tooltip fab-div ml-2 animate__animated animate__lightSpeedInLeft\"\r\n      style={{\r\n        backgroundColor: \"grey\",\r\n        borderRadius: 10,\r\n        opacity: 0.4,\r\n        width: 185,\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        cursor: \"pointer\",\r\n        zIndex: 1000,\r\n        right: 5,\r\n      }}\r\n    >\r\n      <div>\r\n        <span className=\"tooltiptext\">{textoToolChat}</span>\r\n        <h6>Actividad registrada!!!</h6>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { NavbarLeft } from '../../components/NavbarLeft'\r\nimport { SpacerHorizontal } from '../../components/ui/atom/Spacer'\r\nimport { Divider } from '@material-ui/core';\r\nimport { NuevosMensajesFab } from '../../components/chat/NuevosMensajesFab';\r\nimport { ImgPortada } from '../../components/ui/atom/ImgPortada';\r\nimport { TitlePage } from '../../components/ui/atom/TitlePage';\r\n    \r\nexport const PrincipalPage = () => {\r\n    const portada = \"https://res.cloudinary.com/desm1rvpy/image/upload/v1641503441/Infarma/logo/portada_ljalwm.jpg\"\r\n    return (\r\n        <div className='flexbox-container'>\r\n           <div className='col-md-2'>\r\n               <NavbarLeft />\r\n           </div>\r\n           <div\r\n               className='col-md-10'\r\n               style={{ height: '88.5vh', overflowY: 'scroll' }}\r\n           >\r\n               <NuevosMensajesFab />\r\n               <div >\r\n                   <TitlePage title='Panel Principal' />\r\n                   <SpacerHorizontal />\r\n                   <Divider />\r\n                   <SpacerHorizontal />\r\n                   <ImgPortada img={portada} />\r\n               </div>\r\n           </div>\r\n        </div>\r\n   )\r\n}","import styled from \"styled-components\";\r\n\r\nexport const FileUploadContainer = styled.section`\r\n  position: relative;\r\n  margin: 25px 0 15px;\r\n  border: 2px dotted lightgray;\r\n  padding: 35px 20px;\r\n  border-radius: 6px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n// background-color: #e0fbba;\r\n// background-color: #fff3d6;\r\n// background-color: #eeeeee;\r\n\r\nexport const FormField = styled.input`\r\n  font-size: 18px;\r\n  display: block;\r\n  width: 100%;\r\n  border: none;\r\n  text-transform: none;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  opacity: 0;\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nexport const InputLabel = styled.label`\r\n  top: -21px;\r\n  font-size: 13px;\r\n  color: black;\r\n  left: 0;\r\n  position: absolute;\r\n`;\r\n\r\nexport const DragDropText = styled.p`\r\n  font-weight: bold;\r\n  letter-spacing: 2.2px;\r\n  margin-top: 0;\r\n  text-align: center;\r\n`;\r\n// font-size: 1rem;\r\nexport const UploadFileBtn = styled.button`\r\n  box-sizing: border-box;\r\n  appearance: none;\r\n  background-color: transparent;\r\n  border: 2px solid #3498db;\r\n  cursor: pointer;\r\n\r\n  line-height: 1;\r\n  padding: 1.1em 2.8em;\r\n  text-align: center;\r\n  text-transform: uppercase;\r\n  font-weight: 700;\r\n  border-radius: 6px;\r\n  color: #3498db;\r\n  position: relative;\r\n  overflow: hidden;\r\n  z-index: 1;\r\n  transition: color 250ms ease-in-out;\r\n  font-family: \"Open Sans\", sans-serif;\r\n  width: 75%;\r\n  display: flex;\r\n  align-items: center;\r\n  padding-right: 0;\r\n  justify-content: center;\r\n\r\n  &:after {\r\n    content: \"\";\r\n    position: absolute;\r\n    display: block;\r\n    top: 0;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    width: 0;\r\n    height: 100%;\r\n    background: #eeeeee;\r\n    z-index: -1;\r\n    transition: width 250ms ease-in-out;\r\n  }\r\n\r\n  i {\r\n    font-size: 22px;\r\n    margin-right: 5px;\r\n    border-right: 2px solid;\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    width: 20%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n  }\r\n\r\n  @media only screen and (max-width: 500px) {\r\n    width: 70%;\r\n  }\r\n\r\n  @media only screen and (max-width: 350px) {\r\n    width: 100%;\r\n  }\r\n\r\n  &:hover {\r\n    color: #000000;\r\n    outline: 0;\r\n    background: transparent;\r\n\r\n    &:after {\r\n      width: 110%;\r\n    }\r\n  }\r\n\r\n  &:focus {\r\n    outline: 0;\r\n    background: transparent;\r\n  }\r\n\r\n  &:disabled {\r\n    opacity: 0.4;\r\n    filter: grayscale(100%);\r\n    pointer-events: none;\r\n  }\r\n`;\r\n\r\nexport const FilePreviewContainer = styled.article`\r\n  margin-bottom: 35px;\r\n\r\n  span {\r\n    font-size: 14px;\r\n  }\r\n`;\r\n\r\nexport const PreviewList = styled.section`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin-top: 10px;\r\n\r\n  @media only screen and (max-width: 400px) {\r\n    flex-direction: column;\r\n  }\r\n`;\r\n\r\nexport const FileMetaData = styled.div`\r\n  display: ${(props: any) => (props.isImageFile ? \"none\" : \"flex\")};\r\n  flex-direction: column;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  padding: 10px;\r\n  border-radius: 6px;\r\n  color: white;\r\n  font-weight: bold;\r\n  background-color: rgba(5, 5, 5, 0.55);\r\n\r\n  aside {\r\n    margin-top: auto;\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n`;\r\n\r\nexport const RemoveFileIcon = styled.i`\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    transform: scale(1.3);\r\n  }\r\n`;\r\n\r\nexport const PreviewContainer = styled.section`\r\n  padding: 0.25rem;\r\n  width: 25%;\r\n  height: 120px;\r\n  border-radius: 6px;\r\n  box-sizing: border-box;\r\n\r\n  &:hover {\r\n    opacity: 0.55;\r\n\r\n    ${FileMetaData} {\r\n      display: flex;\r\n    }\r\n  }\r\n\r\n  & > div:first-of-type {\r\n    height: 100%;\r\n    position: relative;\r\n  }\r\n\r\n  @media only screen and (max-width: 750px) {\r\n    width: 25%;\r\n  }\r\n\r\n  @media only screen and (max-width: 500px) {\r\n    width: 50%;\r\n  }\r\n\r\n  @media only screen and (max-width: 400px) {\r\n    width: 100%;\r\n    padding: 0 0 0.4em;\r\n  }\r\n`;\r\n\r\nexport const ImagePreview = styled.img`\r\n  border-radius: 6px;\r\n  width: 150%;\r\n  height: 100%;\r\n`;\r\n","import React, { useRef, useState } from \"react\";\r\nimport {\r\n  FileUploadContainer,\r\n  FormField,\r\n  DragDropText,\r\n  UploadFileBtn,\r\n  FilePreviewContainer,\r\n  ImagePreview,\r\n  PreviewContainer,\r\n  PreviewList,\r\n  FileMetaData,\r\n  RemoveFileIcon,\r\n  InputLabel,\r\n} from \"./file-upload.styles\";\r\n\r\nconst KILO_BYTES_PER_BYTE = 1000;\r\nconst DEFAULT_MAX_FILE_SIZE_IN_BYTES = 500000;\r\n\r\nconst convertNestedObjectToArray = (nestedObj) =>\r\n  Object.keys(nestedObj).map((key) => nestedObj[key]);\r\n\r\nconst convertBytesToKB = (bytes) => Math.round(bytes / KILO_BYTES_PER_BYTE);\r\n\r\nconst FileUpload = ({\r\n  label,\r\n  updateFilesCb,\r\n  maxFileSizeInBytes = DEFAULT_MAX_FILE_SIZE_IN_BYTES,\r\n  ...otherProps\r\n}) => {\r\n  const fileInputField = useRef(null);\r\n  const [files, setFiles] = useState({});\r\n\r\n  const handleUploadBtnClick = () => {\r\n    fileInputField.current.click();\r\n  };\r\n\r\n  const addNewFiles = (newFiles) => {\r\n    for (let file of newFiles) {\r\n      if (file.size < maxFileSizeInBytes) {\r\n        if (!otherProps.multiple) {\r\n          return { file };\r\n        }\r\n        files[file.name] = file;\r\n      }\r\n    }\r\n    return { ...files };\r\n  };\r\n\r\n  const callUpdateFilesCb = (files) => {\r\n    const filesAsArray = convertNestedObjectToArray(files);\r\n    updateFilesCb(filesAsArray);\r\n  };\r\n\r\n  const handleNewFileUpload = (e) => {\r\n    const { files: newFiles } = e.target;\r\n    if (newFiles.length) {\r\n      let updatedFiles = addNewFiles(newFiles);\r\n      setFiles(updatedFiles);\r\n      callUpdateFilesCb(updatedFiles);\r\n    }\r\n  };\r\n\r\n  const removeFile = (fileName) => {\r\n    delete files[fileName];\r\n    setFiles({ ...files });\r\n    callUpdateFilesCb({ ...files });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <FileUploadContainer>\r\n        <InputLabel>{label}</InputLabel>\r\n        <DragDropText>Arrastre aquí una Imagen</DragDropText>\r\n        <UploadFileBtn type=\"button\" onClick={handleUploadBtnClick}>\r\n          <i className=\"fas fa-file-upload\" />\r\n          <span> Buscar {otherProps.multiple ? \"archivos\" : \"archivo\"}</span>\r\n        </UploadFileBtn>\r\n        <FormField\r\n          type=\"file\"\r\n          ref={fileInputField}\r\n          onChange={handleNewFileUpload}\r\n          title=\"\"\r\n          value=\"\"\r\n          {...otherProps}\r\n        />\r\n      </FileUploadContainer>\r\n      <FilePreviewContainer>\r\n        {/* <span>Seleccionados</span> */}\r\n        <PreviewList>\r\n          {Object.keys(files).map((fileName, index) => {\r\n            let file = files[fileName];\r\n            let isImageFile = file.type.split(\"/\")[0] === \"image\";\r\n            return (\r\n              <PreviewContainer key={fileName}>\r\n                <div>\r\n                  {isImageFile && (\r\n                    <ImagePreview\r\n                      src={URL.createObjectURL(file)}\r\n                      alt={`file preview ${index}`}\r\n                    />\r\n                  )}\r\n                  <FileMetaData isImageFile={isImageFile}>\r\n                    <span>{file.name}</span>\r\n                    <aside>\r\n                      <span>{convertBytesToKB(file.size)} kb</span>\r\n                      <RemoveFileIcon\r\n                        className=\"fas fa-trash-alt\"\r\n                        onClick={() => removeFile(fileName)}\r\n                      />\r\n                    </aside>\r\n                  </FileMetaData>\r\n                </div>\r\n              </PreviewContainer>\r\n            );\r\n          })}\r\n        </PreviewList>\r\n      </FilePreviewContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FileUpload;\r\n","import { useState } from \"react\"\r\n\r\nexport const useForm = <T extends Object>(initForm: T ) => {\r\n\r\n    const [state, setState] = useState(initForm)\r\n\r\n    const onChange = <K extends Object>(value: K, field: keyof T) =>{\r\n        setState({\r\n            ...state,\r\n            [field] : value\r\n        })\r\n    }\r\n    return {\r\n        ...state,\r\n        form: state,\r\n        onChange,\r\n        setForm : setState\r\n    }\r\n    \r\n}\r\n","import { Divider } from \"@material-ui/core\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport {\r\n  TextControl,\r\n  TextControlPass,\r\n} from \"../../components/ui/atom/FormControls\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport FileUpload from \"../../helpers/fileUpload\";\r\nimport defaultUser from \"../../assets/defaultUser.png\";\r\n// import { AppContext } from \"../../context/AppContext\";\r\nimport { useForm } from \"../../hooks/useForm\";\r\nimport { TitlePage } from \"../../components/ui/atom/TitlePage\";\r\n\r\nexport const PerfilPage = () => {\r\n  const { user, } = useContext(\r\n    AuthContext\r\n  );\r\n  // updatePerfilUsuario, updatePassUsuario\r\n\r\n  // const { showModalLoading, hideModalLoading } = useContext(AppContext);\r\n\r\n  const passInit = {\r\n    passActual: \"\",\r\n    passNew: \"\",\r\n    rePassNew: \"\",\r\n  };\r\n  const [imgChange, setImgChange] = useState(false);\r\n  const [passChange, setPassChange] = useState(false);\r\n  const [dataChange, setDataChange] = useState(false);\r\n  const [dataPassChange, setDataPassChange] = useState(false);\r\n  const { form, onChange, setForm } = useForm({ correo: \"\", images: \"\", name: \"\", uid: \"\" });\r\n  const { form: passValues, onChange: onChangePass } = useForm(passInit);\r\n\r\n\r\n  useEffect(() => {\r\n    if (\r\n      correo !== form.correo ||\r\n      name !== form.name ||\r\n      images !== form.images\r\n    ) {\r\n      setDataChange(true);\r\n    } else {\r\n      setDataChange(false);\r\n    }\r\n  }, [form]);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      passValues.passActual &&\r\n      passValues.passNew &&\r\n      passValues.rePassNew &&\r\n      passValues.passNew === passValues.rePassNew\r\n    ) {\r\n      setDataPassChange(true);\r\n    } else {\r\n      setDataPassChange(false);\r\n    }\r\n  }, [passValues]);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      setForm({\r\n        correo: user.correo,\r\n        images: user.images,\r\n        name: user.nombre,\r\n        uid: user.uid,\r\n      })\r\n    }\r\n  }, [user])\r\n\r\n  if (!user) return null\r\n\r\n  const { correo, images, nombre: name } = user;\r\n\r\n\r\n  const updateFilesCb = (e) => {\r\n    setForm({\r\n      ...form,\r\n      images: e,\r\n    });\r\n  };\r\n\r\n  const handlePerfilSave = async (e) => {\r\n    e.preventDefault();\r\n    // showModalLoading();\r\n    console.log('Save Perfil');\r\n\r\n    // const resp = await updatePerfilUsuario(uid, form, images);\r\n    // if (resp.ok) {\r\n    //   exitoFire(\"Perfil actualizado...!\");\r\n    // } else {\r\n    //   viewErrors(resp);\r\n    // }\r\n    // hideModalLoading();\r\n  };\r\n\r\n  const handlePassChange = async (e) => {\r\n    e.preventDefault();\r\n    // showModalLoading();\r\n    console.log('Save Password');\r\n\r\n    // const resp = await updatePassUsuario(uid, passValues);\r\n    // if (resp.ok) {\r\n    //   exitoFire(\"Contraseña cambiada, debe iniciar sesión de nuevo...!\", 3000);\r\n    // } else {\r\n    //   viewErrors(resp);\r\n    // }\r\n\r\n    // hideModalLoading();\r\n  };\r\n\r\n  return (\r\n    <div className='contaner_screen'>\r\n      <div className=\"box_izq_25\">\r\n        <img\r\n          src={form.images ? form.images : defaultUser}\r\n          className=\"img-thumbnail animate__animated animate__fadeInDown mt-2 mb-2\"\r\n          alt={name}\r\n        />\r\n        <button\r\n          className=\"btn btn-outline-warning mb-2 col-md-12\"\r\n          onClick={() => setPassChange(!passChange)}\r\n        >\r\n          Cambiar Contraseña\r\n        </button>\r\n        {!passChange && (\r\n          <>\r\n            <button\r\n              className=\"btn btn-outline-warning mb-2 col-md-12\"\r\n              onClick={() => setImgChange(!imgChange)}\r\n            >\r\n              Cambiar Avatar\r\n            </button>\r\n            <button\r\n              className={\r\n                !dataChange\r\n                  ? \"btn btn-outline-primary col-md-12\"\r\n                  : \"btn btn-primary col-md-12\"\r\n              }\r\n              onClick={handlePerfilSave}\r\n              disabled={!dataChange}\r\n            >\r\n              Actualizar Perfil\r\n            </button>\r\n          </>\r\n        )}\r\n\r\n      </div>\r\n      <div className=\"box_cent_50\" >\r\n        <TitlePage title='Perfil de Usuario' />\r\n        <Divider />\r\n        <TextControl\r\n          label={\"Nombre*\"}\r\n          name={\"name\"}\r\n          value={form.name}\r\n          callBack={(e) => onChange(e, \"name\")}\r\n        />\r\n        <TextControl\r\n          label={\"Correo*\"}\r\n          name={\"correo\"}\r\n          value={form.correo}\r\n          callBack={(e) => onChange(e, \"correo\")}\r\n        />\r\n\r\n        <div\r\n          className=\"mt-4\"\r\n          style={{\r\n            flexDirection: \"column\",\r\n            display: \"flex\",\r\n            alignItems: \"stretch\",\r\n          }}\r\n        >\r\n\r\n          {passChange && (\r\n            <>\r\n              <Divider />\r\n              <h4 className=\"mt-2 mb-2\">Cambio de Contraseña</h4>\r\n              <TextControlPass\r\n                label={\"Contraseña Actual\"}\r\n                name={\"passActual\"}\r\n                value={passValues.passActual}\r\n                callBack={(e) => onChangePass(e, \"passActual\")}\r\n              />\r\n              <Divider  />\r\n              <h6 className=\"mt-2 mb-2\">Contraseñas deben ser iguales</h6>\r\n\r\n              <TextControlPass\r\n                label={\"Nueva Contraseña\"}\r\n                name={\"passNew\"}\r\n                value={passValues.passNew}\r\n                callBack={(e) => onChangePass(e, \"passNew\")}\r\n              />\r\n              <TextControlPass\r\n                label={\"Repita Contraseña\"}\r\n                name={\"rePassNew\"}\r\n                value={passValues.rePassNew}\r\n                callBack={(e) => onChangePass(e, \"rePassNew\")}\r\n              />\r\n              <button\r\n                className={\r\n                  dataPassChange\r\n                    ? \"btn btn-primary mt-2 col-md-4\"\r\n                    : \"btn btn-outline-primary mt-2 col-md-4\"\r\n                }\r\n                onClick={handlePassChange}\r\n                disabled={!dataPassChange}\r\n              >\r\n                Actualizar Contraseña\r\n              </button>\r\n            </>\r\n          )}\r\n          {imgChange && (\r\n            <div className=\"col-md-4\">\r\n              <FileUpload\r\n                updateFilesCb={updateFilesCb}\r\n                accept=\".jpg,.png,.jpeg,.bmp\"\r\n                label=\"Foto de Perfil\"\r\n              />\r\n            </div>\r\n          )}\r\n\r\n        </div>\r\n      </div>\r\n      <div className=\"box_der_25\" />\r\n\r\n    </div>\r\n  );\r\n};\r\n","import { Divider } from '@material-ui/core'\r\nimport { NavbarLeft } from '../../components/NavbarLeft'\r\nimport { ImgPortada } from '../../components/ui/atom/ImgPortada'\r\nimport { SpacerHorizontal } from '../../components/ui/atom/Spacer'\r\nimport { TitlePage } from '../../components/ui/atom/TitlePage'\r\n\r\nexport const AdminScreen = () => {\r\n\r\n    const portada = \"https://res.cloudinary.com/desm1rvpy/image/upload/v1641503440/Infarma/logo/config_ab3brb.jpg\"\r\n\r\n    return (\r\n        <div className=\"flexbox-container\">\r\n            <div className=\"col-md-2\">\r\n                <NavbarLeft />\r\n            </div>\r\n\r\n            <div\r\n                className=\"col-md-10\"\r\n                style={{ height: \"88.5vh\", overflowY: \"scroll\" }}\r\n            >\r\n                <div>\r\n                    <TitlePage title='Panel de Administración' />\r\n                    <SpacerHorizontal />\r\n                    <Divider />\r\n                    <SpacerHorizontal />\r\n                    <ImgPortada img={portada} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import { NavbarLeft } from '../../components/NavbarLeft'\r\nimport { SpacerHorizontal } from '../../components/ui/atom/Spacer'\r\nimport { Divider } from '@material-ui/core';\r\nimport { ImgPortada } from '../../components/ui/atom/ImgPortada';\r\nimport { TitlePage } from '../../components/ui/atom/TitlePage';\r\n\r\nexport const ClientesScreen = () => {\r\n\r\n    const portada = \"https://res.cloudinary.com/desm1rvpy/image/upload/v1641503440/Infarma/logo/clientes_lhryxt.jpg\"\r\n\r\n    return (\r\n        <div className=\"flexbox-container\">\r\n            <div className=\"col-md-2\">\r\n                <NavbarLeft />\r\n            </div>\r\n\r\n            <div\r\n                className=\"col-md-10\"\r\n                style={{ height: \"88.5vh\", overflowY: \"scroll\" }}\r\n            >\r\n                <div>\r\n                    <TitlePage title='Panel de Clientes' />\r\n                    <SpacerHorizontal />\r\n                    <Divider />\r\n                    <SpacerHorizontal />\r\n                    <ImgPortada img={portada} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import { NavbarLeft } from '../../components/NavbarLeft'\r\nimport { SpacerHorizontal } from '../../components/ui/atom/Spacer'\r\nimport { Divider } from '@material-ui/core';\r\nimport { ImgPortada } from '../../components/ui/atom/ImgPortada';\r\nimport { TitlePage } from '../../components/ui/atom/TitlePage';\r\n\r\n    \r\nexport const RutasScreen = () => {\r\n\r\n    const portada = \"https://res.cloudinary.com/desm1rvpy/image/upload/v1641503440/Infarma/logo/rutas_aj0ijx.jpg\"\r\n\r\n    return (\r\n        <div className='flexbox-container'>\r\n           <div className='col-md-2'>\r\n               <NavbarLeft />\r\n           </div>\r\n    \r\n           <div\r\n               className='col-md-10'\r\n               style={{ height: '88.5vh', overflowY: 'scroll' }}\r\n           >\r\n               <div>\r\n                   <TitlePage title='Panel de Rutas' />\r\n                   <SpacerHorizontal />\r\n                   <Divider />\r\n                   <SpacerHorizontal />\r\n                   <ImgPortada img={portada} />\r\n\r\n               </div>\r\n           </div>\r\n       </div>\r\n   )\r\n}","import styled from 'styled-components'\r\nimport { useTable, usePagination } from 'react-table'\r\nimport { useContext, useEffect, useMemo, useState } from 'react'\r\nimport { SocketContext } from '../../../context/SocketContext'\r\nimport { RoleControlTable, SelectPaisTable } from '../../ui/atom/FormControls';\r\nimport { MasterDataContext } from '../../../context/MasterDataContext'\r\n\r\n//COMPONENTE PRINCIPAL DE LA TABLA\r\nexport const TableUsuarios = () => {\r\n  //Configuracion de las columnas\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: 'Usuarios Registrados',\r\n        columns: [\r\n          {\r\n            Header: 'Nombre',\r\n            accessor: 'nombre',\r\n          },\r\n          {\r\n            Header: 'Correo',\r\n            accessor: 'correo',\r\n          },\r\n          {\r\n            Header: 'Rol',\r\n            accessor: 'rol',\r\n          },\r\n          {\r\n            Header: 'País',\r\n            accessor: 'pais',\r\n          },\r\n          {\r\n            Header: '',\r\n            accessor: 'guardar',\r\n          },\r\n          {\r\n            Header: '',\r\n            accessor: 'eliminar',\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n    []\r\n  )\r\n\r\n  const { usuariosOnLine, cargaUsuariosNewData } = useContext(SocketContext)\r\n  const [data, setData] = useState(usuariosOnLine)\r\n  const [skipPageReset, setSkipPageReset] = useState(false)\r\n\r\n  const updateMyData = (rowIndex, columnId, value) => {\r\n    setSkipPageReset(true)\r\n    setData(old =>\r\n      old.map((row, index) => {\r\n        if (index === rowIndex) {\r\n          return {\r\n            ...old[rowIndex],\r\n            [columnId]: value,\r\n          }\r\n        }\r\n        return row\r\n      })\r\n    )\r\n  }\r\n\r\n  useEffect(() => {\r\n    setSkipPageReset(false)\r\n  }, [data])\r\n\r\n  useEffect(() => {\r\n    cargaUsuariosNewData(data)\r\n  }, [data])  \r\n\r\n  return (\r\n    <Styles>\r\n      <Table\r\n        columns={columns}\r\n        data={data}\r\n        updateMyData={updateMyData}\r\n        skipPageReset={skipPageReset}\r\n      />\r\n    </Styles>\r\n  )\r\n}\r\n\r\n// CONSTRUCCION DE LA CELDA\r\nconst EditableCell = ({\r\n  value: initialValue,\r\n  row: { index },\r\n  column: { id },\r\n  updateMyData,\r\n}) => {\r\n  const [value, setValue] = useState(initialValue)\r\n  const { paises } = useContext(MasterDataContext)\r\n  const { actualizaUsuario, eliminaUsuario } = useContext(SocketContext)\r\n\r\n  const onChange = (e) => {\r\n    setValue(e.target.value)\r\n  }\r\n\r\n  const onChangeValue = (e: any) => {\r\n    setValue(e)\r\n  }\r\n\r\n  const onBlur = () => {\r\n    updateMyData(index, id, value)\r\n  }\r\n\r\n  const handleSave = () => {\r\n    actualizaUsuario(index);\r\n  }\r\n\r\n  const handleDelete = () => {\r\n    eliminaUsuario(index);\r\n  }\r\n\r\n  useEffect(() => {\r\n    setValue(initialValue)\r\n  }, [initialValue])\r\n\r\n  switch (id) {\r\n    case 'rol':\r\n      return <RoleControlTable name='rol' value={value} callBack={onChangeValue} onBlur={onBlur} />\r\n    case 'pais':\r\n      return <SelectPaisTable name='pais' value={value} callBack={onChangeValue} data={paises} onBlur={onBlur} />\r\n    case 'guardar':\r\n      return <button className='btn btn-outline-dark' onClick={handleSave} style={{ alignItems: 'center' }}>\r\n        <div style={{ color: 'blue' }}>\r\n          <i className={`fas fa-save`} />\r\n        </div>\r\n      </button>\r\n    case 'eliminar':\r\n      return <button className='btn btn-outline-dark' onClick={handleDelete} style={{ alignItems: 'center' }}>\r\n        <div style={{ color: 'red' }}>\r\n          <i className={`fas fa-trash-alt`} />\r\n        </div>\r\n      </button>\r\n\r\n    default:\r\n      return <input value={value} onChange={onChange} onBlur={onBlur} style={{ width: 250 }} />\r\n  }\r\n}\r\n\r\nconst Table = ({ columns, data, updateMyData, skipPageReset }) => {\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    prepareRow,\r\n    page,\r\n    canPreviousPage,\r\n    canNextPage,\r\n    pageOptions,\r\n    pageCount,\r\n    gotoPage,\r\n    nextPage,\r\n    previousPage,\r\n    setPageSize,\r\n    state: { pageIndex, pageSize },\r\n  } = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n      defaultColumn,\r\n      autoResetPage: !skipPageReset,\r\n      updateMyData,\r\n    },\r\n    usePagination\r\n  )\r\n\r\n  // Render the UI for your table\r\n  return (\r\n    <>\r\n\r\n      {/* Paginacion */}\r\n      <div className=\"pagination\" style={{ justifyContent: 'flex-start', alignItems: 'center' }}>\r\n        <button className='btn btn-dark mr-1' onClick={() => gotoPage(0)} disabled={!canPreviousPage}>\r\n          {'<<'}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => previousPage()} disabled={!canPreviousPage}>\r\n          {'< '}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => nextPage()} disabled={!canNextPage}>\r\n          {' >'}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => gotoPage(pageCount - 1)} disabled={!canNextPage}>\r\n          {'>>'}\r\n        </button>{'     '}\r\n        <span>\r\n          Página{'     '}\r\n          <strong>\r\n            {pageIndex + 1} de {pageOptions.length}\r\n          </strong>{' '}\r\n        </span>\r\n        <span>\r\n          | Ir a la Página:{' '}\r\n          <input\r\n            type=\"number\"\r\n            defaultValue={pageIndex + 1}\r\n            onChange={e => {\r\n              const page = e.target.value ? Number(e.target.value) - 1 : 0\r\n              gotoPage(page)\r\n            }}\r\n            style={{ width: '100px', borderWidth: 1, borderColor: 'black' }}\r\n          />\r\n        </span>{' '}\r\n        <select\r\n          style={{ width: 100 }}\r\n          value={pageSize}\r\n          onChange={e => {\r\n            setPageSize(Number(e.target.value))\r\n          }}\r\n        >\r\n          {[10, 20, 30, 40, 50].map(pageSize => (\r\n            <option key={pageSize} value={pageSize}>\r\n              Ver {pageSize}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      {/* Fin de Paginacion */}\r\n\r\n      <table {...getTableProps()}>\r\n        <thead>\r\n          {headerGroups.map(headerGroup => (\r\n            <tr {...headerGroup.getHeaderGroupProps()}>\r\n              {headerGroup.headers.map(column => (\r\n                <th style={{ backgroundColor: 'lightgrey' }} {...column.getHeaderProps()}>{column.render('Header')}</th>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </thead>\r\n        <tbody {...getTableBodyProps()}>\r\n          {page.map((row, i) => {\r\n            prepareRow(row)\r\n            return (\r\n              <tr {...row.getRowProps()}>\r\n                {row.cells.map(cell => {\r\n                  return <td {...cell.getCellProps()}>{cell.render('Cell')}</td>\r\n                })}\r\n              </tr>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </>\r\n  )\r\n}\r\n\r\n//TIPO DE LA COLUMNA\r\nconst defaultColumn = {\r\n  Cell: EditableCell,\r\n}\r\n\r\n// ESTILOS\r\nconst Styles = styled.div`\r\n  padding: 1rem;\r\n  table {\r\n    border-spacing: 0;\r\n    border: 0.5px solid black;\r\n    tr {\r\n      :last-child {\r\n        td {\r\n          border-bottom: 0;\r\n        }\r\n      }\r\n    }\r\n    th,\r\n    td {\r\n      margin: 0;\r\n      padding: 0.2rem;\r\n      border-bottom: 0.5px solid black;\r\n      border-right: 0.5px solid black;\r\n      :last-child {\r\n        border-right: 0;\r\n      }\r\n      input {\r\n        font-size: 1rem;\r\n        padding: 0;\r\n        margin: 0;\r\n        border: 0;\r\n      }\r\n    }\r\n  }\r\n  .pagination {\r\n    padding: 0.2rem;\r\n  }\r\n`","import { Divider } from '@material-ui/core'\r\nimport { NavbarLeft } from '../../components/NavbarLeft'\r\nimport { TableUsuarios } from '../../components/tablas/usuarios/TableUsuarios'\r\nimport { SpacerHorizontal } from '../../components/ui/atom/Spacer'\r\nimport { TitlePage } from '../../components/ui/atom/TitlePage'\r\n\r\nexport const UsuariosScreen = () => {\r\n    return (\r\n        <div className=\"flexbox-container\">\r\n            <div className=\"col-md-2\">\r\n                <NavbarLeft />\r\n            </div>\r\n            <div\r\n                className=\"col-md-10\"\r\n                style={{ height: \"88.5vh\", overflowY: \"scroll\" }}\r\n            >\r\n                <TitlePage title='Usuarios' />\r\n\r\n                <SpacerHorizontal />\r\n                <Divider />\r\n                <SpacerHorizontal />                \r\n                <TableUsuarios />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import { NavbarLeft } from '../../components/NavbarLeft'\r\nimport { SpacerHorizontal } from '../../components/ui/atom/Spacer'\r\nimport { Divider } from '@material-ui/core';\r\nimport { ImgPortada } from '../../components/ui/atom/ImgPortada';\r\nimport { TitlePage } from '../../components/ui/atom/TitlePage';\r\n\r\n    \r\nexport const VisitasScreen = () => {\r\n\r\n    const portada = \"https://res.cloudinary.com/desm1rvpy/image/upload/v1641503441/Infarma/logo/visita_ky5brf.jpg\"\r\n\r\n    return (\r\n        <div className='flexbox-container'>\r\n           <div className='col-md-2'>\r\n               <NavbarLeft />\r\n           </div>\r\n    \r\n           <div\r\n               className='col-md-10'\r\n               style={{ height: '88.5vh', overflowY: 'scroll' }}\r\n           >\r\n               <div>\r\n                   <TitlePage title='Panel de Vistas' />\r\n                   <SpacerHorizontal />\r\n                   <Divider />\r\n                   <SpacerHorizontal />\r\n                   <ImgPortada img={portada} />\r\n               </div>\r\n           </div>\r\n       </div>\r\n   )\r\n}","import { NavbarLeft } from '../../components/NavbarLeft'\r\nimport { SpacerHorizontal } from '../../components/ui/atom/Spacer'\r\nimport { Divider } from '@material-ui/core';\r\nimport { ImgPortada } from '../../components/ui/atom/ImgPortada';\r\nimport { TitlePage } from '../../components/ui/atom/TitlePage';\r\n\r\n    \r\nexport const InventarioScreen = () => {\r\n\r\n    const portada = \"https://res.cloudinary.com/desm1rvpy/image/upload/v1641503441/Infarma/logo/inventarios_p9peni.jpg\"\r\n\r\n    return (\r\n        <div className='flexbox-container'>\r\n           <div className='col-md-2'>\r\n               <NavbarLeft />\r\n           </div>\r\n    \r\n           <div\r\n               className='col-md-10'\r\n               style={{ height: '88.5vh', overflowY: 'scroll' }}\r\n           >\r\n               <div>\r\n                   <TitlePage title='Panel de Inventario' />\r\n                   <SpacerHorizontal />\r\n                   <Divider />\r\n                   <SpacerHorizontal />\r\n                   <ImgPortada img={portada} />\r\n\r\n               </div>\r\n           </div>\r\n       </div>\r\n   )\r\n}","import { useContext } from 'react'\r\nimport { Divider } from '@material-ui/core'\r\nimport { NavbarLeft } from '../../components/NavbarLeft'\r\nimport { RoleControlSelect, SelectPais, TextControl, TextControlEmail, TextControlPass } from '../../components/ui/atom/FormControls'\r\nimport { SpacerHorizontal } from '../../components/ui/atom/Spacer'\r\nimport { useForm } from '../../hooks/useForm'\r\nimport { MasterDataContext } from '../../context/MasterDataContext';\r\nimport { SocketContext } from '../../context/SocketContext';\r\nimport { TitlePage } from '../../components/ui/atom/TitlePage'\r\n\r\nexport const UsuariosAddScreen = () => {\r\n    const { nombre, correo, pais, rol, password, onChange, form } = useForm({\r\n        nombre: \"\",\r\n        password: \"\",\r\n        correo: \"\",\r\n        rol: \"NEW_USER_ROLE\",\r\n        pais: \"\"\r\n    })\r\n\r\n    const { paises } = useContext(MasterDataContext)\r\n    const { crearUsuario } = useContext(SocketContext)\r\n\r\n    const handleAdd = async (e: any) => {\r\n        e.preventDefault()\r\n        crearUsuario(form);\r\n    }\r\n\r\n    return (\r\n        <div className=\"flexbox-container\">\r\n            <div className=\"col-md-2\">\r\n                <NavbarLeft />\r\n            </div>\r\n            <div\r\n                className=\"col-md-10\"\r\n                style={{ height: \"88.5vh\", overflowY: \"scroll\" }}\r\n            >\r\n                <TitlePage title='Creación de Usuarios' />\r\n                <SpacerHorizontal />\r\n                <Divider />\r\n                <SpacerHorizontal />\r\n                <button className='btn btn-success ml-2' onClick={handleAdd}>{`Guardar`}</button>\r\n                <SpacerHorizontal />\r\n                <TextControl\r\n                    label=\"Nombre\"\r\n                    name='nombre'\r\n                    value={nombre}\r\n                    callBack={(e) => onChange(e, 'nombre')}\r\n                />\r\n                <TextControlEmail\r\n                    label=\"Correo\"\r\n                    name='correo'\r\n                    value={correo}\r\n                    callBack={(e) => onChange(e, 'correo')}\r\n                />\r\n                <TextControlPass\r\n                    label=\"Password\"\r\n                    name='password'\r\n                    value={password}\r\n                    callBack={(e) => onChange(e, 'password')}\r\n                />\r\n                <RoleControlSelect\r\n                    label=\"Rol\"\r\n                    name='rol'\r\n                    value={rol}\r\n                    callBack={(e) => onChange(e, 'rol')}\r\n                />\r\n\r\n                <SelectPais\r\n                    label=\"País\"\r\n                    name='pais'\r\n                    value={pais}\r\n                    callBack={(e) => onChange(e, 'pais')}\r\n                    data={paises}\r\n                />\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import styled from 'styled-components'\r\nimport { useTable, usePagination } from 'react-table'\r\nimport { useContext, useEffect, useMemo, useState } from 'react'\r\nimport { MasterDataContext } from '../../../context/MasterDataContext'\r\nimport { AppContext } from '../../../context/AppContext'\r\n\r\n\r\n//COMPONENTE PRINCIPAL DE LA TABLA\r\nexport const TablePaises = () => {\r\n  //Configuracion de las columnas\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: 'Países',\r\n        columns: [\r\n          {\r\n            Header: 'Nombre',\r\n            accessor: 'nombre',\r\n          },\r\n          {\r\n            Header: 'Código',\r\n            accessor: 'codigo',\r\n          },\r\n          {\r\n            Header: 'Latitud',\r\n            accessor: 'gpsLat',\r\n          },\r\n          {\r\n            Header: 'Longitud',\r\n            accessor: 'gpsLong',\r\n          },                    \r\n          {\r\n            Header: '',\r\n            accessor: 'guardar',\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n    []\r\n  )\r\n\r\n  const { paises, cargaPaisesNewData , limpiaPaisNewData} = useContext(MasterDataContext)\r\n  const [skipPageReset, setSkipPageReset] = useState(false)\r\n  const dataFilter = paises\r\n  const [data, setData] = useState(dataFilter)\r\n\r\n  const updateMyData = (rowIndex, columnId, value) => {\r\n    setSkipPageReset(true)\r\n    setData(old =>\r\n      old.map((row, index) => {\r\n        if (index === rowIndex) {\r\n          return {\r\n            ...old[rowIndex],\r\n            [columnId]: value,\r\n          }\r\n        }\r\n        return row\r\n      })\r\n    )\r\n  }\r\n  \r\n  useEffect(() => {\r\n    const datos = paises\r\n    setData(datos)\r\n  }, [paises])\r\n\r\n\r\n  useEffect(() => {\r\n    setSkipPageReset(false)\r\n  }, [data])\r\n\r\n  useEffect(() => {\r\n    cargaPaisesNewData(data)\r\n    return () => {\r\n      limpiaPaisNewData()\r\n    }      \r\n  }, [data])\r\n\r\n  return (\r\n    <Styles>\r\n      <Table\r\n        columns={columns}\r\n        data={data}\r\n        updateMyData={updateMyData}\r\n        skipPageReset={skipPageReset}\r\n      />\r\n    </Styles>\r\n  )\r\n}\r\n\r\n// CONSTRUCCION DE LA CELDA\r\nconst EditableCell = ({\r\n  value: initialValue,\r\n  row: { index },\r\n  column: { id },\r\n  updateMyData,\r\n}) => {\r\n  const { actualizaPais } = useContext(MasterDataContext)\r\n  const [value, setValue] = useState(initialValue)\r\n  const { showProcesing , hideProcesing} = useContext(AppContext)\r\n  const onChange = (e) => {\r\n    setValue(e.target.value)\r\n  }\r\n\r\n  const onBlur = () => {\r\n    updateMyData(index, id, value)\r\n  }\r\n\r\n  const handleSave = () => {\r\n    showProcesing()\r\n    actualizaPais(index);\r\n    hideProcesing()\r\n  }\r\n\r\n  useEffect(() => {\r\n    setValue(initialValue)\r\n  }, [initialValue])\r\n\r\n  switch (id) {\r\n    case 'nombre':\r\n      return <input value={value} onChange={onChange} onBlur={onBlur} style={{ width: 250 }} />\r\n    case 'codigo':\r\n      return <input value={value} onChange={onChange} onBlur={onBlur} style={{ width: 100 , textAlign:'center'}} />  \r\n    case 'gpsLong':\r\n      return <input value={value} onChange={onChange} onBlur={onBlur} style={{ width: 100, textAlign:'center' }} />    \r\n    case 'gpsLat':\r\n      return <input value={value} onChange={onChange} onBlur={onBlur} style={{ width: 100, textAlign:'center' }} />                      \r\n    case 'guardar':\r\n      return <button className='btn btn-outline-dark' onClick={handleSave} style={{ alignItems: 'center' }}>\r\n        <div style={{ color: 'blue' }}>\r\n          <i className={`fas fa-save`} />\r\n        </div>\r\n      </button>\r\n    default:\r\n      return <p style={{ width: 300 }}>{value}</p>\r\n  }\r\n}\r\n//gpsLong, gpsLat,\r\n//TIPO DE LA COLUMNA\r\nconst defaultColumn = {\r\n  Cell: EditableCell,\r\n}\r\n\r\nconst Table = ({ columns, data, updateMyData, skipPageReset }) => {\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    prepareRow,\r\n    page,\r\n    canPreviousPage,\r\n    canNextPage,\r\n    pageOptions,\r\n    pageCount,\r\n    gotoPage,\r\n    nextPage,\r\n    previousPage,\r\n    setPageSize,\r\n    state: { pageIndex, pageSize },\r\n  } = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n      defaultColumn,\r\n      autoResetPage: !skipPageReset,\r\n      updateMyData,\r\n    },\r\n    usePagination\r\n  )\r\n\r\n  // Render the UI for your table\r\n  return (\r\n    <>\r\n\r\n \r\n      <table {...getTableProps()}>\r\n        <thead>\r\n          {headerGroups.map(headerGroup => (\r\n            <tr {...headerGroup.getHeaderGroupProps()}>\r\n              {headerGroup.headers.map(column => (\r\n                <th style={{ backgroundColor: 'lightgrey' }} {...column.getHeaderProps()}>{column.render('Header')}</th>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </thead>\r\n        <tbody {...getTableBodyProps()}>\r\n          {page.map((row, i) => {\r\n            prepareRow(row)\r\n            return (\r\n              <tr {...row.getRowProps()}>\r\n                {row.cells.map(cell => {\r\n                  return <td {...cell.getCellProps()}>{cell.render('Cell')}</td>\r\n                })}\r\n              </tr>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n     {/* Paginacion */}\r\n     <div className=\"pagination\" style={{ justifyContent: 'flex-start', alignItems: 'center' }}>\r\n        <button className='btn btn-dark mr-1' onClick={() => gotoPage(0)} disabled={!canPreviousPage}>\r\n          {'<<'}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => previousPage()} disabled={!canPreviousPage}>\r\n          {'< '}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => nextPage()} disabled={!canNextPage}>\r\n          {' >'}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => gotoPage(pageCount - 1)} disabled={!canNextPage}>\r\n          {'>>'}\r\n        </button>{'     '}\r\n        <span>\r\n          Página{'     '}\r\n          <strong>\r\n            {pageIndex + 1} de {pageOptions.length}\r\n          </strong>{' '}\r\n        </span>\r\n        <span>\r\n          | Ir a la Página:{' '}\r\n          <input\r\n            type=\"number\"\r\n            defaultValue={pageIndex + 1}\r\n            onChange={e => {\r\n              const page = e.target.value ? Number(e.target.value) - 1 : 0\r\n              gotoPage(page)\r\n            }}\r\n            style={{ width: '100px', borderWidth: 1, borderColor: 'black' }}\r\n          />\r\n        </span>{' '}\r\n        <select\r\n          style={{ width: 100 }}\r\n          value={pageSize}\r\n          onChange={e => {\r\n            setPageSize(Number(e.target.value))\r\n          }}\r\n        >\r\n          {[10, 20, 30, 40, 50].map(pageSize => (\r\n            <option key={pageSize} value={pageSize}>\r\n              Ver {pageSize}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      {/* Fin de Paginacion */}\r\n\r\n    </>\r\n  )\r\n}\r\n\r\n\r\n// ESTILOS\r\nconst Styles = styled.div`\r\n  padding: 1rem;\r\n  table {\r\n    border-spacing: 0;\r\n    border: 0.5px solid black;\r\n    tr {\r\n      :last-child {\r\n        td {\r\n          border-bottom: 0;\r\n        }\r\n      }\r\n    }\r\n    th,\r\n    td {\r\n      margin: 0;\r\n      padding: 0.2rem;\r\n      border-bottom: 0.5px solid black;\r\n      border-right: 0.5px solid black;\r\n      :last-child {\r\n        border-right: 0;\r\n      }\r\n      input {\r\n        font-size: 1rem;\r\n        padding: 0;\r\n        margin: 0;\r\n        border: 0;\r\n      }\r\n    }\r\n  }\r\n  .pagination {\r\n    padding: 0.2rem;\r\n  }\r\n`","import {  useContext } from \"react\"\r\nimport { Divider } from \"@material-ui/core\"\r\nimport { TablePaises } from \"../../components/tablas/geo/TablePaises\"\r\nimport { TextControl, TextControlNum } from \"../../components/ui/atom/FormControls\"\r\nimport { SpacerHorizontal } from \"../../components/ui/atom/Spacer\"\r\nimport { MasterDataContext } from \"../../context/MasterDataContext\"\r\nimport { useForm } from \"../../hooks/useForm\"\r\nimport { TitlePage } from \"../../components/ui/atom/TitlePage\"\r\n\r\nexport const PaisScreen = () => {\r\n\r\n    const { pais, codigo, gpsLong, gpsLat, onChange  } = useForm({\r\n        pais: \"\",\r\n        codigo: \"\",\r\n        gpsLat: 0,\r\n        gpsLong: 0,\r\n    })\r\n\r\n    const {crearPais} = useContext(MasterDataContext)\r\n\r\n    const handleAdd =  (e: any) => {\r\n        e.preventDefault()\r\n        crearPais({nombre : pais, codigo});\r\n    }\r\n\r\n    return (\r\n        <div className=\"flexbox-container\">\r\n            <div\r\n                className=\"col-md-4\"\r\n                style={{ height: \"74vh\", overflowY: \"scroll\" }}\r\n            >\r\n                <TitlePage title='Crear País' />\r\n\r\n                <SpacerHorizontal />\r\n                <Divider />\r\n                <SpacerHorizontal />\r\n                <button \r\n                    className='btn btn-success ml-2' \r\n                    onClick={handleAdd}\r\n                >\r\n                    Guardar\r\n                </button>\r\n                <SpacerHorizontal />\r\n                <TextControl\r\n                    label=\"País\"\r\n                    name='pais'\r\n                    value={pais}\r\n                    callBack={(e) => onChange(e, 'pais')}\r\n                />\r\n                <TextControl\r\n                    label=\"Código\"\r\n                    name='codigo'\r\n                    value={codigo}\r\n                    callBack={(e) => onChange(e, 'codigo')}\r\n                />\r\n                <TextControlNum\r\n                    label=\"Latitud\"\r\n                    name='gpsLat'\r\n                    value={gpsLat}\r\n                    callBack={(e) => onChange(e, 'gpsLat')}\r\n                />\r\n\r\n                <TextControlNum\r\n                    label=\"Longitud\"\r\n                    name='gpsLong'\r\n                    value={gpsLong}\r\n                    callBack={(e) => onChange(e, 'gpsLong')}\r\n                />                \r\n            </div>\r\n            <div\r\n                className=\"col-md-8\"\r\n                style={{ height: \"74vh\", overflowY: \"scroll\" }}\r\n            >\r\n                <TitlePage title='Lista de Países' />\r\n                <SpacerHorizontal />\r\n                <Divider />\r\n                <TablePaises/>              \r\n            </div>            \r\n        </div>\r\n    )\r\n}\r\n\r\n","import styled from 'styled-components'\r\nimport { useTable, usePagination } from 'react-table'\r\nimport { useContext, useEffect, useMemo, useState } from 'react'\r\nimport { MasterDataContext } from '../../../context/MasterDataContext'\r\nimport { SelectPais, SelectPaisTable } from '../../ui/atom/FormControls'\r\n\r\n\r\n//COMPONENTE PRINCIPAL DE LA TABLA\r\nexport const TableProvincias = () => {\r\n  //Configuracion de las columnas\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: 'Provincias',\r\n        columns: [\r\n          {\r\n            Header: 'Nombre',\r\n            accessor: 'nombre',\r\n          },\r\n          {\r\n            Header: 'País',\r\n            accessor: 'pais',\r\n          },                   \r\n          {\r\n            \r\n            Header: '',\r\n            accessor: 'guardar',\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n    []\r\n  )\r\n\r\n  const { provincias, cargaProvinciasNewData , limpiaProvinciaNewData} = useContext(MasterDataContext)\r\n  const [skipPageReset, setSkipPageReset] = useState(false)\r\n  const [pais, setPais] = useState(null)\r\n  const [data, setData] = useState(provincias)\r\n\r\n\r\n  const updateMyData = (rowIndex, columnId, value) => {\r\n    setSkipPageReset(true)\r\n    setData(old =>\r\n      old.map((row, index) => {\r\n        if (index === rowIndex) {\r\n          return {\r\n            ...old[rowIndex],\r\n            [columnId]: value,\r\n          }\r\n        }\r\n        return row\r\n      })\r\n    )\r\n  }\r\n  \r\n  useEffect(() => {\r\n    let datos;\r\n    if (!pais || pais === '0') {\r\n      datos = provincias\r\n    } else {\r\n      datos = provincias.filter(provincia => provincia.pais._id === pais)\r\n    }\r\n    setData(datos)\r\n  }, [provincias, pais])\r\n\r\n\r\n  useEffect(() => {\r\n    setSkipPageReset(false)\r\n  }, [data])\r\n\r\n  useEffect(() => {\r\n    cargaProvinciasNewData(data)\r\n    return () => {\r\n      limpiaProvinciaNewData()\r\n    }      \r\n  }, [data])\r\n\r\n  return (\r\n    <Styles>\r\n      <Table\r\n        columns={columns}\r\n        data={data}\r\n        updateMyData={updateMyData}\r\n        skipPageReset={skipPageReset}\r\n        pais={pais}\r\n        setPais={setPais}\r\n      />\r\n    </Styles>\r\n  )\r\n}\r\n\r\n// CONSTRUCCION DE LA CELDA\r\nconst EditableCell = ({\r\n  value: initialValue,\r\n  row: { index },\r\n  column: { id },\r\n  updateMyData,\r\n}) => {\r\n  const { actualizaProvincia,paises } = useContext(MasterDataContext)\r\n  const [value, setValue] = useState(initialValue)\r\n\r\n  const onChange = (e) => {\r\n    setValue(e.target.value)\r\n  }\r\n  \r\n  const onChangeValue = (e: any) => {\r\n    console.log(e);\r\n    setValue(e)\r\n  }\r\n\r\n  const onBlur = () => {\r\n    updateMyData(index, id, value)\r\n  }\r\n\r\n  const handleSave = () => {\r\n    actualizaProvincia(index);\r\n  }\r\n\r\n  useEffect(() => {\r\n    setValue(initialValue)\r\n  }, [initialValue])\r\n\r\n  switch (id) {\r\n    case 'nombre':\r\n      return <input value={value} onChange={onChange} onBlur={onBlur} style={{ width: 250 }} />\r\n    case 'pais':\r\n      return <SelectPaisTable name='pais' value={value._id} callBack={onChangeValue} data={paises} onBlur={onBlur} />\r\n    case 'guardar':\r\n      return <button className='btn btn-outline-dark' onClick={handleSave} style={{ alignItems: 'center' }}>\r\n        <div style={{ color: 'blue' }}>\r\n          <i className={`fas fa-save`} />\r\n        </div>\r\n      </button>\r\n    default:\r\n      return <p style={{ width: 300 }}>{value}</p>\r\n  }\r\n}\r\n//gpsLong, gpsLat,\r\n//TIPO DE LA COLUMNA\r\nconst defaultColumn = {\r\n  Cell: EditableCell,\r\n}\r\n\r\nconst Table = ({ columns, data, updateMyData, skipPageReset, pais, setPais }) => {\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    prepareRow,\r\n    page,\r\n    canPreviousPage,\r\n    canNextPage,\r\n    pageOptions,\r\n    pageCount,\r\n    gotoPage,\r\n    nextPage,\r\n    previousPage,\r\n    setPageSize,\r\n    state: { pageIndex, pageSize },\r\n  } = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n      defaultColumn,\r\n      autoResetPage: !skipPageReset,\r\n      updateMyData,\r\n    },\r\n    usePagination\r\n  )\r\n\r\n  // Render the UI for your table\r\n\r\n  const {paises} = useContext(MasterDataContext)\r\n\r\n  return (\r\n    <>\r\n      <SelectPais\r\n          label=\"Filtro país\"\r\n          name='pais'\r\n          value={pais}\r\n          callBack={(e) => setPais(e)}\r\n          data={paises}\r\n      /> \r\n\r\n\r\n\r\n      <table {...getTableProps()}>\r\n        <thead>\r\n          {headerGroups.map(headerGroup => (\r\n            <tr {...headerGroup.getHeaderGroupProps()}>\r\n              {headerGroup.headers.map(column => (\r\n                <th style={{ backgroundColor: 'lightgrey' }} {...column.getHeaderProps()}>{column.render('Header')}</th>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </thead>\r\n        <tbody {...getTableBodyProps()}>\r\n          {page.map((row, i) => {\r\n            prepareRow(row)\r\n            return (\r\n              <tr {...row.getRowProps()}>\r\n                {row.cells.map(cell => {\r\n                  return <td {...cell.getCellProps()}>{cell.render('Cell')}</td>\r\n                })}\r\n              </tr>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n      {/* Paginacion */}\r\n      <div className=\"pagination\" style={{ justifyContent: 'flex-start', alignItems: 'center' }}>\r\n        <button className='btn btn-dark mr-1' onClick={() => gotoPage(0)} disabled={!canPreviousPage}>\r\n          {'<<'}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => previousPage()} disabled={!canPreviousPage}>\r\n          {'< '}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => nextPage()} disabled={!canNextPage}>\r\n          {' >'}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => gotoPage(pageCount - 1)} disabled={!canNextPage}>\r\n          {'>>'}\r\n        </button>{'     '}\r\n        <span>\r\n          Página{'     '}\r\n          <strong>\r\n            {pageIndex + 1} de {pageOptions.length}\r\n          </strong>{' '}\r\n        </span>\r\n        <span>\r\n          | Ir a la Página:{' '}\r\n          <input\r\n            type=\"number\"\r\n            defaultValue={pageIndex + 1}\r\n            onChange={e => {\r\n              const page = e.target.value ? Number(e.target.value) - 1 : 0\r\n              gotoPage(page)\r\n            }}\r\n            style={{ width: '100px', borderWidth: 1, borderColor: 'black' }}\r\n          />\r\n        </span>{' '}\r\n        <select\r\n          style={{ width: 100 }}\r\n          value={pageSize}\r\n          onChange={e => {\r\n            setPageSize(Number(e.target.value))\r\n          }}\r\n        >\r\n          {[10, 20, 30, 40, 50].map(pageSize => (\r\n            <option key={pageSize} value={pageSize}>\r\n              Ver {pageSize}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      {/* Fin de Paginacion */}      \r\n    </>\r\n  )\r\n}\r\n\r\n\r\n// ESTILOS\r\nconst Styles = styled.div`\r\n  padding: 1rem;\r\n  table {\r\n    border-spacing: 0;\r\n    border: 0.5px solid black;\r\n    tr {\r\n      :last-child {\r\n        td {\r\n          border-bottom: 0;\r\n        }\r\n      }\r\n    }\r\n    th,\r\n    td {\r\n      margin: 0;\r\n      padding: 0.1rem;\r\n      border-bottom: 0.5px solid black;\r\n      border-right: 0.5px solid black;\r\n      :last-child {\r\n        border-right: 0;\r\n      }\r\n      input {\r\n        font-size: 1rem;\r\n        padding: 0;\r\n        margin: 0;\r\n        border: 0;\r\n      }\r\n    }\r\n  }\r\n  .pagination {\r\n    padding: 0.2rem;\r\n  }\r\n`","import {  useContext } from \"react\"\r\nimport { Divider } from \"@material-ui/core\"\r\nimport { SelectPais, TextControl } from \"../../components/ui/atom/FormControls\"\r\nimport { SpacerHorizontal } from \"../../components/ui/atom/Spacer\"\r\nimport { MasterDataContext } from \"../../context/MasterDataContext\"\r\nimport { useForm } from \"../../hooks/useForm\"\r\nimport { TableProvincias } from '../../components/tablas/geo/TableProvincias';\r\nimport { TitlePage } from \"../../components/ui/atom/TitlePage\"\r\n\r\nexport const ProvinciaScreen = () => {\r\n\r\n    const { provincia, pais, onChange  } = useForm({\r\n        provincia: \"\",\r\n        pais: \"\",\r\n    })\r\n\r\n    const {paises, crearProvincia} = useContext(MasterDataContext)\r\n\r\n    const handleAdd =  (e: any) => {\r\n        e.preventDefault()\r\n        crearProvincia({nombre : provincia, pais});\r\n    }\r\n\r\n    return (\r\n        <div className=\"flexbox-container\">\r\n            <div\r\n                className=\"col-md-4\"\r\n                style={{ height: \"74vh\", overflowY: \"scroll\" }}\r\n            >\r\n                <TitlePage title='Crear Provincia' />\r\n                <SpacerHorizontal />\r\n                <Divider />\r\n                <SpacerHorizontal />\r\n                <button \r\n                    className='btn btn-success ml-2' \r\n                    onClick={handleAdd}\r\n                >\r\n                    Guardar\r\n                </button>\r\n                <SpacerHorizontal />\r\n                <SelectPais\r\n                    label=\"País\"\r\n                    name='pais'\r\n                    value={pais}\r\n                    callBack={(e) => onChange(e, 'pais')}\r\n                    data={paises}\r\n                />           \r\n                <TextControl\r\n                    label=\"Provincia\"\r\n                    name='provincia'\r\n                    value={provincia}\r\n                    callBack={(e) => onChange(e, 'provincia')}\r\n                />\r\n            </div>\r\n            <div\r\n                className=\"col-md-8\"\r\n                style={{ height: \"74vh\", overflowY: \"scroll\" }}\r\n            >\r\n                <TitlePage title='Lista de Provincias' />\r\n                <Divider />\r\n                <TableProvincias/>              \r\n            </div>            \r\n        </div>\r\n    )\r\n}\r\n\r\n","import styled from 'styled-components'\r\nimport { useTable, usePagination } from 'react-table'\r\nimport { useContext, useEffect, useMemo, useState } from 'react'\r\nimport { MasterDataContext } from '../../../context/MasterDataContext'\r\nimport { SelectPais, SelectProvincia, SelectProvinciaTable } from '../../ui/atom/FormControls'\r\n\r\n\r\n//COMPONENTE PRINCIPAL DE LA TABLA\r\nexport const TableCanton = () => {\r\n  //Configuracion de las columnas\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: 'Cantones',\r\n        columns: [\r\n          {\r\n            Header: 'Nombre',\r\n            accessor: 'nombre',\r\n          },\r\n          {\r\n            Header: 'Provincia',\r\n            accessor: 'provincia',\r\n          },                   \r\n          {\r\n            Header: '',\r\n            accessor: 'guardar',\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n    [])\r\n\r\n  const { cantones, cargaCantonesNewData , limpiaCantonNewData} = useContext(MasterDataContext)\r\n  const [skipPageReset, setSkipPageReset] = useState(false)\r\n  const [pais, setPais] = useState(null)\r\n  const [provincia, setProvincia] = useState(null)\r\n  const [data, setData] = useState(cantones)\r\n\r\n\r\n  const updateMyData = (rowIndex, columnId, value) => {\r\n    setSkipPageReset(true)\r\n    setData(old =>\r\n      old.map((row, index) => {\r\n        if (index === rowIndex) {\r\n          return {\r\n            ...old[rowIndex],\r\n            [columnId]: value,\r\n          }\r\n        }\r\n        return row\r\n      })\r\n    )\r\n  }\r\n  \r\n  useEffect(() => {\r\n    let datos;\r\n    if (!provincia || provincia === '0') {\r\n      datos = cantones\r\n    } else {\r\n      datos = cantones.filter(cantones => cantones.provincia._id === provincia)\r\n    }\r\n    setData(datos)\r\n  }, [cantones, provincia])\r\n\r\n\r\n  useEffect(() => {\r\n    setSkipPageReset(false)\r\n  }, [data])\r\n\r\n  useEffect(() => {\r\n    cargaCantonesNewData(data)\r\n    return () => {\r\n      limpiaCantonNewData()\r\n    }      \r\n  }, [data])\r\n\r\n  return (\r\n    <Styles>\r\n      <Table\r\n        columns={columns}\r\n        data={data}\r\n        updateMyData={updateMyData}\r\n        skipPageReset={skipPageReset}\r\n        pais={pais}\r\n        setPais={setPais}\r\n        provincia={provincia}\r\n        setProvincia={setProvincia}\r\n      />\r\n    </Styles>\r\n  )\r\n}\r\n\r\n// CONSTRUCCION DE LA CELDA\r\nconst EditableCell = ({\r\n  value: initialValue,\r\n  row: { index },\r\n  column: { id },\r\n  updateMyData,\r\n}) => {\r\n  const { actualizaCanton,provincias } = useContext(MasterDataContext)\r\n  const [value, setValue] = useState(initialValue)\r\n\r\n  const onChange = (e) => {\r\n    setValue(e.target.value)\r\n  }\r\n  \r\n  const onChangeValue = (e: any) => {\r\n    setValue(e)\r\n  }\r\n\r\n  const onBlur = () => {\r\n    updateMyData(index, id, value)\r\n  }\r\n\r\n  const handleSave = () => {\r\n    actualizaCanton(index);\r\n  }\r\n\r\n  useEffect(() => {\r\n    setValue(initialValue)\r\n  }, [initialValue])\r\n\r\n  switch (id) {\r\n    case 'nombre':\r\n      return <input value={value} onChange={onChange} onBlur={onBlur} style={{ width: 250 }} />\r\n    case 'provincia':\r\n      return <SelectProvinciaTable name='provincia' value={value._id} callBack={onChangeValue} data={provincias} onBlur={onBlur} />\r\n    case 'guardar':\r\n      return <button className='btn btn-outline-dark' onClick={handleSave} style={{ alignItems: 'center' }}>\r\n        <div style={{ color: 'blue' }}>\r\n          <i className={`fas fa-save`} />\r\n        </div>\r\n      </button>\r\n    default:\r\n      return <p style={{ width: 300 }}>{value}</p>\r\n  }\r\n}\r\n//gpsLong, gpsLat,\r\n//TIPO DE LA COLUMNA\r\nconst defaultColumn = {\r\n  Cell: EditableCell,\r\n}\r\n\r\nconst Table = ({ columns, data, updateMyData, skipPageReset, pais, setPais,provincia,setProvincia }) => {\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    prepareRow,\r\n    page,\r\n    canPreviousPage,\r\n    canNextPage,\r\n    pageOptions,\r\n    pageCount,\r\n    gotoPage,\r\n    nextPage,\r\n    previousPage,\r\n    setPageSize,\r\n    state: { pageIndex, pageSize },\r\n  } = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n      defaultColumn,\r\n      autoResetPage: !skipPageReset,\r\n      updateMyData,\r\n    },\r\n    usePagination\r\n  )\r\n\r\n  // Render the UI for your table\r\n\r\n  const {paises, provincias} = useContext(MasterDataContext)\r\n  const provinciasFilter = provincias.filter(provincia => provincia.pais._id === pais)\r\n  return (\r\n    <div className=\"col-md-12\">\r\n      <SelectPais\r\n          label=\"País\"\r\n          name='pais'\r\n          value={pais}\r\n          callBack={(e) => setPais(e)}\r\n          data={paises}\r\n      /> \r\n\r\n      <SelectProvincia\r\n          label=\"Provincia\"\r\n          name='provincia'\r\n          value={provincia}\r\n          callBack={(e) => setProvincia(e)}\r\n          data={provinciasFilter}\r\n      /> \r\n\r\n\r\n      <table {...getTableProps()}>\r\n        <thead>\r\n          {headerGroups.map(headerGroup => (\r\n            <tr {...headerGroup.getHeaderGroupProps()}>\r\n              {headerGroup.headers.map(column => (\r\n                <th style={{ backgroundColor: 'lightgrey' }} {...column.getHeaderProps()}>{column.render('Header')}</th>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </thead>\r\n        <tbody {...getTableBodyProps()}>\r\n          {page.map((row, i) => {\r\n            prepareRow(row)\r\n            return (\r\n              <tr {...row.getRowProps()}>\r\n                {row.cells.map(cell => {\r\n                  return <td {...cell.getCellProps()}>{cell.render('Cell')}</td>\r\n                })}\r\n              </tr>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n      {/* Paginacion */}\r\n      <div className=\"pagination\" style={{ justifyContent: 'flex-start', alignItems: 'center' }}>\r\n        <button className='btn btn-dark mr-1' onClick={() => gotoPage(0)} disabled={!canPreviousPage}>\r\n          {'<<'}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => previousPage()} disabled={!canPreviousPage}>\r\n          {'< '}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => nextPage()} disabled={!canNextPage}>\r\n          {' >'}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => gotoPage(pageCount - 1)} disabled={!canNextPage}>\r\n          {'>>'}\r\n        </button>{'     '}\r\n        <span>\r\n          Página{'     '}\r\n          <strong>\r\n            {pageIndex + 1} de {pageOptions.length}\r\n          </strong>{' '}\r\n        </span>\r\n        <span>\r\n          | Ir a la Página:{' '}\r\n          <input\r\n            type=\"number\"\r\n            defaultValue={pageIndex + 1}\r\n            onChange={e => {\r\n              const page = e.target.value ? Number(e.target.value) - 1 : 0\r\n              gotoPage(page)\r\n            }}\r\n            style={{ width: '100px', borderWidth: 1, borderColor: 'black' }}\r\n          />\r\n        </span>{' '}\r\n        <select\r\n          style={{ width: 100 }}\r\n          value={pageSize}\r\n          onChange={e => {\r\n            setPageSize(Number(e.target.value))\r\n          }}\r\n        >\r\n          {[10, 20, 30, 40, 50].map(pageSize => (\r\n            <option key={pageSize} value={pageSize}>\r\n              Ver {pageSize}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      {/* Fin de Paginacion */}      \r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n// ESTILOS\r\nconst Styles = styled.div`\r\n  padding: 1rem;\r\n  table {\r\n    border-spacing: 0;\r\n    border: 0.5px solid black;\r\n    tr {\r\n      :last-child {\r\n        td {\r\n          border-bottom: 0;\r\n        }\r\n      }\r\n    }\r\n    th,\r\n    td {\r\n      margin: 0;\r\n      padding: 0.1rem;\r\n      border-bottom: 0.5px solid black;\r\n      border-right: 0.5px solid black;\r\n      :last-child {\r\n        border-right: 0;\r\n      }\r\n      input {\r\n        font-size: 1rem;\r\n        padding: 0;\r\n        margin: 0;\r\n        border: 0;\r\n      }\r\n    }\r\n  }\r\n  .pagination {\r\n    padding: 0.2rem;\r\n  }\r\n`","import { useContext, useState } from \"react\"\r\nimport { Divider } from \"@material-ui/core\"\r\nimport { SelectPais, SelectProvincia, TextControl } from \"../../components/ui/atom/FormControls\"\r\nimport { SpacerHorizontal } from \"../../components/ui/atom/Spacer\"\r\nimport { MasterDataContext } from \"../../context/MasterDataContext\"\r\nimport { useForm } from \"../../hooks/useForm\"\r\nimport { TableCanton } from \"../../components/tablas/geo/TableCanton\"\r\nimport { TitlePage } from \"../../components/ui/atom/TitlePage\"\r\n\r\nexport const CantonScreen = () => {\r\n\r\n    const { canton, provincia, onChange  } = useForm({\r\n        canton: \"\",\r\n        provincia: \"\",\r\n    })\r\n\r\n    const {paises, provincias, crearCanton} = useContext(MasterDataContext)\r\n    const [pais, setPais] = useState('')\r\n    const provinciasFilter = provincias.filter(provincia => provincia.pais._id === pais)\r\n    const handleAdd =  (e: any) => {\r\n        e.preventDefault()\r\n        crearCanton({nombre : canton, provincia});\r\n    }\r\n    return (\r\n        <div className=\"flexbox-container\">\r\n            <div\r\n                className=\"col-md-4\"\r\n                style={{ height: \"74vh\", overflowY: \"scroll\" }}\r\n            >\r\n                <TitlePage title='Crear Cantón' />\r\n\r\n                <SpacerHorizontal />\r\n                <Divider />\r\n                <SpacerHorizontal />\r\n                <button \r\n                    className='btn btn-success ml-2' \r\n                    onClick={handleAdd}\r\n                >\r\n                    Guardar\r\n                </button>\r\n                <SpacerHorizontal />\r\n                <SelectPais\r\n                    label=\"País\"\r\n                    name='pais'\r\n                    value={pais}\r\n                    callBack={(e) => setPais(e)}\r\n                    data={paises}\r\n                />   \r\n                <SelectProvincia\r\n                    label=\"Provincia\"\r\n                    name='provincia'\r\n                    value={provincia}\r\n                    callBack={(e) => onChange(e, 'provincia')}\r\n                    data={provinciasFilter}\r\n                />                          \r\n                <TextControl\r\n                    label=\"Cantón\"\r\n                    name='canton'\r\n                    value={canton}\r\n                    callBack={(e) => onChange(e, 'canton')}\r\n                />\r\n            </div>\r\n            <div\r\n                className=\"col-md-8\"\r\n                style={{ height: \"74vh\", overflowY: \"scroll\" }}\r\n            >\r\n                <TitlePage title='Lista de Cantones' />\r\n                <Divider />\r\n                <TableCanton/>              \r\n            </div>            \r\n        </div>\r\n    )\r\n}\r\n\r\n","import styled from 'styled-components'\r\nimport { useTable, usePagination } from 'react-table'\r\nimport { useContext, useEffect, useMemo, useState } from 'react'\r\nimport { MasterDataContext } from '../../../context/MasterDataContext'\r\nimport { SelectPais,  SelectProvincia, SelectCantonTable, SelectCanton } from '../../ui/atom/FormControls';\r\n\r\n//COMPONENTE PRINCIPAL DE LA TABLA\r\nexport const TableDistrito = () => {\r\n  //Configuracion de las columnas\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: 'Distritos',\r\n        columns: [\r\n          {\r\n            Header: 'Nombre',\r\n            accessor: 'nombre',\r\n          },\r\n          {\r\n            Header: 'Cantón',\r\n            accessor: 'canton',\r\n          },                   \r\n          {\r\n            Header: '',\r\n            accessor: 'guardar',\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n    [])\r\n\r\n  const { distritos, cargaDistritosNewData , limpiaDistritoNewData} = useContext(MasterDataContext)\r\n  const [skipPageReset, setSkipPageReset] = useState(false)\r\n  const [pais, setPais] = useState(null)\r\n  const [provincia, setProvincia] = useState(null)\r\n  const [canton, setCanton] = useState(null)\r\n  const [data, setData] = useState(distritos)\r\n\r\n\r\n  const updateMyData = (rowIndex, columnId, value) => {\r\n    setSkipPageReset(true)\r\n    setData(old =>\r\n      old.map((row, index) => {\r\n        if (index === rowIndex) {\r\n          return {\r\n            ...old[rowIndex],\r\n            [columnId]: value,\r\n          }\r\n        }\r\n        return row\r\n      })\r\n    )\r\n  }\r\n  \r\n  useEffect(() => {\r\n    let datos;\r\n    if (!canton || canton === '0') {\r\n      datos = distritos\r\n    } else {\r\n      datos = distritos.filter(distrito => distrito.canton._id === canton)\r\n    }\r\n    setData(datos)\r\n  }, [distritos, canton])\r\n\r\n\r\n  useEffect(() => {\r\n    setSkipPageReset(false)\r\n  }, [data])\r\n\r\n  useEffect(() => {\r\n    cargaDistritosNewData(data)\r\n    return () => {\r\n      limpiaDistritoNewData()\r\n    }      \r\n  }, [data])\r\n\r\n  return (\r\n    <Styles>\r\n      <Table\r\n        columns={columns}\r\n        data={data}\r\n        updateMyData={updateMyData}\r\n        skipPageReset={skipPageReset}\r\n        pais={pais}\r\n        setPais={setPais}\r\n        provincia={provincia}\r\n        setProvincia={setProvincia}\r\n        canton={canton}\r\n        setCanton={setCanton}        \r\n      />\r\n    </Styles>\r\n  )\r\n}\r\n\r\n// CONSTRUCCION DE LA CELDA\r\nconst EditableCell = ({\r\n  value: initialValue,\r\n  row: { index },\r\n  column: { id },\r\n  updateMyData,\r\n}) => {\r\n  const { actualizaDistrito, cantones } = useContext(MasterDataContext)\r\n  const [value, setValue] = useState(initialValue)\r\n\r\n  const onChange = (e) => {\r\n    setValue(e.target.value)\r\n  }\r\n  \r\n  const onChangeValue = (e: any) => {\r\n    setValue(e)\r\n  }\r\n\r\n  const onBlur = () => {\r\n    updateMyData(index, id, value)\r\n  }\r\n\r\n  const handleSave = () => {\r\n    actualizaDistrito(index);\r\n  }\r\n\r\n  useEffect(() => {\r\n    setValue(initialValue)\r\n  }, [initialValue])\r\n\r\n  switch (id) {\r\n    case 'nombre':\r\n      return <input value={value} onChange={onChange} onBlur={onBlur} style={{ width: 250 }} />\r\n    case 'canton':\r\n      return <SelectCantonTable name='canton' value={value._id} callBack={onChangeValue} data={cantones} onBlur={onBlur} />\r\n    case 'guardar':\r\n      return <button className='btn btn-outline-dark' onClick={handleSave} style={{ alignItems: 'center' }}>\r\n        <div style={{ color: 'blue' }}>\r\n          <i className={`fas fa-save`} />\r\n        </div>\r\n      </button>\r\n    default:\r\n      return <p style={{ width: 300 }}>{value}</p>\r\n  }\r\n}\r\n//gpsLong, gpsLat,\r\n//TIPO DE LA COLUMNA\r\nconst defaultColumn = {\r\n  Cell: EditableCell,\r\n}\r\n\r\nconst Table = ({ columns, data, updateMyData, skipPageReset, pais, setPais,provincia,setProvincia, canton, setCanton }) => {\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    prepareRow,\r\n    page,\r\n    canPreviousPage,\r\n    canNextPage,\r\n    pageOptions,\r\n    pageCount,\r\n    gotoPage,\r\n    nextPage,\r\n    previousPage,\r\n    setPageSize,\r\n    state: { pageIndex, pageSize },\r\n  } = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n      defaultColumn,\r\n      autoResetPage: !skipPageReset,\r\n      updateMyData,\r\n    },\r\n    usePagination\r\n  )\r\n\r\n  // Render the UI for your table\r\n\r\n  const {paises, provincias, cantones} = useContext(MasterDataContext)\r\n  const provinciasFilter = provincias.filter(provincia => provincia.pais._id === pais)\r\n  const cantonesFilter = cantones.filter(cantone => cantone.provincia._id === provincia)\r\n\r\n  return (\r\n    <div className=\"col-md-12\">\r\n      <SelectPais\r\n          label=\"País\"\r\n          name='pais'\r\n          value={pais}\r\n          callBack={(e) => setPais(e)}\r\n          data={paises}\r\n      /> \r\n\r\n      <SelectProvincia\r\n          label=\"Provincia\"\r\n          name='provincia'\r\n          value={provincia}\r\n          callBack={(e) => setProvincia(e)}\r\n          data={provinciasFilter}\r\n      /> \r\n\r\n      <SelectCanton\r\n          label=\"Cantón\"\r\n          name='canton'\r\n          value={canton}\r\n          callBack={(e) => setCanton(e)}\r\n          data={cantonesFilter}\r\n      /> \r\n\r\n      <table {...getTableProps()}>\r\n        <thead>\r\n          {headerGroups.map(headerGroup => (\r\n            <tr {...headerGroup.getHeaderGroupProps()}>\r\n              {headerGroup.headers.map(column => (\r\n                <th style={{ backgroundColor: 'lightgrey' }} {...column.getHeaderProps()}>{column.render('Header')}</th>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </thead>\r\n        <tbody {...getTableBodyProps()}>\r\n          {page.map((row, i) => {\r\n            prepareRow(row)\r\n            return (\r\n              <tr {...row.getRowProps()}>\r\n                {row.cells.map(cell => {\r\n                  return <td {...cell.getCellProps()}>{cell.render('Cell')}</td>\r\n                })}\r\n              </tr>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n      {/* Paginacion */}\r\n      <div className=\"pagination\" style={{ justifyContent: 'flex-start', alignItems: 'center' }}>\r\n        <button className='btn btn-dark mr-1' onClick={() => gotoPage(0)} disabled={!canPreviousPage}>\r\n          {'<<'}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => previousPage()} disabled={!canPreviousPage}>\r\n          {'< '}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => nextPage()} disabled={!canNextPage}>\r\n          {' >'}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => gotoPage(pageCount - 1)} disabled={!canNextPage}>\r\n          {'>>'}\r\n        </button>{'     '}\r\n        <span>\r\n          Página{'     '}\r\n          <strong>\r\n            {pageIndex + 1} de {pageOptions.length}\r\n          </strong>{' '}\r\n        </span>\r\n        <span>\r\n          | Ir a la Página:{' '}\r\n          <input\r\n            type=\"number\"\r\n            defaultValue={pageIndex + 1}\r\n            onChange={e => {\r\n              const page = e.target.value ? Number(e.target.value) - 1 : 0\r\n              gotoPage(page)\r\n            }}\r\n            style={{ width: '100px', borderWidth: 1, borderColor: 'black' }}\r\n          />\r\n        </span>{' '}\r\n        <select\r\n          style={{ width: 100 }}\r\n          value={pageSize}\r\n          onChange={e => {\r\n            setPageSize(Number(e.target.value))\r\n          }}\r\n        >\r\n          {[10, 20, 30, 40, 50].map(pageSize => (\r\n            <option key={pageSize} value={pageSize}>\r\n              Ver {pageSize}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      {/* Fin de Paginacion */}      \r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n// ESTILOS\r\nconst Styles = styled.div`\r\n  padding: 1rem;\r\n  table {\r\n    border-spacing: 0;\r\n    border: 0.5px solid black;\r\n    tr {\r\n      :last-child {\r\n        td {\r\n          border-bottom: 0;\r\n        }\r\n      }\r\n    }\r\n    th,\r\n    td {\r\n      margin: 0;\r\n      padding: 0.1rem;\r\n      border-bottom: 0.5px solid black;\r\n      border-right: 0.5px solid black;\r\n      :last-child {\r\n        border-right: 0;\r\n      }\r\n      input {\r\n        font-size: 1rem;\r\n        padding: 0;\r\n        margin: 0;\r\n        border: 0;\r\n      }\r\n    }\r\n  }\r\n  .pagination {\r\n    padding: 0.2rem;\r\n  }\r\n`","import { useContext, useState } from \"react\"\r\nimport { Divider } from \"@material-ui/core\"\r\nimport { SelectPais, SelectProvincia, TextControl, SelectCanton } from '../../components/ui/atom/FormControls';\r\nimport { SpacerHorizontal } from \"../../components/ui/atom/Spacer\"\r\nimport { MasterDataContext } from \"../../context/MasterDataContext\"\r\nimport { useForm } from \"../../hooks/useForm\"\r\nimport { TableDistrito } from \"../../components/tablas/geo/TableDistrito\"\r\nimport { TitlePage } from \"../../components/ui/atom/TitlePage\";\r\n\r\nexport const DistritoScreen = () => {\r\n\r\n    const { distrito, canton, onChange  } = useForm({\r\n        distrito: \"\",\r\n        canton: \"\",\r\n    })\r\n\r\n    const {paises, provincias, cantones, crearDistrito} = useContext(MasterDataContext)\r\n    const [pais, setPais] = useState('')\r\n    const [provincia, setProvincia] = useState('')\r\n    const provinciasFilter = provincias.filter(provincia => provincia.pais._id === pais)\r\n    const cantonesFilter = cantones.filter(canton => canton.provincia._id === provincia)\r\n\r\n    const handleAdd =  (e: any) => {\r\n        e.preventDefault()\r\n        crearDistrito({nombre : distrito, canton});\r\n    }\r\n\r\n    const changePais  = (e : string) => {\r\n        setPais(e)\r\n        onChange('', 'canton')\r\n    }\r\n\r\n    return (\r\n        <div className=\"flexbox-container\">\r\n            <div\r\n                className=\"col-md-4\"\r\n                style={{ height: \"74vh\", overflowY: \"scroll\" }}\r\n            >\r\n                <TitlePage title='Crear Distrito' />\r\n\r\n                <SpacerHorizontal />\r\n                <Divider />\r\n                <SpacerHorizontal />\r\n                <button \r\n                    className='btn btn-success ml-2' \r\n                    onClick={handleAdd}\r\n                >\r\n                    Guardar\r\n                </button>\r\n                <SpacerHorizontal />\r\n                <SelectPais\r\n                    label=\"País\"\r\n                    name='pais'\r\n                    value={pais}\r\n                    callBack={(e) => changePais(e)}\r\n                    data={paises}\r\n                />   \r\n                <SelectProvincia\r\n                    label=\"Provincia\"\r\n                    name='provincia'\r\n                    value={provincia}\r\n                    callBack={(e) => setProvincia(e)}\r\n                    data={provinciasFilter}\r\n                /> \r\n                <SelectCanton\r\n                    label=\"Cantón\"\r\n                    name='canton'\r\n                    value={canton}\r\n                    callBack={(e) => onChange(e, 'canton')}\r\n                    data={cantonesFilter}\r\n                />                                          \r\n                <TextControl\r\n                    label=\"Distrito\"\r\n                    name='distrito'\r\n                    value={distrito}\r\n                    callBack={(e) => onChange(e, 'distrito')}\r\n                />\r\n            </div>\r\n            <div\r\n                className=\"col-md-8\"\r\n                style={{ height: \"74vh\", overflowY: \"scroll\" }}\r\n            >\r\n                <TitlePage title='Lista de Distritos' />\r\n                <Divider />\r\n                <TableDistrito/>              \r\n            </div>            \r\n        </div>\r\n    )\r\n}\r\n\r\n","import styled from 'styled-components'\r\nimport { useTable, usePagination } from 'react-table'\r\nimport { useContext, useEffect, useMemo, useState } from 'react'\r\nimport { MasterDataContext } from '../../../context/MasterDataContext'\r\nimport { SelectPais,  SelectProvincia, SelectCanton, SelectDistritoTable, SelectDistrito } from '../../ui/atom/FormControls';\r\n\r\n//COMPONENTE PRINCIPAL DE LA TABLA\r\nexport const TableBarrio = () => {\r\n  //Configuracion de las columnas\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: 'Barrios',\r\n        columns: [\r\n          {\r\n            Header: 'Nombre',\r\n            accessor: 'nombre',\r\n          },\r\n          {\r\n            Header: 'Distrito',\r\n            accessor: 'distrito',\r\n          },                   \r\n          {\r\n            Header: '',\r\n            accessor: 'guardar',\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n    [])\r\n\r\n  const { barrios, cargaBarriosNewData , limpiaBarriosNewData} = useContext(MasterDataContext)\r\n  const [skipPageReset, setSkipPageReset] = useState(false)\r\n  const [pais, setPais] = useState(null)\r\n  const [provincia, setProvincia] = useState(null)\r\n  const [canton, setCanton] = useState(null)\r\n  const [distrito, setDistrito] = useState(null)\r\n  const [data, setData] = useState(barrios)\r\n\r\n\r\n  const updateMyData = (rowIndex, columnId, value) => {\r\n    setSkipPageReset(true)\r\n    setData(old =>\r\n      old.map((row, index) => {\r\n        if (index === rowIndex) {\r\n          return {\r\n            ...old[rowIndex],\r\n            [columnId]: value,\r\n          }\r\n        }\r\n        return row\r\n      })\r\n    )\r\n  }\r\n  \r\n  useEffect(() => {\r\n    let datos;\r\n    if (!distrito || distrito === '0') {\r\n      datos = barrios\r\n    } else {\r\n      datos = barrios.filter(barrio => barrio.distrito._id === distrito)\r\n    }\r\n    setData(datos)\r\n  }, [barrios, distrito])\r\n\r\n\r\n  useEffect(() => {\r\n    setSkipPageReset(false)\r\n  }, [data])\r\n\r\n  useEffect(() => {\r\n    cargaBarriosNewData(data)\r\n    return () => {\r\n      limpiaBarriosNewData()\r\n    }      \r\n  }, [data])\r\n\r\n  return (\r\n    <Styles>\r\n      <Table\r\n        columns={columns}\r\n        data={data}\r\n        updateMyData={updateMyData}\r\n        skipPageReset={skipPageReset}\r\n        pais={pais}\r\n        setPais={setPais}\r\n        provincia={provincia}\r\n        setProvincia={setProvincia}\r\n        canton={canton}\r\n        setCanton={setCanton}     \r\n        distrito={distrito}\r\n        setDistrito={setDistrito}              \r\n      />\r\n    </Styles>\r\n  )\r\n}\r\n\r\n// CONSTRUCCION DE LA CELDA\r\nconst EditableCell = ({\r\n  value: initialValue,\r\n  row: { index },\r\n  column: { id },\r\n  updateMyData,\r\n}) => {\r\n  const { actualizaBarrios, distritos } = useContext(MasterDataContext)\r\n  const [value, setValue] = useState(initialValue)\r\n\r\n  const onChange = (e) => {\r\n    setValue(e.target.value)\r\n  }\r\n  \r\n  const onChangeValue = (e: any) => {\r\n    setValue(e)\r\n  }\r\n\r\n  const onBlur = () => {\r\n    updateMyData(index, id, value)\r\n  }\r\n\r\n  const handleSave = () => {\r\n    actualizaBarrios(index);\r\n  }\r\n\r\n  useEffect(() => {\r\n    setValue(initialValue)\r\n  }, [initialValue])\r\n\r\n  switch (id) {\r\n    case 'nombre':\r\n      return <input value={value} onChange={onChange} onBlur={onBlur} style={{ width: 250 }} />\r\n    case 'distrito':\r\n      return <SelectDistritoTable name='canton' value={value._id} callBack={onChangeValue} data={distritos} onBlur={onBlur} />\r\n    case 'guardar':\r\n      return <button className='btn btn-outline-dark' onClick={handleSave} style={{ alignItems: 'center' }}>\r\n        <div style={{ color: 'blue' }}>\r\n          <i className={`fas fa-save`} />\r\n        </div>\r\n      </button>\r\n    default:\r\n      return <p style={{ width: 300 }}>{value}</p>\r\n  }\r\n}\r\n//gpsLong, gpsLat,\r\n//TIPO DE LA COLUMNA\r\nconst defaultColumn = {\r\n  Cell: EditableCell,\r\n}\r\n\r\nconst Table = ({ columns, data, updateMyData, skipPageReset, pais, setPais,provincia,setProvincia, canton, setCanton, distrito, setDistrito}) => {\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    prepareRow,\r\n    page,\r\n    canPreviousPage,\r\n    canNextPage,\r\n    pageOptions,\r\n    pageCount,\r\n    gotoPage,\r\n    nextPage,\r\n    previousPage,\r\n    setPageSize,\r\n    state: { pageIndex, pageSize },\r\n  } = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n      defaultColumn,\r\n      autoResetPage: !skipPageReset,\r\n      updateMyData,\r\n    },\r\n    usePagination\r\n  )\r\n\r\n  // Render the UI for your table\r\n\r\n  const {paises, provincias, cantones, distritos} = useContext(MasterDataContext)\r\n  const provinciasFilter = provincias.filter(provincia => provincia.pais._id === pais)\r\n  const cantonesFilter = cantones.filter(canton => canton.provincia._id === provincia)\r\n  const distritosFilter = distritos.filter(distrito => distrito.canton._id === canton)\r\n\r\n  return (\r\n    <div className=\"col-md-12\">\r\n      <SelectPais\r\n          label=\"País\"\r\n          name='pais'\r\n          value={pais}\r\n          callBack={(e) => setPais(e)}\r\n          data={paises}\r\n      /> \r\n\r\n      <SelectProvincia\r\n          label=\"Provincia\"\r\n          name='provincia'\r\n          value={provincia}\r\n          callBack={(e) => setProvincia(e)}\r\n          data={provinciasFilter}\r\n      /> \r\n\r\n      <SelectCanton\r\n          label=\"Cantón\"\r\n          name='canton'\r\n          value={canton}\r\n          callBack={(e) => setCanton(e)}\r\n          data={cantonesFilter}\r\n      /> \r\n\r\n      <SelectDistrito\r\n            label=\"Distrito\"\r\n            name='distrito'\r\n            value={distrito}\r\n            callBack={(e) => setDistrito(e)}\r\n            data={distritosFilter}\r\n        />\r\n\r\n\r\n      <table {...getTableProps()}>\r\n        <thead>\r\n          {headerGroups.map(headerGroup => (\r\n            <tr {...headerGroup.getHeaderGroupProps()}>\r\n              {headerGroup.headers.map(column => (\r\n                <th style={{ backgroundColor: 'lightgrey' }} {...column.getHeaderProps()}>{column.render('Header')}</th>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </thead>\r\n        <tbody {...getTableBodyProps()}>\r\n          {page.map((row, i) => {\r\n            prepareRow(row)\r\n            return (\r\n              <tr {...row.getRowProps()}>\r\n                {row.cells.map(cell => {\r\n                  return <td {...cell.getCellProps()}>{cell.render('Cell')}</td>\r\n                })}\r\n              </tr>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n      {/* Paginacion */}\r\n      <div className=\"pagination\" style={{ justifyContent: 'flex-start', alignItems: 'center' }}>\r\n        <button className='btn btn-dark mr-1' onClick={() => gotoPage(0)} disabled={!canPreviousPage}>\r\n          {'<<'}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => previousPage()} disabled={!canPreviousPage}>\r\n          {'< '}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => nextPage()} disabled={!canNextPage}>\r\n          {' >'}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => gotoPage(pageCount - 1)} disabled={!canNextPage}>\r\n          {'>>'}\r\n        </button>{'     '}\r\n        <span>\r\n          Página{'     '}\r\n          <strong>\r\n            {pageIndex + 1} de {pageOptions.length}\r\n          </strong>{' '}\r\n        </span>\r\n        <span>\r\n          | Ir a la Página:{' '}\r\n          <input\r\n            type=\"number\"\r\n            defaultValue={pageIndex + 1}\r\n            onChange={e => {\r\n              const page = e.target.value ? Number(e.target.value) - 1 : 0\r\n              gotoPage(page)\r\n            }}\r\n            style={{ width: '100px', borderWidth: 1, borderColor: 'black' }}\r\n          />\r\n        </span>{' '}\r\n        <select\r\n          style={{ width: 100 }}\r\n          value={pageSize}\r\n          onChange={e => {\r\n            setPageSize(Number(e.target.value))\r\n          }}\r\n        >\r\n          {[10, 20, 30, 40, 50].map(pageSize => (\r\n            <option key={pageSize} value={pageSize}>\r\n              Ver {pageSize}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      {/* Fin de Paginacion */}      \r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n// ESTILOS\r\nconst Styles = styled.div`\r\n  padding: 1rem;\r\n  table {\r\n    border-spacing: 0;\r\n    border: 0.5px solid black;\r\n    tr {\r\n      :last-child {\r\n        td {\r\n          border-bottom: 0;\r\n        }\r\n      }\r\n    }\r\n    th,\r\n    td {\r\n      margin: 0;\r\n      padding: 0.1rem;\r\n      border-bottom: 0.5px solid black;\r\n      border-right: 0.5px solid black;\r\n      :last-child {\r\n        border-right: 0;\r\n      }\r\n      input {\r\n        font-size: 1rem;\r\n        padding: 0;\r\n        margin: 0;\r\n        border: 0;\r\n      }\r\n    }\r\n  }\r\n  .pagination {\r\n    padding: 0.2rem;\r\n  }\r\n`","import { useContext, useState } from \"react\"\r\nimport { Divider } from \"@material-ui/core\"\r\nimport { SelectPais, SelectProvincia, TextControl, SelectCanton, SelectDistrito } from '../../components/ui/atom/FormControls';\r\nimport { SpacerHorizontal } from \"../../components/ui/atom/Spacer\"\r\nimport { MasterDataContext } from \"../../context/MasterDataContext\"\r\nimport { useForm } from \"../../hooks/useForm\"\r\nimport { TableBarrio } from \"../../components/tablas/geo/TableBarrio\";\r\nimport { TitlePage } from \"../../components/ui/atom/TitlePage\";\r\n\r\nexport const BarrioScreen = () => {\r\n\r\n    const { distrito, barrio, onChange  } = useForm({\r\n        distrito: \"\",\r\n        barrio: \"\",\r\n    })\r\n\r\n    const {paises, provincias, cantones, distritos, crearBarrios} = useContext(MasterDataContext)\r\n    const [pais, setPais] = useState('')\r\n    const [provincia, setProvincia] = useState('')\r\n    const [canton, setCanton] = useState('')\r\n    const provinciasFilter = provincias.filter(provincia => provincia.pais._id === pais)\r\n    const cantonesFilter = cantones.filter(canton => canton.provincia._id === provincia)\r\n    const distritosFilter = distritos.filter(distrito => distrito.canton._id === canton)\r\n\r\n    const handleAdd =  (e: any) => {\r\n        e.preventDefault()\r\n        crearBarrios({nombre : barrio, distrito});\r\n    }\r\n\r\n    const changePais  = (e : string) => {\r\n        setPais(e)\r\n        setProvincia('')\r\n        setCanton('')\r\n        onChange('', 'barrio')\r\n    }\r\n\r\n    return (\r\n        <div className=\"flexbox-container\">\r\n            <div\r\n                className=\"col-md-4\"\r\n                style={{ height: \"74vh\", overflowY: \"scroll\" }}\r\n            >\r\n                <TitlePage title='Crear Barrio' />\r\n\r\n                <SpacerHorizontal />\r\n                <Divider />\r\n                <SpacerHorizontal />\r\n                <button \r\n                    className='btn btn-success ml-2' \r\n                    onClick={handleAdd}\r\n                >\r\n                    Guardar\r\n                </button>\r\n                <SpacerHorizontal />\r\n                <SelectPais\r\n                    label=\"País\"\r\n                    name='pais'\r\n                    value={pais}\r\n                    callBack={(e) => changePais(e)}\r\n                    data={paises}\r\n                />   \r\n                <SelectProvincia\r\n                    label=\"Provincia\"\r\n                    name='provincia'\r\n                    value={provincia}\r\n                    callBack={(e) => setProvincia(e)}\r\n                    data={provinciasFilter}\r\n                /> \r\n                <SelectCanton\r\n                    label=\"Cantón\"\r\n                    name='canton'\r\n                    value={canton}\r\n                    callBack={(e) => setCanton(e)}\r\n                    data={cantonesFilter}\r\n                />   \r\n                <SelectDistrito\r\n                    label=\"Distrito\"\r\n                    name='distrito'\r\n                    value={distrito}\r\n                    callBack={(e) => onChange(e, 'distrito')}\r\n                    data={distritosFilter}\r\n                />                                                        \r\n                <TextControl\r\n                    label=\"Barrio\"\r\n                    name='barrio'\r\n                    value={barrio}\r\n                    callBack={(e) => onChange(e, 'barrio')}\r\n                />\r\n            </div>\r\n            <div\r\n                className=\"col-md-8\"\r\n                style={{ height: \"74vh\", overflowY: \"scroll\" }}\r\n            >\r\n                <TitlePage title='Lista de Barrios' />\r\n                <Divider />\r\n                <TableBarrio/>              \r\n            </div>            \r\n        </div>\r\n    )\r\n}\r\n\r\n","import { useState} from 'react';\r\nimport { Divider } from \"@material-ui/core\"\r\nimport { NavbarLeft } from \"../../components/NavbarLeft\"\r\nimport { SpacerHorizontal } from \"../../components/ui/atom/Spacer\"\r\nimport { PaisScreen } from './PaisScreen';\r\nimport { ProvinciaScreen } from './ProvinciaScreen';\r\nimport { CantonScreen } from './CantonScreen';\r\nimport { DistritoScreen } from './DistritoScreen';\r\nimport { BarrioScreen } from './BarrioScreen';\r\nimport { TitlePage } from '../../components/ui/atom/TitlePage';\r\n\r\nexport const GeoScreen = () => {\r\n    const [estado, setEstado] = useState('')\r\n\r\n\r\n    const hangleClick  = (option : string) => {\r\n        setEstado(option)\r\n    }\r\n\r\n    const SelectedScreen  = () => {\r\n        switch (estado) {\r\n            case \"pais\":\r\n                return <PaisScreen />\r\n            case \"provincia\":\r\n                return <ProvinciaScreen />\r\n            case \"canton\":\r\n                return <CantonScreen />\r\n            case \"distrito\":\r\n                return <DistritoScreen />\r\n            case \"barrio\":\r\n                return <BarrioScreen />\r\n            default:\r\n                return <h4>Seleccione una Opción</h4>;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"flexbox-container\">\r\n            <div className=\"col-md-2\">\r\n                <NavbarLeft />\r\n            </div>\r\n\r\n            <div\r\n                className=\"col-md-10\"\r\n                style={{ height: \"88.5vh\", overflowY: \"scroll\" }}\r\n            >\r\n                <div>\r\n                    <TitlePage title='Distribución Geográfica' />\r\n                    <SpacerHorizontal />\r\n                    <button\r\n                        className=\"btn btn-outline-dark mb-2 col-md-1\"\r\n                        onClick={() => hangleClick(\"pais\")}\r\n                    >\r\n                        Países\r\n                    </button>\r\n                    <button\r\n                        className=\"btn btn-outline-dark mb-2 col-md-1\"\r\n                        onClick={() => hangleClick( \"provincia\")}\r\n                    >\r\n                        Provincias\r\n                    </button>\r\n                    <button\r\n                        className=\"btn btn-outline-dark mb-2 col-md-1\"\r\n                        onClick={() => hangleClick( \"canton\")}\r\n                    >\r\n                        Cantones\r\n                    </button>\r\n                    <button\r\n                        className=\"btn btn-outline-dark mb-2 col-md-1\"\r\n                        onClick={() => hangleClick(\"distrito\")}\r\n                    >\r\n                        Distritos\r\n                    </button>\r\n                    <button\r\n                        className=\"btn btn-outline-dark mb-2 col-md-1\"\r\n                        onClick={() => hangleClick(\"barrio\")}\r\n                    >\r\n                        Barrios\r\n                    </button> \r\n                    <SpacerHorizontal />\r\n                    <Divider />\r\n                </div>\r\n                <SelectedScreen />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n","import styled from 'styled-components'\r\nimport { useTable, usePagination } from 'react-table'\r\nimport { useContext, useEffect, useMemo, useState } from 'react'\r\nimport { SelectItemTable } from '../../ui/atom/FormControls';\r\nimport { MasterDataContext } from '../../../context/MasterDataContext'\r\n\r\n//COMPONENTE PRINCIPAL DE LA TABLA\r\nexport const TableParametros = () => {\r\n  //Configuracion de las columnas\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: 'Parámetros según una Característica',\r\n        columns: [\r\n          {\r\n            Header: 'Parámetro',\r\n            accessor: 'parametro',\r\n          },\r\n          {\r\n            Header: 'Valor',\r\n            accessor: 'valor',\r\n          },\r\n          {\r\n            Header: '',\r\n            accessor: 'guardar',\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n    []\r\n  )\r\n\r\n  const { param , cargaParamNewData,limpiaParamsNewData} = useContext(MasterDataContext)\r\n  const dataFilter = param.filter(item => item.parametro.substr(0, 3) === 'def')\r\n  const [data, setData] = useState(dataFilter)\r\n  const [skipPageReset, setSkipPageReset] = useState(false)\r\n\r\n  const updateMyData = (rowIndex, columnId, value) => {\r\n    setSkipPageReset(true)\r\n    setData(old =>\r\n      old.map((row, index) => {\r\n        if (index === rowIndex) {\r\n          return {\r\n            ...old[rowIndex],\r\n            [columnId]: value,\r\n          }\r\n        }\r\n        return row\r\n      })\r\n    )\r\n  }\r\n\r\nuseEffect(() => {\r\n  const datos = param.filter(item => item.parametro.substr(0, 3) === 'def')\r\n  setData(datos)\r\n}, [param])\r\n\r\n  useEffect(() => {\r\n    setSkipPageReset(false)\r\n  }, [data])\r\n\r\n  useEffect(() => {\r\n    cargaParamNewData(data)\r\n    return () => {\r\n      limpiaParamsNewData()\r\n    }    \r\n  }, [data])\r\n\r\n\r\n  return (\r\n    <Styles>\r\n      <Table\r\n        columns={columns}\r\n        data={data}\r\n        updateMyData={updateMyData}\r\n        skipPageReset={skipPageReset}\r\n      />\r\n    </Styles>\r\n  )\r\n}\r\n\r\n\r\n// CONSTRUCCION DE LA CELDA\r\nconst EditableCell = ({\r\n  value: initialValue,\r\n  row: { index },\r\n  column: { id },\r\n  updateMyData,\r\n}) => {\r\n  const [value, setValue] = useState(initialValue)\r\n  const { caracteristricas, actualizaParam } = useContext(MasterDataContext)\r\n\r\n  const onChangeValue = (e: any) => {\r\n    setValue(e)\r\n  }\r\n\r\n  const onBlur = () => {\r\n    updateMyData(index, id, value)\r\n  }\r\n\r\n  const handleSave = () => {\r\n    actualizaParam(index);\r\n  }\r\n\r\n  useEffect(() => {\r\n    setValue(initialValue)\r\n  }, [initialValue])\r\n\r\n  switch (id) {\r\n    case 'parametro':\r\n      return <label style={{width: 150}}>{value}</label>      \r\n    case 'valor':\r\n      return <SelectItemTable name='valor' value={value} callBack={onChangeValue} data={caracteristricas} onBlur={onBlur}/>\r\n    case 'guardar':\r\n      return <button className='btn btn-outline-dark' onClick={handleSave} style={{ alignItems: 'center' }}>\r\n        <div style={{ color: 'blue' }}>\r\n          <i className={`fas fa-save`} />\r\n        </div>\r\n      </button>\r\n\r\n    default:\r\n      // return <input value={value} onChange={onChange} onBlur={onBlur} style={{ width: 250 }} />\r\n      return <p style={{ width: 300 }}>{value}</p>\r\n  }\r\n}\r\n\r\n//TIPO DE LA COLUMNA\r\nconst defaultColumn = {\r\n  Cell: EditableCell,\r\n}\r\n\r\nconst Table = ({ columns, data, updateMyData, skipPageReset }) => {\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    prepareRow,\r\n    page,\r\n    canPreviousPage,\r\n    canNextPage,\r\n    pageOptions,\r\n    pageCount,\r\n    gotoPage,\r\n    nextPage,\r\n    previousPage,\r\n    setPageSize,\r\n    state: { pageIndex, pageSize },\r\n  } = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n      defaultColumn,\r\n      autoResetPage: !skipPageReset,\r\n      updateMyData,\r\n    },\r\n    usePagination\r\n  )\r\n\r\n  // Render the UI for your table\r\n  return (\r\n    <>\r\n\r\n      {/* Paginacion */}\r\n      <div className=\"pagination\" style={{ justifyContent: 'flex-start', alignItems: 'center' }}>\r\n        <button className='btn btn-dark mr-1' onClick={() => gotoPage(0)} disabled={!canPreviousPage}>\r\n          {'<<'}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => previousPage()} disabled={!canPreviousPage}>\r\n          {'< '}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => nextPage()} disabled={!canNextPage}>\r\n          {' >'}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => gotoPage(pageCount - 1)} disabled={!canNextPage}>\r\n          {'>>'}\r\n        </button>{'     '}\r\n        <span>\r\n          Página{'     '}\r\n          <strong>\r\n            {pageIndex + 1} de {pageOptions.length}\r\n          </strong>{' '}\r\n        </span>\r\n        <span>\r\n          | Ir a la Página:{' '}\r\n          <input\r\n            type=\"number\"\r\n            defaultValue={pageIndex + 1}\r\n            onChange={e => {\r\n              const page = e.target.value ? Number(e.target.value) - 1 : 0\r\n              gotoPage(page)\r\n            }}\r\n            style={{ width: '100px', borderWidth: 1, borderColor: 'black' }}\r\n          />\r\n        </span>{' '}\r\n        <select\r\n          style={{ width: 100 }}\r\n          value={pageSize}\r\n          onChange={e => {\r\n            setPageSize(Number(e.target.value))\r\n          }}\r\n        >\r\n          {[10, 20, 30, 40, 50].map(pageSize => (\r\n            <option key={pageSize} value={pageSize}>\r\n              Ver {pageSize}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      {/* Fin de Paginacion */}\r\n\r\n      <table {...getTableProps()}>\r\n        <thead>\r\n          {headerGroups.map(headerGroup => (\r\n            <tr {...headerGroup.getHeaderGroupProps()}>\r\n              {headerGroup.headers.map(column => (\r\n                <th style={{ backgroundColor: 'lightgrey' }} {...column.getHeaderProps()}>{column.render('Header')}</th>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </thead>\r\n        <tbody {...getTableBodyProps()}>\r\n          {page.map((row, i) => {\r\n            prepareRow(row)\r\n            return (\r\n              <tr {...row.getRowProps()}>\r\n                {row.cells.map(cell => {\r\n                  return <td {...cell.getCellProps()}>{cell.render('Cell')}</td>\r\n                })}\r\n              </tr>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </>\r\n  )\r\n}\r\n\r\n\r\n// ESTILOS\r\nconst Styles = styled.div`\r\n  padding: 1rem;\r\n  table {\r\n    border-spacing: 0;\r\n    border: 0.5px solid black;\r\n    tr {\r\n      :last-child {\r\n        td {\r\n          border-bottom: 0;\r\n        }\r\n      }\r\n    }\r\n    th,\r\n    td {\r\n      margin: 0;\r\n      padding: 0.2rem;\r\n      border-bottom: 0.5px solid black;\r\n      border-right: 0.5px solid black;\r\n      :last-child {\r\n        border-right: 0;\r\n      }\r\n      input {\r\n        font-size: 1rem;\r\n        padding: 0;\r\n        margin: 0;\r\n        border: 0;\r\n      }\r\n    }\r\n  }\r\n  .pagination {\r\n    padding: 0.2rem;\r\n  }\r\n`","import styled from 'styled-components'\r\nimport { useTable, usePagination } from 'react-table'\r\nimport { useContext, useEffect, useMemo, useState } from 'react'\r\nimport { MasterDataContext } from '../../../context/MasterDataContext'\r\n\r\n\r\n//COMPONENTE PRINCIPAL DE LA TABLA\r\nexport const TableValores = () => {\r\n  //Configuracion de las columnas\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: 'Parámetros según su Valor',\r\n        columns: [\r\n          {\r\n            Header: 'Parámetro',\r\n            accessor: 'parametro',\r\n          },\r\n          {\r\n            Header: 'Valor',\r\n            accessor: 'valor',\r\n          },\r\n          {\r\n            Header: '',\r\n            accessor: 'guardar',\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n    []\r\n  )\r\n\r\n  const { param, cargaParamNewDataValores, limpiaParamsNewDataValores } = useContext(MasterDataContext)\r\n  const [skipPageReset, setSkipPageReset] = useState(false)\r\n  const dataFilter = param.filter(item => item.parametro.substr(0, 3) !== 'def')\r\n  const [data, setData] = useState(dataFilter)\r\n\r\n  const updateMyData = (rowIndex, columnId, value) => {\r\n    setSkipPageReset(true)\r\n    setData(old =>\r\n      old.map((row, index) => {\r\n        if (index === rowIndex) {\r\n          return {\r\n            ...old[rowIndex],\r\n            [columnId]: value,\r\n          }\r\n        }\r\n        return row\r\n      })\r\n    )\r\n  }\r\n  \r\n  useEffect(() => {\r\n    const datos = param.filter(item => item.parametro.substr(0, 3) !== 'def')\r\n    setData(datos)\r\n  }, [param])\r\n\r\n\r\n  useEffect(() => {\r\n    setSkipPageReset(false)\r\n  }, [data])\r\n\r\n  useEffect(() => {\r\n    cargaParamNewDataValores(data)\r\n    return () => {\r\n      limpiaParamsNewDataValores()\r\n    }      \r\n  }, [data])\r\n\r\n  return (\r\n    <Styles>\r\n      <Table\r\n        columns={columns}\r\n        data={data}\r\n        updateMyData={updateMyData}\r\n        skipPageReset={skipPageReset}\r\n      />\r\n    </Styles>\r\n  )\r\n}\r\n\r\n// CONSTRUCCION DE LA CELDA\r\nconst EditableCell = ({\r\n  value: initialValue,\r\n  row: { index },\r\n  column: { id },\r\n  updateMyData,\r\n}) => {\r\n  const { actualizaParamValores } = useContext(MasterDataContext)\r\n  const [value, setValue] = useState(initialValue)\r\n\r\n\r\n  const onChange = (e) => {\r\n    setValue(e.target.value)\r\n  }\r\n\r\n  const onBlur = () => {\r\n    updateMyData(index, id, value)\r\n  }\r\n\r\n  const handleSave = () => {\r\n    actualizaParamValores(index);\r\n  }\r\n\r\n  useEffect(() => {\r\n    setValue(initialValue)\r\n  }, [initialValue])\r\n\r\n  switch (id) {\r\n    case 'parametro':\r\n      return <label style={{width: 150}}>{value}</label>      \r\n    case 'valor':\r\n      return <input value={value} onChange={onChange} onBlur={onBlur} style={{ width: 250 }} />\r\n    case 'guardar':\r\n      return <button className='btn btn-outline-dark' onClick={handleSave} style={{ alignItems: 'center' }}>\r\n        <div style={{ color: 'blue' }}>\r\n          <i className={`fas fa-save`} />\r\n        </div>\r\n      </button>\r\n    default:\r\n      return <p style={{ width: 300 }}>{value}</p>\r\n  }\r\n}\r\n\r\n//TIPO DE LA COLUMNA\r\nconst defaultColumn = {\r\n  Cell: EditableCell,\r\n}\r\n\r\nconst Table = ({ columns, data, updateMyData, skipPageReset }) => {\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    prepareRow,\r\n    page,\r\n    canPreviousPage,\r\n    canNextPage,\r\n    pageOptions,\r\n    pageCount,\r\n    gotoPage,\r\n    nextPage,\r\n    previousPage,\r\n    setPageSize,\r\n    state: { pageIndex, pageSize },\r\n  } = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n      defaultColumn,\r\n      autoResetPage: !skipPageReset,\r\n      updateMyData,\r\n    },\r\n    usePagination\r\n  )\r\n\r\n  // Render the UI for your table\r\n  return (\r\n    <>\r\n\r\n      {/* Paginacion */}\r\n      <div className=\"pagination\" style={{ justifyContent: 'flex-start', alignItems: 'center' }}>\r\n        <button className='btn btn-dark mr-1' onClick={() => gotoPage(0)} disabled={!canPreviousPage}>\r\n          {'<<'}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => previousPage()} disabled={!canPreviousPage}>\r\n          {'< '}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => nextPage()} disabled={!canNextPage}>\r\n          {' >'}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => gotoPage(pageCount - 1)} disabled={!canNextPage}>\r\n          {'>>'}\r\n        </button>{'     '}\r\n        <span>\r\n          Página{'     '}\r\n          <strong>\r\n            {pageIndex + 1} de {pageOptions.length}\r\n          </strong>{' '}\r\n        </span>\r\n        <span>\r\n          | Ir a la Página:{' '}\r\n          <input\r\n            type=\"number\"\r\n            defaultValue={pageIndex + 1}\r\n            onChange={e => {\r\n              const page = e.target.value ? Number(e.target.value) - 1 : 0\r\n              gotoPage(page)\r\n            }}\r\n            style={{ width: '100px', borderWidth: 1, borderColor: 'black' }}\r\n          />\r\n        </span>{' '}\r\n        <select\r\n          style={{ width: 100 }}\r\n          value={pageSize}\r\n          onChange={e => {\r\n            setPageSize(Number(e.target.value))\r\n          }}\r\n        >\r\n          {[10, 20, 30, 40, 50].map(pageSize => (\r\n            <option key={pageSize} value={pageSize}>\r\n              Ver {pageSize}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      {/* Fin de Paginacion */}\r\n\r\n      <table {...getTableProps()}>\r\n        <thead>\r\n          {headerGroups.map(headerGroup => (\r\n            <tr {...headerGroup.getHeaderGroupProps()}>\r\n              {headerGroup.headers.map(column => (\r\n                <th style={{ backgroundColor: 'lightgrey' }} {...column.getHeaderProps()}>{column.render('Header')}</th>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </thead>\r\n        <tbody {...getTableBodyProps()}>\r\n          {page.map((row, i) => {\r\n            prepareRow(row)\r\n            return (\r\n              <tr {...row.getRowProps()}>\r\n                {row.cells.map(cell => {\r\n                  return <td {...cell.getCellProps()}>{cell.render('Cell')}</td>\r\n                })}\r\n              </tr>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </>\r\n  )\r\n}\r\n\r\n\r\n// ESTILOS\r\nconst Styles = styled.div`\r\n  padding: 1rem;\r\n  table {\r\n    border-spacing: 0;\r\n    border: 0.5px solid black;\r\n    tr {\r\n      :last-child {\r\n        td {\r\n          border-bottom: 0;\r\n        }\r\n      }\r\n    }\r\n    th,\r\n    td {\r\n      margin: 0;\r\n      padding: 0.2rem;\r\n      border-bottom: 0.5px solid black;\r\n      border-right: 0.5px solid black;\r\n      :last-child {\r\n        border-right: 0;\r\n      }\r\n      input {\r\n        font-size: 1rem;\r\n        padding: 0;\r\n        margin: 0;\r\n        border: 0;\r\n      }\r\n    }\r\n  }\r\n  .pagination {\r\n    padding: 0.2rem;\r\n  }\r\n`","import { NavbarLeft } from \"../../components/NavbarLeft\"\r\nimport { Divider } from '@material-ui/core'\r\nimport { TableParametros } from \"../../components/tablas/params/TableParametros\"\r\nimport { TableValores } from \"../../components/tablas/params/TableValores\"\r\nimport { SpacerHorizontal } from \"../../components/ui/atom/Spacer\"\r\nimport { TitlePage } from \"../../components/ui/atom/TitlePage\"\r\n\r\nexport const ParamsScreen = () => {\r\n    return (\r\n        <div className=\"flexbox-container\">\r\n            <div className=\"col-md-2\">\r\n                <NavbarLeft />\r\n            </div>\r\n            <div\r\n                className=\"col-md-10\"\r\n                style={{ height: \"88.5vh\", overflowY: \"scroll\" }}\r\n            >\r\n                <TitlePage title='Parámetros del Sistema' />\r\n                <SpacerHorizontal />\r\n                <Divider />\r\n                <SpacerHorizontal />\r\n\r\n                <div style={{flexDirection:'row'}} className=\"flexbox-container\">\r\n                    <div\r\n                        className=\"col-md-6\"\r\n                        style={{ height: \"78vh\", overflowY: \"scroll\" }}\r\n                    >\r\n                        <TableParametros />\r\n                    </div>\r\n                    <div\r\n                        className=\"col-md-6\"\r\n                        style={{ height: \"78vh\", overflowY: \"scroll\" }}\r\n                    >\r\n                        <TableValores />\r\n                    </div>\r\n\r\n\r\n\r\n                </div>\r\n            </div>            \r\n        </div>\r\n    )\r\n}\r\n\r\n","import { MasterDataContext } from '../../../context/MasterDataContext'\r\nimport { SelectItemTabla2,  SelectItem } from '../../ui/atom/FormControls';\r\nimport { useContext, useEffect, useMemo, useState } from 'react'\r\nimport { useTable, usePagination } from 'react-table'\r\nimport styled from 'styled-components'\r\n\r\n\r\n//COMPONENTE PRINCIPAL DE LA TABLA\r\nexport const TableCaracteristicas = () => {\r\n  //Configuracion de las columnas\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: 'Característricas',\r\n        columns: [\r\n          {\r\n            Header: 'Nombre',\r\n            accessor: 'nombre',\r\n          },\r\n          {\r\n            Header: 'Tipo',\r\n            accessor: 'tipo',\r\n          },                   \r\n          {\r\n            Header: '',\r\n            accessor: 'guardar',\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n    []\r\n  )\r\n\r\n  const { \r\n    caracteristricas, \r\n    cargaCaracteristicaNewData , \r\n    limpiaCaracteristicaNewData\r\n  } = useContext(MasterDataContext)\r\n  const [skipPageReset, setSkipPageReset] = useState(false)\r\n  const [tipo, setTipo] = useState(null)\r\n  const [data, setData] = useState(caracteristricas)\r\n\r\n  const updateMyData = (rowIndex, columnId, value) => {\r\n    setSkipPageReset(true)\r\n    setData(old =>\r\n      old.map((row, index) => {\r\n        if (index === rowIndex) {\r\n          return {\r\n            ...old[rowIndex],\r\n            [columnId]: value,\r\n          }\r\n        }\r\n        return row\r\n      })\r\n    )\r\n  }\r\n  \r\n  useEffect(() => {\r\n    let datos: any;\r\n    if (!tipo || tipo === '0') {\r\n      datos = caracteristricas\r\n    } else {\r\n      datos = caracteristricas.filter(caracteristrica => caracteristrica.tipo._id === tipo)\r\n    }\r\n    setData(datos)\r\n  }, [caracteristricas, tipo])\r\n\r\n\r\n  useEffect(() => {\r\n    setSkipPageReset(false)\r\n  }, [data])\r\n\r\n  useEffect(() => {\r\n    cargaCaracteristicaNewData(data)\r\n    return () => {\r\n      limpiaCaracteristicaNewData()\r\n    }      \r\n  }, [data])\r\n\r\n  return (\r\n    <Styles>\r\n      <Table\r\n        columns={columns}\r\n        data={data}\r\n        updateMyData={updateMyData}\r\n        skipPageReset={skipPageReset}\r\n        tipo={tipo}\r\n        setTipo={setTipo}\r\n      />\r\n    </Styles>\r\n  )\r\n}\r\n\r\n// CONSTRUCCION DE LA CELDA\r\nconst EditableCell = ({\r\n  value: initialValue,\r\n  row: { index },\r\n  column: { id },\r\n  updateMyData,\r\n}) => {\r\n  const { actualizaCaracteristica,caracteristicasTipo } = useContext(MasterDataContext)\r\n  const [value, setValue] = useState(initialValue)\r\n\r\n  const onChange = (e) => {\r\n    setValue(e.target.value)\r\n  }\r\n  \r\n  const onChangeValue = (e: any) => {\r\n    setValue(e)\r\n  }\r\n\r\n  const onBlur = () => {\r\n    updateMyData(index, id, value)\r\n  }\r\n\r\n  const handleSave = () => {\r\n    actualizaCaracteristica(index);\r\n  }\r\n\r\n  useEffect(() => {\r\n    setValue(initialValue)\r\n  }, [initialValue])\r\n\r\n  switch (id) {\r\n    case 'nombre':\r\n      return <input value={value} onChange={onChange} onBlur={onBlur} style={{ width: 450 }} />\r\n    case 'tipo':\r\n      return <SelectItemTabla2 name='tipo' value={value._id} callBack={onChangeValue} data={caracteristicasTipo} onBlur={onBlur} />\r\n    case 'guardar':\r\n      return <button className='btn btn-outline-dark' onClick={handleSave} style={{ alignItems: 'center' }}>\r\n        <div style={{ color: 'blue' }}>\r\n          <i className={`fas fa-save`} />\r\n        </div>\r\n      </button>\r\n    default:\r\n      return <p style={{ width: 300 }}>{value}</p>\r\n  }\r\n}\r\n//gpsLong, gpsLat,\r\n//TIPO DE LA COLUMNA\r\nconst defaultColumn = {\r\n  Cell: EditableCell,\r\n}\r\n\r\nconst Table = ({ columns, data, updateMyData, skipPageReset, tipo, setTipo }) => {\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    prepareRow,\r\n    page,\r\n    canPreviousPage,\r\n    canNextPage,\r\n    pageOptions,\r\n    pageCount,\r\n    gotoPage,\r\n    nextPage,\r\n    previousPage,\r\n    setPageSize,\r\n    state: { pageIndex, pageSize },\r\n  } = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n      defaultColumn,\r\n      autoResetPage: !skipPageReset,\r\n      updateMyData,\r\n    },\r\n    usePagination\r\n  )\r\n\r\n  // Render the UI for your table\r\n\r\n  const {caracteristicasTipo} = useContext(MasterDataContext)\r\n  return (\r\n    <>\r\n      {\r\n        tipo && \r\n          <SelectItem\r\n              label=\"Filtro tipo\"\r\n              name='tipo'\r\n              value={tipo}\r\n              callBack={(e) => setTipo(e)}\r\n              data={caracteristicasTipo}\r\n          /> \r\n      }\r\n      <table {...getTableProps()}>\r\n        <thead>\r\n          {headerGroups.map(headerGroup => (\r\n            <tr {...headerGroup.getHeaderGroupProps()}>\r\n              {headerGroup.headers.map(column => (\r\n                <th style={{ backgroundColor: 'lightgrey' }} {...column.getHeaderProps()}>{column.render('Header')}</th>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </thead>\r\n        <tbody {...getTableBodyProps()}>\r\n          {page.map((row, i) => {\r\n            prepareRow(row)\r\n            return (\r\n              <tr {...row.getRowProps()}>\r\n                {row.cells.map(cell => {\r\n                  return <td {...cell.getCellProps()}>{cell.render('Cell')}</td>\r\n                })}\r\n              </tr>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n      {/* Paginacion */}\r\n      <div className=\"pagination\" style={{ justifyContent: 'flex-start', alignItems: 'center' }}>\r\n        <button className='btn btn-dark mr-1' onClick={() => gotoPage(0)} disabled={!canPreviousPage}>\r\n          {'<<'}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => previousPage()} disabled={!canPreviousPage}>\r\n          {'< '}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => nextPage()} disabled={!canNextPage}>\r\n          {' >'}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => gotoPage(pageCount - 1)} disabled={!canNextPage}>\r\n          {'>>'}\r\n        </button>{'     '}\r\n        <span>\r\n          Página{'     '}\r\n          <strong>\r\n            {pageIndex + 1} de {pageOptions.length}\r\n          </strong>{' '}\r\n        </span>\r\n        <span>\r\n          | Ir a la Página:{' '}\r\n          <input\r\n            type=\"number\"\r\n            defaultValue={pageIndex + 1}\r\n            onChange={e => {\r\n              const page = e.target.value ? Number(e.target.value) - 1 : 0\r\n              gotoPage(page)\r\n            }}\r\n            style={{ width: '100px', borderWidth: 1, borderColor: 'black' }}\r\n          />\r\n        </span>{' '}\r\n        <select\r\n          style={{ width: 100 }}\r\n          value={pageSize}\r\n          onChange={e => {\r\n            setPageSize(Number(e.target.value))\r\n          }}\r\n        >\r\n          {[10, 20, 30, 40, 50].map(pageSize => (\r\n            <option key={pageSize} value={pageSize}>\r\n              Ver {pageSize}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      {/* Fin de Paginacion */}      \r\n    </>\r\n  )\r\n}\r\n\r\n// ESTILOS\r\nconst Styles = styled.div`\r\n  padding: 1rem;\r\n  table {\r\n    border-spacing: 0;\r\n    border: 0.5px solid black;\r\n    tr {\r\n      :last-child {\r\n        td {\r\n          border-bottom: 0;\r\n        }\r\n      }\r\n    }\r\n    th,\r\n    td {\r\n      margin: 0;\r\n      padding: 0.1rem;\r\n      border-bottom: 0.5px solid black;\r\n      border-right: 0.5px solid black;\r\n      :last-child {\r\n        border-right: 0;\r\n      }\r\n      input {\r\n        font-size: 1rem;\r\n        padding: 0;\r\n        margin: 0;\r\n        border: 0;\r\n      }\r\n    }\r\n  }\r\n  .pagination {\r\n    padding: 0.2rem;\r\n  }\r\n`","import { Divider } from \"@material-ui/core\"\r\nimport { MasterDataContext } from \"../../context/MasterDataContext\"\r\nimport { NavbarLeft } from \"../../components/NavbarLeft\"\r\nimport { SelectItem, TextControl } from \"../../components/ui/atom/FormControls\"\r\nimport { SpacerHorizontal } from \"../../components/ui/atom/Spacer\"\r\nimport { TableCaracteristicas } from \"../../components/tablas/params/TableCaracteristicas\"\r\nimport { useContext } from \"react\"\r\nimport { useForm } from \"../../hooks/useForm\"\r\nimport { TitlePage } from \"../../components/ui/atom/TitlePage\"\r\n\r\nexport const CaracteristicasScreen = () => {\r\n\r\n    const { nombre, tipo, onChange  } = useForm({\r\n        nombre : \"\",\r\n        tipo : \"\",\r\n    })\r\n\r\n    const {caracteristicasTipo, crearCaracteristica} = useContext(MasterDataContext)\r\n\r\n    const handleAdd =  (e: any) => {\r\n        e.preventDefault()\r\n        crearCaracteristica({nombre, tipo});\r\n    }\r\n\r\n    return (\r\n        <div className=\"flexbox-container\">\r\n            <div className=\"col-md-2\">\r\n                <NavbarLeft />\r\n            </div>             \r\n            <div\r\n                className=\"col-md-4\"\r\n                style={{ height: \"88.5vh\", overflowY: \"scroll\" }}\r\n            >\r\n                <TitlePage title='Crear Características' />\r\n                <SpacerHorizontal />\r\n                <Divider />\r\n                <SpacerHorizontal />\r\n                <button \r\n                    className='btn btn-success ml-2' \r\n                    onClick={handleAdd}\r\n                >\r\n                    Guardar\r\n                </button>\r\n                <SpacerHorizontal />\r\n                <SelectItem\r\n                    label='Tipo'\r\n                    name='tipo'\r\n                    value={tipo}\r\n                    callBack={(e) => onChange(e, 'tipo')}\r\n                    data={caracteristicasTipo}\r\n                />           \r\n                <TextControl\r\n                    label=\"Nombre\"\r\n                    name='nombre'\r\n                    value={nombre}\r\n                    callBack={(e) => onChange(e, 'nombre')}\r\n                />\r\n            </div>\r\n            <div\r\n                className=\"col-md-6\"\r\n                style={{ height: \"88.5vh\", overflowY: \"scroll\" }}\r\n            >\r\n                <TitlePage title='Lista de Características' />\r\n                <Divider />\r\n                <TableCaracteristicas/>              \r\n            </div>            \r\n        </div>\r\n    )\r\n}\r\n\r\n","export const messages = {\r\n  allDay: \"Todo el día\",\r\n  previous: \"<\",\r\n  next: \">\",\r\n  today: \"Hoy\",\r\n  month: \"Mes\",\r\n  week: \"Semana\",\r\n  day: \"Día\",\r\n  agenda: \"Agenda\",\r\n  date: \"Fecha\",\r\n  time: \"Hora\",\r\n  event: \"Evento\",\r\n  noEventsInRange: \"No hay eventos en este rango\",\r\n  showMore: (total) => `+ Ver más (${total})`,\r\n};\r\n","export const CalendarEvent = ({ event }) => {\r\n  const { title, notes } = event;\r\n  return (\r\n    <div className=\"animate__animated animate__flash\">\r\n      <span>{title}</span>\r\n      <br/>\r\n      <p>{notes}</p>\r\n    </div>\r\n  );\r\n};\r\n","import { useContext } from \"react\";\r\nimport { AppContext } from \"../context/AppContext\";\r\nimport { CalendarContext } from \"../context/CalendarContext\";\r\n\r\nexport const AddNewFab = () => {\r\n  const { showModalLoadingCalendar } = useContext(AppContext);\r\n  const { purgaEventoSelecciondo } = useContext(CalendarContext);\r\n  const handleClickNew = () => {\r\n    showModalLoadingCalendar();\r\n    purgaEventoSelecciondo();\r\n  };\r\n\r\n  return (\r\n    <button className=\"btn btn-primary fab\" onClick={handleClickNew}>\r\n      <i className=\"fas fa-plus\"></i>\r\n    </button>\r\n  );\r\n};\r\n","import { Evento } from \"../interfaces/interfaces\";\r\nimport { fechaDiff } from \"./diasDif\";\r\n\r\nexport const eventsFuturos = (eventos : Evento[]) => {\r\n  const eventosFilter = eventos.filter((item: any) => fechaDiff(item.start) > 0);\r\n  return eventosFilter;\r\n};\r\n\r\nexport const eventsHoy = (eventos : Evento[]) => {\r\n  const eventosFilter = eventos.filter((item: any) => fechaDiff(item.start) === 0);\r\n  return eventosFilter;\r\n};\r\n\r\nexport const eventsHoyAndFuturos = (eventos : Evento[]) => {\r\n  const eventosFilter = eventos.filter((item: any) => fechaDiff(item.start) >= 0);\r\n  return eventosFilter;\r\n};\r\n\r\nexport const eventsPasados = (eventos : Evento[]) => {\r\n  const eventosFilter = eventos.filter((item: any) => fechaDiff(item.start) < 0);\r\n  return eventosFilter;\r\n};\r\n\r\nexport const DateColorEvent = (date) => {\r\n  const diffDays = fechaDiff(date);\r\n  if (diffDays < 0) {\r\n    return \"#FFD8E1\";\r\n  }\r\n  if (diffDays > 0) {\r\n    return \"#CDEBFF\";\r\n  }\r\n  return \"#eeeeee\";\r\n};\r\n","import { useContext } from \"react\";\r\nimport { Divider } from \"@material-ui/core\";\r\nimport moment from \"moment\";\r\nimport { DateColorEvent } from \"../../helpers/eventsFilter\";\r\nimport { AppContext } from \"../../context/AppContext\";\r\nimport { Evento } from \"../../interfaces/interfaces\";\r\nimport { CalendarContext } from '../../context/CalendarContext';\r\n\r\n\r\nexport const EventCard = (event: Evento) => {\r\n  const { showModalLoadingCalendar } = useContext(AppContext);\r\n  const {  selecEvento } = useContext(CalendarContext);\r\n  const fecha = moment(event.start).format(\"DD-MMMM-yyyy\");\r\n\r\n  const handleClick = (e) => {\r\n    e.preventDefault();\r\n    selecEvento(event);\r\n    showModalLoadingCalendar();\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        borderColor: \"Highlight\",\r\n        borderStyle: \"solid\",\r\n        borderRadius: 5,\r\n        backgroundColor: DateColorEvent(event.start),\r\n        width: 190,\r\n        margin: 5,\r\n      }}\r\n      className=\"card animate__animated animate__pulse\"\r\n      onClick={handleClick}\r\n    >\r\n      <div className=\"container\">\r\n        <h6>\r\n          <b>{event.title}</b>\r\n        </h6>\r\n        <label>{event.notes.substr(0, 20)}...</label>\r\n        <label>{fecha}</label>\r\n        <Divider />\r\n        {/* <button className=\"btn btn-secondary mt-2 mb-2\" onClick={handleClick}>\r\n          Ver Evento...\r\n        </button> */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { useContext } from \"react\";\r\nimport { Divider } from \"@material-ui/core\";\r\nimport { EventCard } from \"../../components/calendar/EventCard\";\r\nimport { CalendarContext } from '../../context/CalendarContext';\r\nimport {\r\n  eventsFuturos,\r\n  eventsHoy,\r\n  eventsPasados,\r\n} from \"../../helpers/eventsFilter\";\r\n\r\nexport const EventsPageCol = () => {\r\n  const { eventos } = useContext(CalendarContext);\r\n  return (\r\n    <div className=\"card\">\r\n      <p>Futuros</p>\r\n      {eventsFuturos(eventos).map((event) => (\r\n        <EventCard key={event.id} {...event} />\r\n      ))}\r\n      <Divider />\r\n      <p>Hoy</p>\r\n\r\n      {eventsHoy(eventos).map((event) => (\r\n        <EventCard key={event.id} {...event} />\r\n      ))}\r\n      <Divider />\r\n      <p>Pasados</p>\r\n\r\n      {eventsPasados(eventos).map((event) => (\r\n        <EventCard key={event.id} {...event} />\r\n      ))}\r\n      <Divider />\r\n    </div>\r\n  );\r\n};\r\n","import { useContext, useState } from \"react\";\r\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\r\nimport moment from \"moment\";\r\n\r\nimport { messages } from \"../../helpers/calendar-messages-es\";\r\nimport { CalendarEvent } from \"./CalendarEvent\";\r\n\r\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\r\nimport \"moment/locale/es\";\r\n\r\nimport { AddNewFab } from \"../../components/AddNewFab\";\r\nimport { AppContext } from \"../../context/AppContext\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { NavbarLeft } from \"../../components/NavbarLeft\";\r\nimport { DateColorEvent } from \"../../helpers/eventsFilter\";\r\nimport { EventsPageCol } from \"./EventsPageCol\";\r\nimport { CalendarContext } from '../../context/CalendarContext';\r\nimport { SpacerHorizontal } from \"../../components/ui/atom/Spacer\";\r\nimport { Divider } from \"@material-ui/core\";\r\nimport { TitlePage } from \"../../components/ui/atom/TitlePage\";\r\n\r\nmoment.locale(\"es\");\r\nconst localizer = momentLocalizer(moment);\r\n\r\n\r\n\r\nexport const CalendarioScreen = () => {\r\n  const { showModalLoadingCalendar } = useContext(AppContext);\r\n  const {eventos, selecEvento, purgaEventoSelecciondo} = useContext(CalendarContext)\r\n\r\n\r\n  const { user } = useContext(AuthContext);\r\n  const [lastView, setLastView] = useState(\r\n    localStorage.getItem(\"lastView\") || \"month\"\r\n  );\r\n\r\n  const calendarSize = user?.rol === 'USER_ROLE' ? '75vh' : '65vh'\r\n\r\n  if (!eventos) return null;\r\n\r\n  const onSelectEvent = (e) => {\r\n    selecEvento(e);\r\n    showModalLoadingCalendar();\r\n  };\r\n  const onViewChange = (e) => {\r\n    setLastView(e);\r\n    localStorage.setItem(\"lastView\", e);\r\n  };\r\n\r\n  const onSelectSlot = (e) => {\r\n    purgaEventoSelecciondo();\r\n  };\r\n\r\n  const eventStyleGetter = (event, start, end, isSelected) => {\r\n    const style = {\r\n      // backgroundColor: user.uid === event.user._id ? \"#000000\" : \"#99FF00\",\r\n      color: user?.uid === event.user._id ? \"#367cf7\" : \"#000000\",\r\n      backgroundColor: DateColorEvent(start),\r\n      borderRadius: \"0px\",\r\n      opacity: 0.8,\r\n      display: \"block\",\r\n      // color: \"#367cf7\",\r\n    };\r\n    return {\r\n      style,\r\n    };\r\n  };\r\n\r\n  return (\r\n    <div className=\"flexbox-container\">\r\n      <div className=\"col-md-2\">\r\n        <NavbarLeft />\r\n      </div>\r\n\r\n      <div className=\"col-md-8\">\r\n        <div className=\"mt-1 calendar-screen mr-0 ml-0\">\r\n          \r\n          <TitlePage title='Calendario' />\r\n          <SpacerHorizontal />\r\n          <Divider />\r\n          <SpacerHorizontal />          \r\n          <h6>Filtros aqui</h6>\r\n          <Calendar\r\n            // views={{ month: true, a }}\r\n            views={['month']}\r\n            localizer={localizer}\r\n            events={eventos}\r\n            startAccessor=\"start\"\r\n            endAccessor=\"end\"\r\n            style={{ height: calendarSize }}\r\n            messages={messages}\r\n            eventPropGetter={eventStyleGetter}\r\n            onSelectEvent={onSelectEvent}\r\n            onView={onViewChange}\r\n            onSelectSlot={onSelectSlot}\r\n            selectable={true}\r\n            view={lastView}\r\n            components={{ event: CalendarEvent }}\r\n            \r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      \r\n      <div className=\"col-md-2\" style={{ height: \"87vh\", overflowY: \"scroll\" }}>\r\n        <h6>Eventos en el tiempo</h6>\r\n        <EventsPageCol />\r\n        {(user?.rol === \"ADMIN_ROLE\" || user?.rol === \"SUPER_ADMIN_ROLE\") && (\r\n          <AddNewFab />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import moment from \"moment\";\r\nimport { Cliente, Evento, Visita } from \"../interfaces/interfaces\";\r\n\r\ninterface DataEventosProps {\r\n    eventosFilter : Evento[]\r\n}\r\n\r\ninterface DataVisitasProps {\r\n    visitasFilter : Visita[]\r\n}\r\n\r\ninterface DataClientesProps {\r\n    clientesFiltrados : Cliente[]\r\n}\r\n\r\nconst file_Download  = (data: any, name : string) => {\r\n    let csvContent = \"data:text/csv;charset=utf-8,\" + data.map(e => e.join(\",\")).join(\"\\n\");\r\n    const fileName = `${name}_${moment().format('DD-MM-YYYY_HH:MM:SS').toString()}.csv`\r\n    var encodedUri = encodeURI(csvContent);\r\n    var link = document.createElement(\"a\");\r\n    link.setAttribute(\"href\", encodedUri);\r\n    link.setAttribute(\"download\", fileName);\r\n    document.body.appendChild(link); \r\n    link.click();\r\n}\r\n\r\nexport const removeAccents = (str: string) => {\r\n    //COMENTARIO : Elimna asentos de un string\r\n    return str.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\r\n  } \r\n\r\n\r\nexport const file_Download_Eventos  = ({eventosFilter=[]} : DataEventosProps) => {\r\n    //COMENTARIO : Crea los encabezados\r\n    const data = [\r\n        [\"Visitador\",\r\n         \"Fecha Inicio\",\r\n         \"Fecha Fin\",\r\n         \"Hora inicio\",\r\n         \"Hora Fin\",\r\n         \"Tipo\",\r\n         \"Estado\",\r\n         \"Cliente\",\r\n         \"Evento\", \r\n         \"Notas\"\r\n    ],\r\n    ];\r\n    //COMENTARIO : Inserta los registros de la Data recibida\r\n    eventosFilter.map(event => {\r\n        const {user, start, end, tipo, estado, cliente, title, notes} = event\r\n        data.push([ \r\n            removeAccents(user.nombre),\r\n            moment(start).format('DD-MM-YYYY').toString(), \r\n            moment(end).format('DD-MM-YYYY').toString(), \r\n            moment(start).format('HH:MM:SS').toString(), \r\n            moment(end).format('HH:MM:SS').toString(), \r\n            removeAccents(tipo.nombre), \r\n            estado, \r\n            cliente ? removeAccents(cliente.nombre) : \"\", \r\n            removeAccents(title.replace(\",\", \" \")), \r\n            removeAccents(notes.replace(\",\", \" \"))\r\n        ])\r\n    })\r\n    //COMENTARIO : Exporta data a CSV\r\n    file_Download(data, \"Eventos\")\r\n}\r\n\r\n\r\nexport const file_Download_Clientes  = ({clientesFiltrados} : DataClientesProps) => {\r\n    //COMENTARIO : Crea los encabezados\r\n    const data = [\r\n        [\"Nombre\",\r\n         \"Especialidad\",\r\n         \"Direccion\",\r\n         \"Telefono1\",\r\n         \"Telefono2\",\r\n         \"Email\",\r\n         \"Colegiado\",\r\n         \"Secretaria\",\r\n         \"Dias visita\",\r\n         \"Hora visita\",\r\n         \"Pais\",\r\n         \"Provincia\",\r\n         \"Canton\",\r\n         \"Distrito\",\r\n         \"Grupocliente\",\r\n         \"Especialidad\",\r\n         \"Zona\",\r\n         \"Visitador\",         \r\n    ],\r\n    ];\r\n    //COMENTARIO : Inserta los registros de la Data recibida\r\n    clientesFiltrados.map(cliente => {\r\n        const {nombre, \r\n            especialidad,\r\n            direccion,\r\n            telefono1,\r\n            telefono2,\r\n            email,\r\n            colegiado,\r\n            secretaria,\r\n            diasvisita,\r\n            horavisita,\r\n            pais,\r\n            provincia,\r\n            canton,\r\n            distrito,\r\n            grupocliente,\r\n            zona,\r\n            visitador} = cliente\r\n        data.push([ \r\n            removeAccents(nombre),\r\n            removeAccents(especialidad.nombre),\r\n            removeAccents(direccion),\r\n            telefono1,\r\n            telefono2,\r\n            email,\r\n            colegiado,\r\n            removeAccents(secretaria),\r\n            removeAccents(diasvisita),\r\n            removeAccents(horavisita),\r\n            removeAccents(pais.nombre),\r\n            removeAccents(provincia.nombre),\r\n            removeAccents(canton.nombre),\r\n            removeAccents(distrito.nombre),\r\n            removeAccents(grupocliente.nombre),\r\n            removeAccents(zona.nombre),\r\n            removeAccents(visitador.nombre),\r\n        ])\r\n    })\r\n    //COMENTARIO : Exporta data a CSV\r\n    file_Download(data, \"Clientes\")\r\n}\r\n\r\n\r\nexport const file_Download_Visitas  = ({visitasFilter=[]} : DataVisitasProps) => {\r\n    //COMENTARIO : Crea los encabezados\r\n    const data = [\r\n        [\r\n            \"Fecha\",\r\n            \"Anotaciones\",\r\n            \"Longitud\",\r\n            \"Latitud\",\r\n            \"Presicion\",\r\n            \"Cliente\",\r\n            \"Tipo\",\r\n            \"Alerta\",\r\n            \"Estado\",\r\n            \"Visitador\",\r\n    ],\r\n    ];\r\n    //COMENTARIO : Inserta los registros de la Data recibida\r\n    visitasFilter.map(event => {\r\n        const {fecha, anotaciones, gpsLong, gpsLat, gpsPresicion, cliente, tipo, alerta, novisita, usuario} = event\r\n        data.push([ \r\n            moment(fecha).format('DD-MM-YYYY').toString(), \r\n            removeAccents(anotaciones.replace(\",\", \" \")),\r\n            gpsLong.toString(),\r\n            gpsLat.toString(),\r\n            gpsPresicion.toString(),\r\n            cliente ? removeAccents(cliente.nombre) : \"\", \r\n            removeAccents(tipo.nombre.replace(\",\", \" \")),\r\n            removeAccents(alerta.nombre.replace(\",\", \" \")),\r\n            removeAccents(novisita.nombre.replace(\",\", \" \")),\r\n            removeAccents(usuario.nombre),\r\n        ])\r\n    })\r\n    //COMENTARIO : Exporta data a CSV\r\n    file_Download(data, \"Visitas\")\r\n}\r\n","import { useContext, useEffect, useMemo, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport moment from 'moment'\r\n\r\nimport { CalendarContext } from '../../../context/CalendarContext';\r\nimport { Evento } from '../../../interfaces/interfaces'\r\n\r\nimport { useTable, usePagination } from 'react-table'\r\nimport { BtnTypeEnter } from '../../ui/atom/FormControls'\r\nimport { AppContext } from '../../../context/AppContext';\r\n\r\ninterface TableEventosProps {\r\n  eventos : Evento[]\r\n}\r\n\r\n//COMPONENTE PRINCIPAL DE LA TABLA\r\nexport const TableEventos = ({eventos} : TableEventosProps) => {\r\n  \r\n  //Configuracion de las columnas\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: 'Eventos',\r\n        columns: [\r\n          {\r\n            Header: 'Visitador',\r\n            accessor: 'user',\r\n          },\r\n          {\r\n            Header: 'Fecha Inicio',\r\n            accessor: 'start',\r\n          },\r\n          {\r\n            Header: 'Fecha Fin',\r\n            accessor: 'end',\r\n          },\r\n          {\r\n            Header: 'Tipo',\r\n            accessor: 'tipo',\r\n          },\r\n\r\n          {\r\n            Header: 'Cliente',\r\n            accessor: 'cliente',\r\n          },\r\n          {\r\n            Header: 'Evento\"',\r\n            accessor: 'title',\r\n          },\r\n          {\r\n            Header: 'Notas',\r\n            accessor: 'notes',\r\n          },\r\n          {\r\n            Header: 'Estado',\r\n            accessor: 'estado',\r\n          },\r\n          {\r\n            Header: '',\r\n            accessor: 'ver',\r\n          },\r\n\r\n        ],\r\n      },\r\n    ],\r\n    []\r\n  )\r\n\r\n  const [skipPageReset, setSkipPageReset] = useState(false)\r\n  const dataFilter:Evento[] = eventos\r\n  const [data, setData] = useState<Evento[]>(dataFilter)\r\n  const {selecEvento} = useContext(CalendarContext)\r\n  const [index, setIndex] = useState(0)\r\n\r\n\r\n  const updateMyData = (rowIndex, columnId, value) => {\r\n    setSkipPageReset(true)\r\n    setData(old =>\r\n      old.map((row, index) => {\r\n        if (index === rowIndex) {\r\n          return {\r\n            ...old[rowIndex],\r\n            [columnId]: value,\r\n          }\r\n        }\r\n        return row\r\n      })\r\n    )\r\n  }\r\n  \r\nuseEffect(() => {\r\n    if (index){ \r\n        selecEvento(dataFilter[index])\r\n    }\r\n}, [index])\r\n\r\n  useEffect(() => {\r\n    const datos = eventos\r\n    setData(datos)\r\n  }, [eventos])\r\n\r\n\r\n  useEffect(() => {\r\n    setSkipPageReset(false)\r\n  }, [data])\r\n\r\n  return (\r\n    <Styles>\r\n      <Table\r\n        columns={columns}\r\n        data={data}\r\n        updateMyData={updateMyData}\r\n        skipPageReset={skipPageReset}\r\n      />\r\n    </Styles>\r\n  )\r\n}\r\n\r\n// CONSTRUCCION DE LA CELDA\r\nconst EditableCell = ({\r\n  value: initialValue,\r\n  row: { index },\r\n  column: { id },\r\n  updateMyData,\r\n}) => {\r\n  const [value, setValue] = useState(initialValue)\r\n  const {setDataFilterIndex} = useContext(CalendarContext)\r\n  const { showModalLoadingCalendar } = useContext(AppContext);\r\n\r\n  const handleViewEvento = () => {\r\n    setDataFilterIndex(index);\r\n    showModalLoadingCalendar()\r\n  }\r\n\r\n  useEffect(() => {\r\n    setValue(initialValue)\r\n  }, [initialValue])\r\n\r\n  switch (id) {\r\n    case 'user':\r\n        return(<label>{value.nombre}</label>)\r\n    case 'start':\r\n    case 'end':\r\n        return(<label>{moment(value).format('DD/MM/YYYY HH:MM').toString()}</label>)\r\n    case 'tipo':\r\n        return(<label>{value.nombre}</label>)\r\n    case 'estado':\r\n        return( \r\n          value === 'Pendiente' \r\n            ?\r\n            <div style={{display:'flex', justifyContent: 'center'}}>\r\n              {/* <label>{value}</label>  */}\r\n              <i className={'fa fa-check-circle fa-2x'} style={{color:'red'}} />\r\n            </div>\r\n            : \r\n            <div style={{display:'flex', justifyContent: 'center'}}>\r\n              {/* <label>{value}</label>  */}\r\n              <i className={'fa fa-check-circle fa-2x'} style={{color:'green'}}  />\r\n            </div>\r\n          )\r\n          \r\n\r\n    case 'cliente': {\r\n        return (value ? <label>{value.nombre}</label> : <label></label>)\r\n    }\r\n    case 'title':\r\n        return(<label>{value}</label>)\r\n    case 'notes':\r\n        return(<label>{value}</label>)\r\n    case 'ver':\r\n        return (\r\n            <div className='ml-4'>\r\n                <BtnTypeEnter \r\n                    label='Ver'\r\n                    callBack={handleViewEvento}\r\n                    icon=\"fa fa-eye\"\r\n                    color='orange'\r\n                    type = 'small'\r\n                />\r\n            </div>\r\n        )\r\n    default:\r\n      return <p style={{ width: 300 }}>{value}</p>\r\n  }\r\n}\r\n//gpsLong, gpsLat,\r\n//TIPO DE LA COLUMNA\r\nconst defaultColumn = {\r\n  Cell: EditableCell,\r\n}\r\n\r\nconst Table = ({ columns, data, updateMyData, skipPageReset }) => {\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    prepareRow,\r\n    page,\r\n    canPreviousPage,\r\n    canNextPage,\r\n    pageOptions,\r\n    pageCount,\r\n    gotoPage,\r\n    nextPage,\r\n    previousPage,\r\n    setPageSize,\r\n    state: { pageIndex, pageSize },\r\n  } = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n      defaultColumn,\r\n      autoResetPage: !skipPageReset,\r\n      updateMyData,\r\n    },\r\n    usePagination\r\n  )\r\n\r\n  // Render the UI for your table\r\n  return (\r\n    <>\r\n\r\n \r\n      <table {...getTableProps()}>\r\n        <thead>\r\n          {headerGroups.map(headerGroup => (\r\n            <tr {...headerGroup.getHeaderGroupProps()}>\r\n              {headerGroup.headers.map(column => (\r\n                <th style={{ backgroundColor: 'lightgrey' }} {...column.getHeaderProps()}>{column.render('Header')}</th>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </thead>\r\n        <tbody {...getTableBodyProps()}>\r\n          {page.map((row, i) => {\r\n            prepareRow(row)\r\n            return (\r\n              <tr {...row.getRowProps()}>\r\n                {row.cells.map(cell => {\r\n                  return <td {...cell.getCellProps()}>{cell.render('Cell')}</td>\r\n                })}\r\n              </tr>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n     {/* Paginacion */}\r\n     <div className=\"pagination\" style={{ justifyContent: 'flex-start', alignItems: 'center' }}>\r\n        <button className='btn btn-dark mr-1' onClick={() => gotoPage(0)} disabled={!canPreviousPage}>\r\n          {'<<'}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => previousPage()} disabled={!canPreviousPage}>\r\n          {'< '}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => nextPage()} disabled={!canNextPage}>\r\n          {' >'}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => gotoPage(pageCount - 1)} disabled={!canNextPage}>\r\n          {'>>'}\r\n        </button>{'     '}\r\n        <span>\r\n          Página{'     '}\r\n          <strong>\r\n            {pageIndex + 1} de {pageOptions.length}\r\n          </strong>{' '}\r\n        </span>\r\n        <span>\r\n          | Ir a la Página:{' '}\r\n          <input\r\n            type=\"number\"\r\n            defaultValue={pageIndex + 1}\r\n            onChange={e => {\r\n              const page = e.target.value ? Number(e.target.value) - 1 : 0\r\n              gotoPage(page)\r\n            }}\r\n            style={{ width: '100px', borderWidth: 1, borderColor: 'black' }}\r\n          />\r\n        </span>{' '}\r\n        <select\r\n          style={{ width: 100 }}\r\n          value={pageSize}\r\n          onChange={e => {\r\n            setPageSize(Number(e.target.value))\r\n          }}\r\n        >\r\n          {[10, 20, 30, 40, 50].map(pageSize => (\r\n            <option key={pageSize} value={pageSize}>\r\n              Ver {pageSize}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      {/* Fin de Paginacion */}\r\n\r\n    </>\r\n  )\r\n}\r\n\r\n\r\n// ESTILOS\r\nconst Styles = styled.div`\r\n  padding: 1rem;\r\n  table {\r\n    border-spacing: 0;\r\n    border: 0.5px solid black;\r\n    tr {\r\n      :last-child {\r\n        td {\r\n          border-bottom: 0;\r\n        }\r\n      }\r\n    }\r\n    th,\r\n    td {\r\n      margin: 0;\r\n      padding: 0.2rem;\r\n      border-bottom: 0.5px solid black;\r\n      border-right: 0.5px solid black;\r\n      :last-child {\r\n        border-right: 0;\r\n      }\r\n      input {\r\n        font-size: 1rem;\r\n        padding: 0;\r\n        margin: 0;\r\n        border: 0;\r\n      }\r\n    }\r\n  }\r\n  .pagination {\r\n    padding: 0.2rem;\r\n  }\r\n`","import { useContext, useEffect, useState } from \"react\"\r\nimport { MasterDataContext } from '../context/MasterDataContext';\r\n\r\nexport const useParams = () => {\r\n    const { param } = useContext(MasterDataContext)\r\n\r\n    const [alertaDefault, setAlertaDefault] = useState<string>('')\r\n    const [tipoVisitaDefault, setTipoVisitaDefault] = useState<string>('')\r\n    const [noVistaDefault, setNoVistaDefault] = useState<string>('')\r\n    const [tipoEventoDefault, setTipoEventoDefault] = useState<string>('')\r\n    const [cliEstadoDefault, setCliEstadoDefault] = useState<string>('')\r\n    const [correoSoporte, setCorreoSoporte] = useState<string>('')\r\n    const [paisMatriz, setPaisMatriz] = useState<string>('')\r\n\r\n    useEffect(() => {\r\n        SetalertaDefault()\r\n        SetTipoVisitaDefault()\r\n        SetNoVisitaDefault()\r\n        TipoEventoDefault()\r\n        ClieEstadoDefault()\r\n        CorreoSoporteDefault()\r\n        PaisMatriz()\r\n    }, [])\r\n\r\n    const CorreoSoporteDefault = () => {\r\n        const alert = param.filter(param => param.parametro === 'correosoporte')\r\n        if (alert.length > 0) {\r\n            setCorreoSoporte(alert[0].valor)\r\n        }\r\n    }\r\n    \r\n    const SetalertaDefault = () => {\r\n        const alert = param.filter(param => param.parametro === 'def_alertavisita')\r\n        if (alert.length > 0) {\r\n            setAlertaDefault(alert[0].valor)\r\n        }\r\n    }\r\n\r\n    const SetTipoVisitaDefault = () => {\r\n        const alert = param.filter(param => param.parametro === 'def_tipovisita')\r\n        if (alert.length > 0) {\r\n            setTipoVisitaDefault(alert[0].valor)\r\n        }\r\n    }\r\n\r\n    const SetNoVisitaDefault = () => {\r\n        const alert = param.filter(param => param.parametro === 'def_novisita')\r\n        if (alert.length > 0) {\r\n            setNoVistaDefault(alert[0].valor)\r\n        }\r\n    }\r\n\r\n    const TipoEventoDefault = () => {\r\n        const alert = param.filter(param => param.parametro === 'def_tipoevento')\r\n        if (alert.length > 0) {\r\n            setTipoEventoDefault(alert[0].valor)\r\n        }\r\n    }\r\n\r\n    const ClieEstadoDefault = () => {\r\n        const alert = param.filter(param => param.parametro === 'def_cliestado')\r\n        if (alert.length > 0) {\r\n            setCliEstadoDefault(alert[0].valor)\r\n        }\r\n    }\r\n\r\n    const PaisMatriz = () => {\r\n        const alert = param.filter(param => param.parametro === 'paismatriz')\r\n        if (alert.length > 0) {\r\n            setPaisMatriz(alert[0].valor)\r\n        }\r\n    }\r\n\r\n\r\n    return {\r\n        alertaDefault,\r\n        tipoVisitaDefault,\r\n        noVistaDefault,\r\n        tipoEventoDefault,\r\n        cliEstadoDefault,\r\n        correoSoporte,\r\n        paisMatriz\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n","import { useParams } from \"./useParams.\"\r\nimport { Usuario } from '../interfaces/interfaces';\r\nimport { useContext } from 'react';\r\nimport { SocketContext } from '../context/SocketContext';\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { MasterDataContext } from \"../context/MasterDataContext\";\r\n\r\nexport const useVisitadorPais  = () => {\r\n\r\n    const visitadoresPais : Usuario[] = []\r\n    const { paisMatriz } = useParams()\r\n    const {usuarios} = useContext(SocketContext)\r\n    const {user} = useContext(AuthContext)\r\n    const {paises} = useContext(MasterDataContext)\r\n\r\n    const idPaisMatriz = paises.filter(pais => pais.codigo === paisMatriz)\r\n    if (idPaisMatriz.length > 0) {\r\n        const {_id: idPais} = idPaisMatriz[0]\r\n        if(user?.pais === idPais) {\r\n            visitadoresPais.push(...usuarios)\r\n        } else {\r\n            const visitadoresTemp = usuarios.filter(visit => visit.pais === user?.pais)\r\n            visitadoresPais.push(...visitadoresTemp)\r\n        }\r\n    }\r\n\r\n    const visitadores = (user?.rol === 'SUPER_ADMIN_ROLE' || user?.rol === 'ADMIN_ROLE') \r\n    ? usuarios\r\n    : (user?.rol === 'JEF_VIS_ROLE')\r\n        ? visitadoresPais.filter(visitadore => visitadore.rol !== 'SUPER_ADMIN_ROLE' && visitadore.rol !== 'ADMIN_ROLE')\r\n        : visitadoresPais.filter(visitadore => visitadore.uid === user?.uid) \r\n        \r\n    return {\r\n        visitadores\r\n    }\r\n    \r\n}","import moment from \"moment\"\r\nimport { useContext } from \"react\"\r\nimport { AuthContext } from \"../../context/AuthContext\"\r\nimport { SocketContext } from \"../../context/SocketContext\"\r\nimport { useForm } from \"../../hooks/useForm\"\r\nimport { BtnTypeEnter, SelectDateddMMyyyy, SelectVisitador, TextControlNumCol } from \"../ui/atom/FormControls\"\r\nimport { CalendarContext } from '../../context/CalendarContext';\r\nimport { Evento } from '../../interfaces/interfaces';\r\nimport { file_Download_Eventos } from '../../helpers/file_Download';\r\nimport { TableEventos } from '../tablas/calendario/TableEventos';\r\nimport { useVisitadorPais } from \"../../hooks/useVisitadorPais\"\r\n\r\ninterface Form {\r\n    uid?: string\r\n    inicio: any;\r\n    fin: any;\r\n    max: number;\r\n}\r\n\r\nexport interface CalendarResponse {\r\n    ok: boolean;\r\n    msg: string;\r\n    total: number;\r\n    eventos: Evento[];\r\n  }\r\n\r\n\r\nexport const AgendasFilterOptions  = () => {\r\n\r\n    const {usuarios} = useContext(SocketContext)\r\n    const {user} = useContext(AuthContext)\r\n    const {cargaDataFilter, eventosFilter, purgaDataFilter,clearDataFilterIndex} = useContext(CalendarContext)\r\n\r\n    const initForm = {\r\n        uid : user?.uid,\r\n        inicio: new Date(moment().startOf('isoWeek').toDate()),\r\n        fin: new Date(moment().endOf('isoWeek').toDate()),\r\n        max: 50\r\n    }\r\n    const {uid, inicio, fin, max, onChange, setForm, form } = useForm<Form>(initForm)\r\n    const {visitadores} =  useVisitadorPais()\r\n\r\n    const handleDownloadFile  = () => {\r\n        file_Download_Eventos({eventosFilter})\r\n    }\r\n\r\n    const handleFilter  = () => {\r\n        cargaDataFilter({inicio, fin, uid, max})\r\n    }\r\n\r\n      const onSubmitClear  = () => {\r\n        purgaDataFilter()\r\n        clearDataFilterIndex()\r\n        setForm(initForm)\r\n    }\r\n\r\n    const handleStartDateChange = (e) => {\r\n        setForm({\r\n            ...form,\r\n            inicio: e,\r\n        });\r\n        };\r\n    \r\n    const handleEndDateChange = (e) => {\r\n        setForm({\r\n            ...form,\r\n            fin: e,\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"imput_box_container\">\r\n                <SelectDateddMMyyyy \r\n                    label={'Fecha Inicial'}\r\n                    name = {\"inicio\"}\r\n                    value = {inicio}\r\n                    callBack={handleStartDateChange}\r\n                />\r\n                <SelectDateddMMyyyy \r\n                    label={'Fecha Final'}\r\n                    name = {\"final\"}\r\n                    value = {fin}\r\n                    callBack={handleEndDateChange}\r\n                />\r\n                <TextControlNumCol\r\n                    label='Mostrar'\r\n                    value={max}\r\n                    name='max'\r\n                    callBack={(e) => onChange( e, 'max')}\r\n                />\r\n                <SelectVisitador \r\n                    label='Visitador'\r\n                    name='uid'\r\n                    value={uid}\r\n                    data={visitadores}\r\n                    callBack={(e) => onChange( e, 'uid')}\r\n                />\r\n                <div className='ml-4 mt-3'>\r\n                    <BtnTypeEnter \r\n                        label='Filtrar'\r\n                        callBack={handleFilter}\r\n                        icon=\"fa fa-filter\"\r\n                        color='yellow'\r\n                        type = 'small'\r\n                    />\r\n                    <BtnTypeEnter \r\n                        label='Limpiar'\r\n                        callBack={onSubmitClear}\r\n                        icon=\"fa fa-broom\"\r\n                        color='red'\r\n                        type = 'small'\r\n                    />\r\n                    {\r\n                        eventosFilter.length > 0 &&\r\n                        <BtnTypeEnter \r\n                            label='Archivo'\r\n                            callBack={handleDownloadFile}\r\n                            icon=\"fa fa-file-csv\"\r\n                            color='green'\r\n                            type = 'small'\r\n                        />                    \r\n                    }                            \r\n                </div>\r\n            </div>\r\n            {\r\n                eventosFilter.length > 0 &&\r\n                <TableEventos eventos={eventosFilter} />\r\n            }\r\n        </div>\r\n    )\r\n}","import { Divider } from '@material-ui/core';\r\nimport { NavbarLeft } from '../../components/NavbarLeft'\r\nimport { SpacerHorizontal } from '../../components/ui/atom/Spacer'\r\nimport { TitlePage } from '../../components/ui/atom/TitlePage'\r\nimport { AgendasFilterOptions } from '../../components/calendar/AgendasFilterOptions';\r\n\r\nexport const CalendarioAgendas = () => {\r\n    return (\r\n        <div className='flexbox-container'>\r\n           <div className='col-md-2'>\r\n               <NavbarLeft />\r\n           </div>\r\n  \r\n           <div\r\n               className='col-md-10'\r\n               style={{ height: '88.5vh', overflowY: 'scroll' }}\r\n           >\r\n               <div>\r\n                   <TitlePage title='Agendas' />                 \r\n                   <SpacerHorizontal />\r\n                   <Divider />\r\n                   <SpacerHorizontal />\r\n               </div>\r\n               <AgendasFilterOptions />\r\n           </div>\r\n       </div>\r\n   )\r\n}\r\n\r\n","import { NavbarLeft } from '../../components/NavbarLeft'\r\nimport { SpacerHorizontal } from '../../components/ui/atom/Spacer'\r\nimport { Divider } from '@material-ui/core';\r\nimport { TitlePage } from '../../components/ui/atom/TitlePage'\r\n  \r\nexport const CalendarioEventos = () => {\r\n    return (\r\n        <div className='flexbox-container'>\r\n           <div className='col-md-2'>\r\n               <NavbarLeft />\r\n           </div>\r\n  \r\n           <div\r\n               className='col-md-10'\r\n               style={{ height: '88.5vh', overflowY: 'scroll' }}\r\n           >\r\n               <div>\r\n                   <TitlePage title='Eventos' />\r\n                   <SpacerHorizontal />\r\n                   <Divider />\r\n                   <SpacerHorizontal />\r\n               </div>\r\n           </div>\r\n       </div>\r\n   )\r\n}","\r\nimport { useContext, useEffect } from \"react\"\r\nimport { ClienteContext } from \"../../context/ClienteContext\"\r\nimport { MasterDataContext } from \"../../context/MasterDataContext\"\r\nimport { file_Download_Clientes } from \"../../helpers/file_Download\"\r\nimport { useForm } from \"../../hooks/useForm\"\r\nimport { BtnTypeEnter, SelectItem, TextControl } from \"../ui/atom/FormControls\"\r\n\r\ninterface Form {\r\n    clienteNombre: string,\r\n    especialidad : string\r\n  }\r\n\r\nexport const ClientesActivosFilter = () => {\r\n    const initForm = {clienteNombre : \"\", especialidad: '0'}\r\n\r\n    const { caracteristricas, caracteristicasTipo } = useContext(MasterDataContext)\r\n    const { clientes, cargaClientesFiltrados, clientesFiltrados } = useContext(ClienteContext)\r\n    const tipo = caracteristicasTipo.filter(tipo => tipo.nombre === 'ESPE')\r\n    const especialidades = caracteristricas.filter(espec => espec.tipo._id === tipo[0]._id )\r\n    \r\n    const { clienteNombre, especialidad, onChange, setForm} = useForm<Form>(initForm)\r\n    \r\n    useEffect(() => {\r\n        if (especialidad !== '0' && clienteNombre.length >= 2) {\r\n            const filtro = clientes.filter(cliente => \r\n                cliente.causabaja.nombre === 'OPERATIVO' \r\n                && cliente.especialidad._id.includes(especialidad) \r\n                && cliente.nombre.toUpperCase().includes(clienteNombre.toUpperCase())\r\n            )\r\n            cargaClientesFiltrados(filtro)\r\n        } else if(especialidad !== '0' && clienteNombre.length <= 2) {\r\n            const filtro = clientes.filter(cliente => \r\n                cliente.causabaja.nombre === 'OPERATIVO'\r\n                && cliente.especialidad._id.includes(especialidad)                 \r\n            )\r\n            cargaClientesFiltrados(filtro)\r\n        } else if(especialidad === '0' && clienteNombre.length >= 2) {\r\n            const filtro = clientes.filter(cliente => \r\n                cliente.causabaja.nombre === 'OPERATIVO'\r\n                && cliente.nombre.toUpperCase().includes(clienteNombre.toUpperCase())               \r\n            )\r\n            cargaClientesFiltrados(filtro)\r\n        } else {\r\n            const filtro = clientes.filter(cliente => cliente.causabaja.nombre === 'OPERATIVO')\r\n            cargaClientesFiltrados(filtro)            \r\n        }\r\n    }, [clienteNombre, especialidad])\r\n    \r\n    const onSubmitClear  = () => {\r\n        const filtro = clientes.filter(cliente => cliente.causabaja.nombre === 'OPERATIVO')\r\n        cargaClientesFiltrados(filtro)\r\n        setForm(initForm)\r\n    }\r\n    const handleDownloadFile  = () => {\r\n        file_Download_Clientes({clientesFiltrados})\r\n    }\r\n    return (\r\n        <div style={{display:'flex'}} >\r\n            <SelectItem\r\n                label='Especialidad'\r\n                name='especialidad'\r\n                value={especialidad}\r\n                callBack={(e) => onChange(e, 'especialidad')}\r\n                data={especialidades}\r\n            /> \r\n            <TextControl \r\n                label='Cliente'\r\n                name='clienteNombre'\r\n                value={clienteNombre}\r\n                callBack={(e) => onChange(e, 'clienteNombre')}\r\n            />\r\n            <div className=\"ml-4 mb-2\">\r\n                <BtnTypeEnter \r\n                    label='Limpiar'\r\n                    callBack={onSubmitClear}\r\n                    icon=\"fa fa-broom\"\r\n                    color='red'\r\n                    type = 'small'\r\n                />\r\n                <BtnTypeEnter \r\n                    label='Archivo'\r\n                    callBack={handleDownloadFile}\r\n                    icon=\"fa fa-file-csv\"\r\n                    color='green'\r\n                    type = 'small'\r\n                />                               \r\n            </div>\r\n        </div>\r\n   )\r\n}","import { useContext, useEffect, useMemo, useState } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport { Cliente } from '../../../interfaces/interfaces'\r\n\r\nimport { useTable, usePagination } from 'react-table'\r\nimport { BtnTypeEnter} from '../../ui/atom/FormControls'\r\nimport { ClienteContext } from '../../../context/ClienteContext';\r\nimport { ClientesActivosFilter } from '../../clientes/ClientesActivosFilter';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n//COMPONENTE PRINCIPAL DE LA TABLA\r\nexport const TableClientesActivos = () => {\r\n  const {clientesFiltrados} = useContext(ClienteContext)\r\n  //Configuracion de las columnas\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: 'Clientes Activos',\r\n        columns: [\r\n          {\r\n            Header: 'Nombre',\r\n            accessor: 'nombre',\r\n          },\r\n          {\r\n            Header: 'Email',\r\n            accessor: 'email',\r\n          },\r\n          {\r\n            Header: 'Especialidad',\r\n            accessor: 'especialidad',\r\n          },\r\n          {\r\n            Header: 'Telefono',\r\n            accessor: 'telefono1',\r\n          },\r\n          {\r\n            Header: 'Provincia',\r\n            accessor: 'provincia',\r\n          },\r\n          {\r\n            Header: 'Canton',\r\n            accessor: 'canton',\r\n          },\r\n          {\r\n            Header: 'Distrito',\r\n            accessor: 'distrito',\r\n          },\r\n          {\r\n            Header: 'Barrio',\r\n            accessor: 'barrio',\r\n          },          \r\n          {\r\n            Header: '',\r\n            accessor: 'ver',\r\n          },\r\n\r\n        ],\r\n      },\r\n    ],\r\n    []\r\n  )\r\n\r\n  const [skipPageReset, setSkipPageReset] = useState(false)\r\n  const dataFilter:Cliente[] = clientesFiltrados\r\n  const [data, setData] = useState<Cliente[]>(dataFilter)\r\n  const [index, setIndex] = useState(0)\r\n\r\n\r\n  const updateMyData = (rowIndex, columnId, value) => {\r\n    setSkipPageReset(true)\r\n    setData(old =>\r\n      old.map((row, index) => {\r\n        if (index === rowIndex) {\r\n          return {\r\n            ...old[rowIndex],\r\n            [columnId]: value,\r\n          }\r\n        }\r\n        return row\r\n      })\r\n    )\r\n  }\r\n\r\n  useEffect(() => {\r\n    const datos = clientesFiltrados\r\n    setData(datos)\r\n  }, [clientesFiltrados])\r\n\r\n\r\n  useEffect(() => {\r\n    setSkipPageReset(false)\r\n  }, [data])\r\n\r\n  return (\r\n    <Styles>\r\n      <Table\r\n        columns={columns}\r\n        data={data}\r\n        updateMyData={updateMyData}\r\n        skipPageReset={skipPageReset}\r\n      />\r\n    </Styles>\r\n  )\r\n}\r\n\r\n// CONSTRUCCION DE LA CELDA\r\nconst EditableCell = ({\r\n  value: initialValue,\r\n  row: { index },\r\n  column: { id },\r\n  updateMyData,\r\n}) => {\r\n  const [value, setValue] = useState(initialValue)\r\n  const {seleccionaIndexCliente} = useContext(ClienteContext)\r\n  const history = useHistory();\r\n\r\n  const handleViewCliente = () => {\r\n    seleccionaIndexCliente(index);\r\n    history.push(\"/home/cliente\");\r\n  }\r\n\r\n  useEffect(() => {\r\n    setValue(initialValue)\r\n  }, [initialValue])\r\n\r\n  switch (id) {\r\n    case 'nombre':\r\n        return(<label>{value}</label>)\r\n    case 'email':\r\n      return(<label>{value}</label>)\r\n    case 'especialidad':\r\n        return(<label>{value.nombre}</label>)\r\n    case 'telefono1':\r\n        return(<label>{value.nombre}</label>)\r\n    case 'provincia':\r\n      return (value ? <label>{value.nombre}</label> : <label></label>)\r\n    case 'canton':\r\n        return (value ? <label>{value.nombre}</label> : <label></label>)\r\n    case 'distrito':\r\n      return (value ? <label>{value.nombre}</label> : <label></label>)\r\n    case 'barrio':\r\n      return (value ? <label>{value.nombre}</label> : <label></label>)      \r\n    case 'ver':\r\n        return (\r\n            <div className='ml-4'>\r\n                <BtnTypeEnter \r\n                    label='Ver'\r\n                    callBack={handleViewCliente}\r\n                    icon=\"fa fa-eye\"\r\n                    color='orange'\r\n                    type = 'small'\r\n                />\r\n            </div>\r\n        )\r\n    default:\r\n      return <p style={{ width: 300 }}>{value}</p>\r\n  }\r\n}\r\n//gpsLong, gpsLat,\r\n//TIPO DE LA COLUMNA\r\nconst defaultColumn = {\r\n  Cell: EditableCell,\r\n}\r\n\r\nconst Table = ({ columns, data, updateMyData, skipPageReset }) => {\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    prepareRow,\r\n    page,\r\n    canPreviousPage,\r\n    canNextPage,\r\n    pageOptions,\r\n    pageCount,\r\n    gotoPage,\r\n    nextPage,\r\n    previousPage,\r\n    setPageSize,\r\n    state: { pageIndex, pageSize },\r\n  } = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n      defaultColumn,\r\n      autoResetPage: !skipPageReset,\r\n      updateMyData,\r\n    },\r\n    usePagination\r\n  )\r\n  return (\r\n    <div className=\"col-md-12\">\r\n\r\n      <ClientesActivosFilter />\r\n\r\n      <table {...getTableProps()}>\r\n        <thead>\r\n          {headerGroups.map(headerGroup => (\r\n            <tr {...headerGroup.getHeaderGroupProps()}>\r\n              {headerGroup.headers.map(column => (\r\n                <th style={{ backgroundColor: 'lightgrey' }} {...column.getHeaderProps()}>{column.render('Header')}</th>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </thead>\r\n        <tbody {...getTableBodyProps()}>\r\n          {page.map((row, i) => {\r\n            prepareRow(row)\r\n            return (\r\n              <tr {...row.getRowProps()}>\r\n                {row.cells.map(cell => {\r\n                  return <td {...cell.getCellProps()}>{cell.render('Cell')}</td>\r\n                })}\r\n              </tr>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n     {/* Paginacion */}\r\n     <div className=\"pagination\" style={{ justifyContent: 'flex-start', alignItems: 'center' }}>\r\n        <button className='btn btn-dark mr-1' onClick={() => gotoPage(0)} disabled={!canPreviousPage}>\r\n          {'<<'}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => previousPage()} disabled={!canPreviousPage}>\r\n          {'< '}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => nextPage()} disabled={!canNextPage}>\r\n          {' >'}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => gotoPage(pageCount - 1)} disabled={!canNextPage}>\r\n          {'>>'}\r\n        </button>{'     '}\r\n        <span>\r\n          Página{'     '}\r\n          <strong>\r\n            {pageIndex + 1} de {pageOptions.length}\r\n          </strong>{' '}\r\n        </span>\r\n        <span>\r\n          | Ir a la Página:{' '}\r\n          <input\r\n            type=\"number\"\r\n            defaultValue={pageIndex + 1}\r\n            onChange={e => {\r\n              const page = e.target.value ? Number(e.target.value) - 1 : 0\r\n              gotoPage(page)\r\n            }}\r\n            style={{ width: '100px', borderWidth: 1, borderColor: 'black' }}\r\n          />\r\n        </span>{' '}\r\n        <select\r\n          style={{ width: 100 }}\r\n          value={pageSize}\r\n          onChange={e => {\r\n            setPageSize(Number(e.target.value))\r\n          }}\r\n        >\r\n          {[10, 20, 30, 40, 50].map(pageSize => (\r\n            <option key={pageSize} value={pageSize}>\r\n              Ver {pageSize}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      {/* Fin de Paginacion */}\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n// ESTILOS\r\nconst Styles = styled.div`\r\n  padding: 1rem;\r\n  table {\r\n    border-spacing: 0;\r\n    border: 0.5px solid black;\r\n    tr {\r\n      :last-child {\r\n        td {\r\n          border-bottom: 0;\r\n        }\r\n      }\r\n    }\r\n    th,\r\n    td {\r\n      margin: 0;\r\n      padding: 0.2rem;\r\n      border-bottom: 0.5px solid black;\r\n      border-right: 0.5px solid black;\r\n      :last-child {\r\n        border-right: 0;\r\n      }\r\n      input {\r\n        font-size: 1rem;\r\n        padding: 0;\r\n        margin: 0;\r\n        border: 0;\r\n      }\r\n    }\r\n  }\r\n  .pagination {\r\n    padding: 0.2rem;\r\n  }\r\n`","import { Divider } from '@material-ui/core'\r\nimport { useContext, useEffect } from 'react'\r\nimport { NavbarLeft } from '../../components/NavbarLeft'\r\nimport { TableClientesActivos } from '../../components/tablas/clientes/TableClientesActivos'\r\nimport { SpacerHorizontal } from '../../components/ui/atom/Spacer'\r\nimport { TitlePage } from '../../components/ui/atom/TitlePage'\r\nimport { ClienteContext } from '../../context/ClienteContext'\r\nimport { Cliente } from '../../interfaces/interfaces'\r\n\r\nexport const ClientesActivosScreen = () => {\r\n\r\n    const { clientes, cargaClientesFiltrados } = useContext(ClienteContext)\r\n    \r\n    useEffect(() => {\r\n        const clientesActivos: Cliente[] = clientes.filter(cliente => cliente.causabaja.nombre === 'OPERATIVO')\r\n        cargaClientesFiltrados(clientesActivos)\r\n    }, [clientes])\r\n\r\n    return (\r\n        <div className=\"flexbox-container\">\r\n            <div className=\"col-md-2\">\r\n                <NavbarLeft />\r\n            </div>\r\n\r\n            <div\r\n                className=\"col-md-10\"\r\n                style={{ height: \"88.5vh\", overflowY: \"scroll\" }}\r\n            >\r\n                <div>\r\n                    <TitlePage title='Clientes Activos' />\r\n                    <SpacerHorizontal />\r\n                    <Divider />\r\n                    <SpacerHorizontal />\r\n                    <TableClientesActivos />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","\r\nimport { useContext, useEffect } from \"react\"\r\nimport { ClienteContext } from \"../../context/ClienteContext\"\r\nimport { MasterDataContext } from \"../../context/MasterDataContext\"\r\nimport { file_Download_Clientes } from \"../../helpers/file_Download\"\r\nimport { useForm } from \"../../hooks/useForm\"\r\nimport { BtnTypeEnter, SelectItem, TextControl } from \"../ui/atom/FormControls\"\r\n\r\ninterface Form {\r\n    clienteNombre: string,\r\n    especialidad : string\r\n  }\r\n\r\nexport const ClientesInactivosFilter = () => {\r\n    const initForm = {clienteNombre : \"\", especialidad: '0'}\r\n\r\n    const { caracteristricas, caracteristicasTipo } = useContext(MasterDataContext)\r\n    const { clientes, cargaClientesFiltrados, clientesFiltrados } = useContext(ClienteContext)\r\n    const tipo = caracteristicasTipo.filter(tipo => tipo.nombre === 'ESPE')\r\n    const especialidades = caracteristricas.filter(espec => espec.tipo._id === tipo[0]._id )\r\n    \r\n    const { clienteNombre, especialidad, onChange, setForm} = useForm<Form>(initForm)\r\n    \r\n    useEffect(() => {\r\n        if (especialidad !== '0' && clienteNombre.length >= 2) {\r\n            const filtro = clientes.filter(cliente => \r\n                cliente.causabaja.nombre !== 'OPERATIVO' \r\n                && cliente.especialidad._id.includes(especialidad) \r\n                && cliente.nombre.toUpperCase().includes(clienteNombre.toUpperCase())\r\n            )\r\n            cargaClientesFiltrados(filtro)\r\n        } else if(especialidad !== '0' && clienteNombre.length <= 2) {\r\n            const filtro = clientes.filter(cliente => \r\n                cliente.causabaja.nombre !== 'OPERATIVO'\r\n                && cliente.especialidad._id.includes(especialidad)                 \r\n            )\r\n            cargaClientesFiltrados(filtro)\r\n        } else if(especialidad === '0' && clienteNombre.length >= 2) {\r\n            const filtro = clientes.filter(cliente => \r\n                cliente.causabaja.nombre !== 'OPERATIVO'\r\n                && cliente.nombre.toUpperCase().includes(clienteNombre.toUpperCase())               \r\n            )\r\n            cargaClientesFiltrados(filtro)\r\n        } else {\r\n            const filtro = clientes.filter(cliente => cliente.causabaja.nombre !== 'OPERATIVO')\r\n            cargaClientesFiltrados(filtro)            \r\n        }\r\n    }, [clienteNombre, especialidad])\r\n    \r\n    const onSubmitClear  = () => {\r\n        const filtro = clientes.filter(cliente => cliente.causabaja.nombre !== 'OPERATIVO')\r\n        cargaClientesFiltrados(filtro)\r\n        setForm(initForm)\r\n    }\r\n    const handleDownloadFile  = () => {\r\n        file_Download_Clientes({clientesFiltrados})\r\n    }\r\n    return (\r\n        <div style={{display:'flex'}}>\r\n            <SelectItem\r\n                label='Especialidad'\r\n                name='especialidad'\r\n                value={especialidad}\r\n                callBack={(e) => onChange(e, 'especialidad')}\r\n                data={especialidades}\r\n            /> \r\n            <TextControl \r\n                label='Cliente'\r\n                name='clienteNombre'\r\n                value={clienteNombre}\r\n                callBack={(e) => onChange(e, 'clienteNombre')}\r\n            />\r\n            <div className=\"ml-4 mb-2\">\r\n                <BtnTypeEnter \r\n                    label='Limpiar'\r\n                    callBack={onSubmitClear}\r\n                    icon=\"fa fa-broom\"\r\n                    color='red'\r\n                    type = 'small'\r\n                />\r\n                <BtnTypeEnter \r\n                    label='Archivo'\r\n                    callBack={handleDownloadFile}\r\n                    icon=\"fa fa-file-csv\"\r\n                    color='green'\r\n                    type = 'small'\r\n                />                               \r\n            </div>\r\n        </div>\r\n   )\r\n}","import { useContext, useEffect, useMemo, useState } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport { Cliente } from '../../../interfaces/interfaces'\r\n\r\nimport { useTable, usePagination } from 'react-table'\r\nimport { BtnTypeEnter} from '../../ui/atom/FormControls'\r\nimport { ClienteContext } from '../../../context/ClienteContext';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { ClientesInactivosFilter } from '../../clientes/ClientesInactivosFilter'\r\n\r\n//COMPONENTE PRINCIPAL DE LA TABLA\r\nexport const TableClientesInactivos = () => {\r\n  const {clientesFiltrados} = useContext(ClienteContext)\r\n  //Configuracion de las columnas\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: 'Clientes Inactivos',\r\n        columns: [\r\n          {\r\n            Header: 'Nombre',\r\n            accessor: 'nombre',\r\n          },\r\n          {\r\n            Header: 'Email',\r\n            accessor: 'email',\r\n          },\r\n          {\r\n            Header: 'Especialidad',\r\n            accessor: 'especialidad',\r\n          },\r\n          {\r\n            Header: 'Telefono',\r\n            accessor: 'telefono1',\r\n          },\r\n          {\r\n            Header: 'Provincia',\r\n            accessor: 'provincia',\r\n          },\r\n          {\r\n            Header: 'Canton',\r\n            accessor: 'canton',\r\n          },\r\n          {\r\n            Header: 'Distrito',\r\n            accessor: 'distrito',\r\n          },\r\n          {\r\n            Header: 'Barrio',\r\n            accessor: 'barrio',\r\n          },          \r\n          {\r\n            Header: '',\r\n            accessor: 'ver',\r\n          },\r\n\r\n        ],\r\n      },\r\n    ],\r\n    []\r\n  )\r\n\r\n  const [skipPageReset, setSkipPageReset] = useState(false)\r\n  const dataFilter:Cliente[] = clientesFiltrados\r\n  const [data, setData] = useState<Cliente[]>(dataFilter)\r\n  const [index, setIndex] = useState(0)\r\n\r\n\r\n  const updateMyData = (rowIndex, columnId, value) => {\r\n    setSkipPageReset(true)\r\n    setData(old =>\r\n      old.map((row, index) => {\r\n        if (index === rowIndex) {\r\n          return {\r\n            ...old[rowIndex],\r\n            [columnId]: value,\r\n          }\r\n        }\r\n        return row\r\n      })\r\n    )\r\n  }\r\n  \r\n\r\n  useEffect(() => {\r\n    const datos = clientesFiltrados\r\n    setData(datos)\r\n  }, [clientesFiltrados])\r\n\r\n\r\n  useEffect(() => {\r\n    setSkipPageReset(false)\r\n  }, [data])\r\n\r\n  return (\r\n    <Styles>\r\n      <Table\r\n        columns={columns}\r\n        data={data}\r\n        updateMyData={updateMyData}\r\n        skipPageReset={skipPageReset}\r\n      />\r\n    </Styles>\r\n  )\r\n}\r\n\r\n// CONSTRUCCION DE LA CELDA\r\nconst EditableCell = ({\r\n  value: initialValue,\r\n  row: { index },\r\n  column: { id },\r\n  updateMyData,\r\n}) => {\r\n  const [value, setValue] = useState(initialValue)\r\n  const {seleccionaIndexCliente} = useContext(ClienteContext)\r\n  const history = useHistory();\r\n\r\n  const handleViewCliente = () => {\r\n    seleccionaIndexCliente(index);\r\n    history.push(\"/home/cliente\");\r\n  }\r\n\r\n  useEffect(() => {\r\n    setValue(initialValue)\r\n  }, [initialValue])\r\n\r\n  switch (id) {\r\n    case 'nombre':\r\n        return(<label>{value}</label>)\r\n    case 'email':\r\n      return(<label>{value}</label>)\r\n    case 'especialidad':\r\n        return(<label>{value.nombre}</label>)\r\n    case 'telefono1':\r\n        return(<label>{value.nombre}</label>)\r\n    case 'provincia':\r\n      return (value ? <label>{value.nombre}</label> : <label></label>)\r\n    case 'canton':\r\n        return (value ? <label>{value.nombre}</label> : <label></label>)\r\n    case 'distrito':\r\n      return (value ? <label>{value.nombre}</label> : <label></label>)\r\n    case 'barrio':\r\n      return (value ? <label>{value.nombre}</label> : <label></label>)\r\n    case 'ver':\r\n        return (\r\n            <div className='ml-4'>\r\n                <BtnTypeEnter \r\n                    label='Ver'\r\n                    callBack={handleViewCliente}\r\n                    icon=\"fa fa-eye\"\r\n                    color='orange'\r\n                    type = 'small'\r\n                />\r\n            </div>\r\n        )\r\n    default:\r\n      return <p style={{ width: 300 }}>{value}</p>\r\n  }\r\n}\r\n//gpsLong, gpsLat,\r\n//TIPO DE LA COLUMNA\r\nconst defaultColumn = {\r\n  Cell: EditableCell,\r\n}\r\n\r\nconst Table = ({ columns, data, updateMyData, skipPageReset }) => {\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    prepareRow,\r\n    page,\r\n    canPreviousPage,\r\n    canNextPage,\r\n    pageOptions,\r\n    pageCount,\r\n    gotoPage,\r\n    nextPage,\r\n    previousPage,\r\n    setPageSize,\r\n    state: { pageIndex, pageSize },\r\n  } = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n      defaultColumn,\r\n      autoResetPage: !skipPageReset,\r\n      updateMyData,\r\n    },\r\n    usePagination\r\n  )\r\n  return (\r\n    <div className=\"col-md-12\">\r\n\r\n      <ClientesInactivosFilter />\r\n\r\n      <table {...getTableProps()}>\r\n        <thead>\r\n          {headerGroups.map(headerGroup => (\r\n            <tr {...headerGroup.getHeaderGroupProps()}>\r\n              {headerGroup.headers.map(column => (\r\n                <th style={{ backgroundColor: 'lightgrey' }} {...column.getHeaderProps()}>{column.render('Header')}</th>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </thead>\r\n        <tbody {...getTableBodyProps()}>\r\n          {page.map((row, i) => {\r\n            prepareRow(row)\r\n            return (\r\n              <tr {...row.getRowProps()}>\r\n                {row.cells.map(cell => {\r\n                  return <td {...cell.getCellProps()}>{cell.render('Cell')}</td>\r\n                })}\r\n              </tr>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n     {/* Paginacion */}\r\n     <div className=\"pagination\" style={{ justifyContent: 'flex-start', alignItems: 'center' }}>\r\n        <button className='btn btn-dark mr-1' onClick={() => gotoPage(0)} disabled={!canPreviousPage}>\r\n          {'<<'}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => previousPage()} disabled={!canPreviousPage}>\r\n          {'< '}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => nextPage()} disabled={!canNextPage}>\r\n          {' >'}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => gotoPage(pageCount - 1)} disabled={!canNextPage}>\r\n          {'>>'}\r\n        </button>{'     '}\r\n        <span>\r\n          Página{'     '}\r\n          <strong>\r\n            {pageIndex + 1} de {pageOptions.length}\r\n          </strong>{' '}\r\n        </span>\r\n        <span>\r\n          | Ir a la Página:{' '}\r\n          <input\r\n            type=\"number\"\r\n            defaultValue={pageIndex + 1}\r\n            onChange={e => {\r\n              const page = e.target.value ? Number(e.target.value) - 1 : 0\r\n              gotoPage(page)\r\n            }}\r\n            style={{ width: '100px', borderWidth: 1, borderColor: 'black' }}\r\n          />\r\n        </span>{' '}\r\n        <select\r\n          style={{ width: 100 }}\r\n          value={pageSize}\r\n          onChange={e => {\r\n            setPageSize(Number(e.target.value))\r\n          }}\r\n        >\r\n          {[10, 20, 30, 40, 50].map(pageSize => (\r\n            <option key={pageSize} value={pageSize}>\r\n              Ver {pageSize}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      {/* Fin de Paginacion */}\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n// ESTILOS\r\nconst Styles = styled.div`\r\n  padding: 1rem;\r\n  table {\r\n    border-spacing: 0;\r\n    border: 0.5px solid black;\r\n    tr {\r\n      :last-child {\r\n        td {\r\n          border-bottom: 0;\r\n        }\r\n      }\r\n    }\r\n    th,\r\n    td {\r\n      margin: 0;\r\n      padding: 0.2rem;\r\n      border-bottom: 0.5px solid black;\r\n      border-right: 0.5px solid black;\r\n      :last-child {\r\n        border-right: 0;\r\n      }\r\n      input {\r\n        font-size: 1rem;\r\n        padding: 0;\r\n        margin: 0;\r\n        border: 0;\r\n      }\r\n    }\r\n  }\r\n  .pagination {\r\n    padding: 0.2rem;\r\n  }\r\n`","import { Divider } from '@material-ui/core'\r\nimport { useContext, useEffect } from 'react'\r\nimport { NavbarLeft } from '../../components/NavbarLeft'\r\nimport { TableClientesInactivos } from '../../components/tablas/clientes/TableClientesInactivos'\r\nimport { SpacerHorizontal } from '../../components/ui/atom/Spacer'\r\nimport { TitlePage } from '../../components/ui/atom/TitlePage'\r\nimport { ClienteContext } from '../../context/ClienteContext'\r\nimport { Cliente } from '../../interfaces/interfaces'\r\n\r\nexport const ClientesInactivosScreen = () => {\r\n\r\n    const { clientes, cargaClientesFiltrados } = useContext(ClienteContext)\r\n    \r\n    useEffect(() => {\r\n        const clientesInactivos: Cliente[] = clientes.filter(cliente => cliente.causabaja.nombre !== 'OPERATIVO')\r\n        cargaClientesFiltrados(clientesInactivos)\r\n    }, [clientes])\r\n\r\n    return (\r\n        <div className=\"flexbox-container\">\r\n            <div className=\"col-md-2\">\r\n                <NavbarLeft />\r\n            </div>\r\n\r\n            <div\r\n                className=\"col-md-10\"\r\n                style={{ height: \"88.5vh\", overflowY: \"scroll\" }}\r\n            >\r\n                <div>\r\n                    <TitlePage title='Clientes Inactivos' />\r\n                    <SpacerHorizontal />\r\n                    <Divider />\r\n                    <SpacerHorizontal />\r\n                    <TableClientesInactivos />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import mapboxgl from 'mapbox-gl'\r\nimport { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { MapPointer } from '../interfaces/interfaces';\r\n\r\n//TODO  : Cambiar el ApiKey\r\n//TODO  : Generar los ApiKeys de Infarma\r\n\r\nmapboxgl.accessToken = 'pk.eyJ1IjoiY2xpemFubyIsImEiOiJja2w3NXgxOGgxZXRmMnVsYWRvcHY3eWpnIn0.24MUcUaXNmqc6M2Fp_YCqQ';\r\n\r\nexport const useMap  = (MapPointers : MapPointer[]) => {\r\n\r\n    const mapaDiv = useRef();\r\n    const setRef = useCallback((node) => {\r\n        mapaDiv.current = node;\r\n      }, []);\r\n\r\n    //   console.log(MapPointers);\r\n      \r\n\r\n    const mapa = useRef();\r\n    const [zoom, setZoom] = useState(7)\r\n    const [styleMap, setStyleMap] = useState(localStorage.getItem('mapStyle') || 'calles')\r\n\r\n    const handleSelectStyle  = (e: any) => {\r\n        localStorage.setItem(\"mapStyle\", e);\r\n        setStyleMap(e)\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        let lngs: number[] = []\r\n        let lats: number [] = []\r\n        MapPointers.map(point => {\r\n            lngs.push(point.lng)\r\n            lats.push(point.lat)\r\n        })\r\n        const long = Math.min(...lngs)\r\n        const lati = Math.max(...lats)\r\n        const initCoords = lngs.length === 0 || lats.length === 0\r\n                            ? [-84.38, 9.97]\r\n                            : [long.toFixed(2), lati.toFixed(2)]\r\n\r\n        const map = new mapboxgl.Map({\r\n          container: mapaDiv.current,\r\n          style: mapStyle(styleMap),\r\n          center: initCoords,\r\n          zoom: zoom,\r\n        });\r\n        \r\n        // Crear el Mapa\r\n        mapa.current = map;\r\n        \r\n        MapPointers.map(({especialidad, lng, lat, id, description, name}) => {\r\n            const el = document.createElement('div');\r\n            const width = 41-zoom;\r\n            const height = 40-zoom;\r\n            const pointer = especialidad === \"FARMACIA\"\r\n            ? 'https://res.cloudinary.com/desm1rvpy/image/upload/v1642636374/Infarma/logo/mark8_frfzgj.png'\r\n            : 'https://res.cloudinary.com/desm1rvpy/image/upload/v1642636334/Infarma/logo/mark1_j7u0ny.png'        \r\n            el.style.backgroundImage = `url(${pointer})`;\r\n            el.style.width = `${width}px`;\r\n            el.style.height = `${height}px`;\r\n            el.style.cursor = `pointer`\r\n            el.style.backgroundSize = '100%';\r\n            new mapboxgl.Marker(el)\r\n                .setLngLat([lng, lat]).addTo(mapa.current).setDraggable(false)\r\n                .setPopup(new mapboxgl.Popup({ offset: 35 }).setHTML(\r\n                    `<div>\r\n                        <p>${name}</p>\r\n                        <hr/>\r\n                        <p>${description}</p>\r\n                     </div>`\r\n                    ))\r\n                .id = id\r\n        })\r\n\r\n    // Crear el Marcador en el DOM\r\n\r\n        //Listener del Zoom en el mapa\r\n        map.on('zoom', ({target}) => {\r\n            const currentZoom = target.transform._zoom.toFixed(2)\r\n            if (currentZoom - zoom > 0.2 || currentZoom - zoom < 0.2) {\r\n                setZoom(currentZoom)\r\n            }\r\n        })\r\n      }, [MapPointers, styleMap]);\r\n\r\n    return {\r\n        styleMap,\r\n        setRef,\r\n        handleSelectStyle,\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nconst mapStyle  = (style : string) => {\r\n    switch (style) {\r\n        case 'calles':\r\n            return 'mapbox://styles/mapbox/streets-v11'\r\n        case 'exteriores':\r\n            return 'mapbox://styles/mapbox/outdoors-v11'\r\n        case 'claro': \r\n            return 'mapbox://styles/mapbox/light-v10'\r\n        case 'oscuro':\r\n            return 'mapbox://styles/mapbox/dark-v10'\r\n        case 'satelite':\r\n            return 'mapbox://styles/mapbox/satellite-v9'\r\n        case 'calles+satelite':\r\n            return 'mapbox://styles/mapbox/satellite-streets-v11'\r\n        case 'navegacion+dia':\r\n            return 'mapbox://styles/mapbox/navigation-day-v1'\r\n        case 'navegacion+noche':\r\n            return 'mapbox://styles/mapbox/navigation-night-v1'\r\n        default:\r\n            return 'mapbox://styles/mapbox/streets-v11'\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n","import { useContext, useEffect } from \"react\"\r\nimport { ClienteContext } from \"../../context/ClienteContext\"\r\nimport { MasterDataContext } from \"../../context/MasterDataContext\"\r\n// import { file_Download_Clientes } from \"../../helpers/file_Download\"\r\nimport { useForm } from \"../../hooks/useForm\"\r\nimport { Cliente, MapPointer } from \"../../interfaces/interfaces\"\r\nimport { BtnTypeEnter, SelectBarrio, SelectCanton, SelectDistrito, SelectItem, SelectPais, SelectProvincia, TextControl } from \"../ui/atom/FormControls\"\r\n\r\ninterface Form {\r\n    clienteNombre: string,\r\n    especialidad : string\r\n    pais: string | undefined,\r\n    provincia: string | undefined,\r\n    canton: string | undefined,\r\n    distrito: string | undefined,\r\n    barrio: string | undefined,\r\n  }\r\n\r\nexport const ClientesActivosMapFilter = () => {\r\n    const initForm = {\r\n        clienteNombre : \"\", \r\n        especialidad: '0',\r\n        pais: undefined,\r\n        provincia: undefined,\r\n        canton: undefined,\r\n        distrito: undefined,\r\n        barrio: undefined,\r\n}\r\n\r\n    const { caracteristricas, caracteristicasTipo ,paises, provincias, cantones, distritos, barrios} = useContext(MasterDataContext)\r\n    const { clientes,  cargaMapPointers, purgaMapPointers } = useContext(ClienteContext)\r\n\r\n    const tipo = caracteristicasTipo.filter(tipo => tipo.nombre === 'ESPE')\r\n    const especialidades = caracteristricas.filter(espec => espec.tipo._id === tipo[0]._id )\r\n    \r\n    const { \r\n        clienteNombre, \r\n        especialidad, \r\n        pais,\r\n        provincia,\r\n        canton,\r\n        distrito,\r\n        barrio,\r\n        onChange, \r\n        setForm\r\n    } =  useForm<Form>(initForm)\r\n\r\n   \r\n    const provinciasFilter = provincias.filter(provincia => provincia.pais._id === pais)\r\n    const cantonesFilter = cantones.filter(canton => canton.provincia._id === provincia)\r\n    const distritosFilter = distritos.filter(distrito => distrito.canton._id === canton)\r\n    const barriosFilter = barrios.filter(barrio => barrio.distrito._id === distrito)\r\n\r\n    const cargaClientesFiltrados  = (filtro : Cliente[]) => {\r\n        const data : MapPointer[] = []\r\n        filtro.map(point => {\r\n            data.push({\r\n                lng: point.gpsLong,\r\n                lat: point.gpsLat,\r\n                id: point._id,\r\n                name: point.nombre,\r\n                description: point.direccion,\r\n                especialidad : point.especialidad.nombre,                \r\n            })\r\n        })\r\n        cargaMapPointers(data)\r\n    }\r\n    \r\n\r\n    useEffect(() => {\r\n        \r\n        purgaMapPointers()           \r\n        let filtro: Cliente[] = []\r\n\r\n        if (pais && !provincia && !canton && !distrito && !barrio) {\r\n            filtro = clientes.filter(cliente => \r\n                cliente.causabaja.nombre === 'OPERATIVO'\r\n                && cliente.pais._id === pais                          \r\n            )\r\n            cargaClientesFiltrados(filtro)\r\n        } else if (pais && provincia && !canton && !distrito && !barrio) {\r\n            filtro = clientes.filter(cliente => \r\n                cliente.causabaja.nombre === 'OPERATIVO'\r\n                && cliente.pais._id === pais                          \r\n                && cliente.provincia._id === provincia                          \r\n            )\r\n            cargaClientesFiltrados(filtro)\r\n        }\r\n        \r\n        if (especialidad !== '0' && clienteNombre.length >= 2) {\r\n            filtro = clientes.filter(cliente => \r\n                cliente.causabaja.nombre === 'OPERATIVO' \r\n                && cliente.especialidad._id.includes(especialidad) \r\n                && cliente.nombre.toUpperCase().includes(clienteNombre.toUpperCase())\r\n            )\r\n            cargaClientesFiltrados(filtro)            \r\n        } else if(especialidad !== '0' && clienteNombre.length < 2) {\r\n            filtro = clientes.filter(cliente => \r\n                cliente.causabaja.nombre === 'OPERATIVO'\r\n                && cliente.especialidad._id.includes(especialidad)                 \r\n            )\r\n            cargaClientesFiltrados(filtro)            \r\n        } else if(especialidad === '0' && clienteNombre.length >= 2) {\r\n            filtro = clientes.filter(cliente => \r\n                cliente.causabaja.nombre === 'OPERATIVO'\r\n                && cliente.nombre.toUpperCase().includes(clienteNombre.toUpperCase())               \r\n            )\r\n            cargaClientesFiltrados(filtro)            \r\n        } else {\r\n            filtro = []\r\n            // cargaClientesFiltrados(filtro)            \r\n        }\r\n\r\n        //Hacer Aqui el filtro Geográfico\r\n\r\n\r\n\r\n    }, [clienteNombre, especialidad, pais, provincia])\r\n    \r\n    const onSubmitClear  = () => {\r\n        purgaMapPointers()  \r\n        setForm(initForm)\r\n    }\r\n    // const handleDownloadFile  = () => {\r\n    //     file_Download_Clientes({clientesFiltrados})\r\n    // }\r\n    return (\r\n        <div >\r\n            <div style={{display:'flex', flexDirection:'column', alignItems:'end'}}  >\r\n                <SelectItem\r\n                    label='Esp'\r\n                    name='especialidad'\r\n                    value={especialidad}\r\n                    callBack={(e) => onChange(e, 'especialidad')}\r\n                    data={especialidades}\r\n                /> \r\n                <TextControl \r\n                    label='Cliente'\r\n                    name='clienteNombre'\r\n                    value={clienteNombre}\r\n                    callBack={(e) => onChange(e, 'clienteNombre')}\r\n                />\r\n                <SelectPais\r\n                    label=\"País\"\r\n                    name='pais'\r\n                    value={pais}\r\n                    callBack={(e) => onChange(e, 'pais')}\r\n                    data={paises}\r\n                /> \r\n                <SelectProvincia\r\n                    label=\"Provincia\"\r\n                    name='provincia'\r\n                    value={provincia}\r\n                    callBack={(e) => onChange(e, 'provincia')}\r\n                    data={provinciasFilter}\r\n                /> \r\n                <SelectCanton\r\n                    label=\"Cantón\"\r\n                    name='canton'\r\n                    value={canton}\r\n                    callBack={(e) => onChange(e, 'canton')}\r\n                    data={cantonesFilter}\r\n                /> \r\n                <SelectDistrito\r\n                    label=\"Distrito\"\r\n                    name='distrito'\r\n                    value={distrito}\r\n                    callBack={(e) => onChange(e, 'distrito')}\r\n                    data={distritosFilter}\r\n                />\r\n                <SelectBarrio\r\n                    label=\"Barrio\"\r\n                    name='barrio'\r\n                    value={barrio}\r\n                    callBack={(e) => onChange(e, 'barrio')}\r\n                    data={barriosFilter}\r\n                />\r\n            </div>\r\n            <BtnTypeEnter \r\n                label='Limpiar'\r\n                callBack={onSubmitClear}\r\n                icon=\"fa fa-broom\"\r\n                color='red'\r\n                type = 'small'\r\n            />\r\n\r\n            {/* <button className=\"btn btn-primary\">Ver</button> */}\r\n\r\n            {/* <BtnTypeEnter \r\n                label='Archivo'\r\n                callBack={handleDownloadFile}\r\n                icon=\"fa fa-file-csv\"\r\n                color='green'\r\n                type = 'small'\r\n            /> */}\r\n        </div>\r\n   )\r\n}","import { useContext } from 'react';\r\nimport { useMap } from '../../hooks/useMap';\r\nimport { MapStyleControlSelect } from '../ui/atom/FormControls';\r\nimport { ClienteContext } from '../../context/ClienteContext';\r\nimport { ClientesActivosMapFilter } from '../clientes/ClientesActivosMapFilter';\r\n\r\nexport const MapContainerRutes = () => {\r\n    const {mapPointers} = useContext(ClienteContext)\r\n    const {handleSelectStyle, styleMap, setRef} = useMap(mapPointers)\r\n\r\n    return (\r\n        <div style={{display:'flex', flexDirection:'row', }}>\r\n            <div className='mapContainer col-md-3'>\r\n                <MapStyleControlSelect \r\n                    label = 'Capa'\r\n                    value = {styleMap}\r\n                    name = 'styleMap'\r\n                    callBack={(e) => handleSelectStyle(e)}\r\n                />\r\n                <ClientesActivosMapFilter />\r\n            </div>\r\n            <div \r\n                className='mapContainer col-md-9'\r\n                ref = {setRef}\r\n            />\r\n        </div>\r\n    )\r\n}","import { Divider } from '@material-ui/core'\r\nimport { MapContainerRutes } from '../../components/mapa/MapContainerRutes'\r\nimport { NavbarLeft } from '../../components/NavbarLeft'\r\nimport { SpacerHorizontal } from '../../components/ui/atom/Spacer'\r\nimport { TitlePage } from '../../components/ui/atom/TitlePage'\r\n\r\nexport const ClientesMapeoScreen = () => {\r\n\r\n    return (\r\n        <div className=\"flexbox-container\">\r\n            <div className=\"col-md-2\">\r\n                <NavbarLeft />\r\n            </div>\r\n\r\n            <div\r\n                className=\"col-md-10\"\r\n                style={{ height: \"88.5vh\", overflowY: \"scroll\" }}\r\n            >\r\n                <div>\r\n                    <TitlePage title='Mapeo de Clientes' />\r\n                    <SpacerHorizontal />\r\n                    <Divider />\r\n                    <SpacerHorizontal />\r\n                    <MapContainerRutes />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import { useContext, useEffect, useMemo, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport moment from 'moment'\r\nimport { Visita } from '../../../interfaces/interfaces';\r\n\r\nimport { useTable, usePagination } from 'react-table'\r\nimport { BtnTypeEnter } from '../../ui/atom/FormControls'\r\nimport { VisitaContext } from '../../../context/VisitaContext';\r\nimport { useHistory } from 'react-router';\r\n\r\ninterface TableVisitasProps {\r\n  visitas : Visita[]\r\n}\r\n\r\n//COMPONENTE PRINCIPAL DE LA TABLA\r\nexport const TableVisitas = ({visitas} : TableVisitasProps) => {\r\n  \r\n  //Configuracion de las columnas\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: 'Visitas',\r\n        columns: [\r\n          {\r\n            Header: 'Visitador',\r\n            accessor: 'usuario',\r\n          },\r\n          {\r\n            Header: 'Fecha',\r\n            accessor: 'fecha',\r\n          },\r\n          {\r\n            Header: 'Estado',\r\n            accessor: 'novisita',\r\n          },\r\n          {\r\n            Header: 'Tipo',\r\n            accessor: 'tipo',\r\n          },\r\n          {\r\n            Header: 'Alerta',\r\n            accessor: 'alerta',\r\n          },\r\n          {\r\n            Header: 'Cliente',\r\n            accessor: 'cliente',\r\n          },\r\n          {\r\n            Header: 'Notas',\r\n            accessor: 'anotaciones',\r\n          },\r\n          {\r\n            Header: '',\r\n            accessor: 'ver',\r\n          },\r\n\r\n        ],\r\n      },\r\n    ],\r\n    []\r\n  )\r\n\r\n  const [skipPageReset, setSkipPageReset] = useState(false)\r\n  const dataFilter :Visita[] = visitas\r\n  const [data, setData] = useState<Visita[]>(dataFilter)\r\n\r\n  const {selecVisita} = useContext(VisitaContext)\r\n  const [index, setIndex] = useState(0)\r\n\r\n\r\n  const updateMyData = (rowIndex, columnId, value) => {\r\n    setSkipPageReset(true)\r\n    setData(old =>\r\n      old.map((row, index) => {\r\n        if (index === rowIndex) {\r\n          return {\r\n            ...old[rowIndex],\r\n            [columnId]: value,\r\n          }\r\n        }\r\n        return row\r\n      })\r\n    )\r\n  }\r\n  \r\nuseEffect(() => {\r\n    if (index){ \r\n      selecVisita(dataFilter[index])\r\n    }\r\n}, [index])\r\n\r\n  useEffect(() => {\r\n    const datos = visitas\r\n    setData(datos)\r\n  }, [visitas])\r\n\r\n\r\n  useEffect(() => {\r\n    setSkipPageReset(false)\r\n  }, [data])\r\n\r\n  return (\r\n    <Styles>\r\n      <Table\r\n        columns={columns}\r\n        data={data}\r\n        updateMyData={updateMyData}\r\n        skipPageReset={skipPageReset}\r\n      />\r\n    </Styles>\r\n  )\r\n}\r\n\r\n// CONSTRUCCION DE LA CELDA\r\nconst EditableCell = ({\r\n  value: initialValue,\r\n  row: { index },\r\n  column: { id },\r\n  updateMyData,\r\n}) => {\r\n  const [value, setValue] = useState(initialValue)\r\n  const {setDataFilterIndex} = useContext(VisitaContext)\r\n  const history = useHistory();\r\n\r\n  const handleViewVisita = () => {\r\n    setDataFilterIndex(index);\r\n    history.push(\"/home/visita\");\r\n  }\r\n\r\n  useEffect(() => {\r\n    setValue(initialValue)\r\n  }, [initialValue])\r\n\r\n  switch (id) {\r\n    case 'usuario':\r\n        return(<label>{value.nombre}</label>)\r\n    case 'fecha':\r\n        return(<label>{moment(value).format('DD/MM/YYYY HH:MM').toString()}</label>)\r\n    case 'tipo':\r\n    case 'novisita':\r\n    case 'alerta':\r\n        return(<label>{value.nombre}</label>)\r\n    case 'cliente': {\r\n        return (value ? <label>{value.nombre}</label> : <label></label>)\r\n    }\r\n    case 'anotaciones':\r\n        return(<label>{value}</label>)\r\n    case 'ver':\r\n        return (\r\n            <div className='ml-4'>\r\n                <BtnTypeEnter \r\n                    label='Ver'\r\n                    callBack={handleViewVisita}\r\n                    icon=\"fa fa-eye\"\r\n                    color='orange'\r\n                    type = 'small'\r\n                />\r\n            </div>\r\n        )\r\n    default:\r\n      return <p style={{ width: 300 }}>{value}</p>\r\n  }\r\n}\r\n//gpsLong, gpsLat,\r\n//TIPO DE LA COLUMNA\r\nconst defaultColumn = {\r\n  Cell: EditableCell,\r\n}\r\n\r\nconst Table = ({ columns, data, updateMyData, skipPageReset }) => {\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    prepareRow,\r\n    page,\r\n    canPreviousPage,\r\n    canNextPage,\r\n    pageOptions,\r\n    pageCount,\r\n    gotoPage,\r\n    nextPage,\r\n    previousPage,\r\n    setPageSize,\r\n    state: { pageIndex, pageSize },\r\n  } = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n      defaultColumn,\r\n      autoResetPage: !skipPageReset,\r\n      updateMyData,\r\n    },\r\n    usePagination\r\n  )\r\n\r\n  // Render the UI for your table\r\n  return (\r\n    <>\r\n\r\n \r\n      <table {...getTableProps()}>\r\n        <thead>\r\n          {headerGroups.map(headerGroup => (\r\n            <tr {...headerGroup.getHeaderGroupProps()}>\r\n              {headerGroup.headers.map(column => (\r\n                <th style={{ backgroundColor: 'lightgrey' }} {...column.getHeaderProps()}>{column.render('Header')}</th>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </thead>\r\n        <tbody {...getTableBodyProps()}>\r\n          {page.map((row, i) => {\r\n            prepareRow(row)\r\n            return (\r\n              <tr {...row.getRowProps()}>\r\n                {row.cells.map(cell => {\r\n                  return <td {...cell.getCellProps()}>{cell.render('Cell')}</td>\r\n                })}\r\n              </tr>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n     {/* Paginacion */}\r\n     <div className=\"pagination\" style={{ justifyContent: 'flex-start', alignItems: 'center' }}>\r\n        <button className='btn btn-dark mr-1' onClick={() => gotoPage(0)} disabled={!canPreviousPage}>\r\n          {'<<'}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => previousPage()} disabled={!canPreviousPage}>\r\n          {'< '}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => nextPage()} disabled={!canNextPage}>\r\n          {' >'}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => gotoPage(pageCount - 1)} disabled={!canNextPage}>\r\n          {'>>'}\r\n        </button>{'     '}\r\n        <span>\r\n          Página{'     '}\r\n          <strong>\r\n            {pageIndex + 1} de {pageOptions.length}\r\n          </strong>{' '}\r\n        </span>\r\n        <span>\r\n          | Ir a la Página:{' '}\r\n          <input\r\n            type=\"number\"\r\n            defaultValue={pageIndex + 1}\r\n            onChange={e => {\r\n              const page = e.target.value ? Number(e.target.value) - 1 : 0\r\n              gotoPage(page)\r\n            }}\r\n            style={{ width: '100px', borderWidth: 1, borderColor: 'black' }}\r\n          />\r\n        </span>{' '}\r\n        <select\r\n          style={{ width: 100 }}\r\n          value={pageSize}\r\n          onChange={e => {\r\n            setPageSize(Number(e.target.value))\r\n          }}\r\n        >\r\n          {[10, 20, 30, 40, 50].map(pageSize => (\r\n            <option key={pageSize} value={pageSize}>\r\n              Ver {pageSize}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      {/* Fin de Paginacion */}\r\n\r\n    </>\r\n  )\r\n}\r\n\r\n\r\n// ESTILOS\r\nconst Styles = styled.div`\r\n  padding: 1rem;\r\n  table {\r\n    border-spacing: 0;\r\n    border: 0.5px solid black;\r\n    tr {\r\n      :last-child {\r\n        td {\r\n          border-bottom: 0;\r\n        }\r\n      }\r\n    }\r\n    th,\r\n    td {\r\n      margin: 0;\r\n      padding: 0.2rem;\r\n      border-bottom: 0.5px solid black;\r\n      border-right: 0.5px solid black;\r\n      :last-child {\r\n        border-right: 0;\r\n      }\r\n      input {\r\n        font-size: 1rem;\r\n        padding: 0;\r\n        margin: 0;\r\n        border: 0;\r\n      }\r\n    }\r\n  }\r\n  .pagination {\r\n    padding: 0.2rem;\r\n  }\r\n`","import moment from \"moment\"\r\nimport { useContext } from \"react\"\r\nimport { AuthContext } from \"../../context/AuthContext\"\r\nimport { SocketContext } from \"../../context/SocketContext\"\r\nimport { useForm } from \"../../hooks/useForm\"\r\nimport { BtnTypeEnter, SelectDateddMMyyyy, SelectVisitador, TextControlNumCol, SelectItem } from '../ui/atom/FormControls';\r\nimport { Evento } from '../../interfaces/interfaces';\r\n// import { file_Download_Visitas } from '../../helpers/file_Download';\r\nimport { ClienteContext } from \"../../context/ClienteContext\"\r\nimport { VisitaContext } from '../../context/VisitaContext';\r\nimport { TableVisitas } from \"../tablas/visitas/TableVisitas\"\r\nimport { file_Download_Visitas } from \"../../helpers/file_Download\"\r\nimport { useVisitadorPais } from \"../../hooks/useVisitadorPais\"\r\n\r\ninterface Form {\r\n    uid?: string\r\n    inicio: any;\r\n    fin: any;\r\n    max: number;\r\n    cliente:  string ,\r\n}\r\n\r\nexport interface CalendarResponse {\r\n    ok: boolean;\r\n    msg: string;\r\n    total: number;\r\n    eventos: Evento[];\r\n  }\r\n\r\n\r\nexport const VisitasFilterOptions  = () => {\r\n\r\n    const {usuarios} = useContext(SocketContext)\r\n    const {user} = useContext(AuthContext)\r\n    const {cargaDataFilter, visitasFilter, purgaDataFilter, clearDataFilterIndex} = useContext(VisitaContext)\r\n\r\n    const initForm = {\r\n        uid : user?.uid,\r\n        inicio: new Date(moment().startOf('isoWeek').toDate()),\r\n        fin: new Date(moment().endOf('isoWeek').toDate()),\r\n        max: 50,\r\n        cliente : '0',\r\n    }\r\n    const {uid, inicio, fin, max, cliente, onChange, setForm, form } = useForm<Form>(initForm)\r\n\r\n    const {visitadores} =  useVisitadorPais()\r\n\r\n    const { clientes } = useContext(ClienteContext)\r\n    const clientesActivos = clientes.filter(cliente => cliente.causabaja.nombre === 'OPERATIVO' && cliente.visitador._id === user?.uid)\r\n            \r\n    const handleDownloadFile  = () => {\r\n        file_Download_Visitas({visitasFilter})\r\n    }\r\n\r\n    const handleFilter  = () => {\r\n        cargaDataFilter({inicio, fin, uid, max, cliente})\r\n        \r\n        \r\n    }\r\n\r\n      const onSubmitClear  = () => {\r\n        purgaDataFilter()\r\n        clearDataFilterIndex()\r\n        setForm(initForm)\r\n    }\r\n\r\n    const handleStartDateChange = (e) => {\r\n        setForm({\r\n            ...form,\r\n            inicio: e,\r\n        });\r\n        };\r\n    \r\n    const handleEndDateChange = (e) => {\r\n        setForm({\r\n            ...form,\r\n            fin: e,\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"imput_box_container\">\r\n                <SelectDateddMMyyyy \r\n                    label={'Fecha Inicial'}\r\n                    name = {\"inicio\"}\r\n                    value = {inicio}\r\n                    callBack={handleStartDateChange}\r\n                />\r\n                <SelectDateddMMyyyy \r\n                    label={'Fecha Final'}\r\n                    name = {\"final\"}\r\n                    value = {fin}\r\n                    callBack={handleEndDateChange}\r\n                />\r\n                <TextControlNumCol\r\n                    label='Mostrar'\r\n                    value={max}\r\n                    name='max'\r\n                    callBack={(e) => onChange( e, 'max')}\r\n                />\r\n                <SelectVisitador \r\n                    label='Visitador'\r\n                    name='uid'\r\n                    value={uid}\r\n                    data={visitadores}\r\n                    callBack={(e) => onChange( e, 'uid')}\r\n                />\r\n                <SelectItem\r\n                    label='Cliente'\r\n                    name='cliente'\r\n                    value = {cliente}\r\n                    data={clientesActivos}\r\n                    callBack={(e) => onChange( e, 'cliente')}\r\n                />\r\n                \r\n                <div className='ml-4 mt-3'>\r\n                    <BtnTypeEnter \r\n                        label='Filtrar'\r\n                        callBack={handleFilter}\r\n                        icon=\"fa fa-filter\"\r\n                        color='yellow'\r\n                        type = 'small'\r\n                    />\r\n                    <BtnTypeEnter \r\n                        label='Limpiar'\r\n                        callBack={onSubmitClear}\r\n                        icon=\"fa fa-broom\"\r\n                        color='red'\r\n                        type = 'small'\r\n                    />\r\n                    {\r\n                        visitasFilter.length > 0 &&\r\n                        <BtnTypeEnter \r\n                            label='Archivo'\r\n                            callBack={handleDownloadFile}\r\n                            icon=\"fa fa-file-csv\"\r\n                            color='green'\r\n                            type = 'small'\r\n                        />                    \r\n                    }                            \r\n                </div>\r\n            </div>\r\n\r\n            {\r\n                visitasFilter.length > 0 &&\r\n                <TableVisitas visitas={visitasFilter} />\r\n            }\r\n\r\n        </div>\r\n    )\r\n}","import { NavbarLeft } from '../../components/NavbarLeft'\r\nimport { SpacerHorizontal } from '../../components/ui/atom/Spacer'\r\nimport { Divider } from '@material-ui/core';\r\nimport { TitlePage } from '../../components/ui/atom/TitlePage';\r\nimport { VisitasFilterOptions } from '../../components/visitas/VisitasFilterOptions';\r\n    \r\nexport const VisitasHistoricoScreen = () => {\r\n    return (\r\n        <div className='flexbox-container'>\r\n           <div className='col-md-2'>\r\n               <NavbarLeft />\r\n           </div>\r\n    \r\n           <div\r\n               className='col-md-10'\r\n               style={{ height: '88.5vh', overflowY: 'scroll' }}\r\n           >\r\n               <div>\r\n                   <TitlePage title='Histórico de Visitas' />\r\n                   <SpacerHorizontal />\r\n                   <Divider />\r\n                   <VisitasFilterOptions />\r\n               </div>\r\n           </div>\r\n       </div>\r\n   )\r\n}","import { NavbarLeft } from '../../components/NavbarLeft'\r\nimport { SpacerHorizontal } from '../../components/ui/atom/Spacer'\r\nimport { Divider } from '@material-ui/core';\r\nimport { ImgPortada } from '../../components/ui/atom/ImgPortada';\r\nimport { TitlePage } from '../../components/ui/atom/TitlePage';\r\n\r\n    \r\nexport const VademecumScreen = () => {\r\n\r\n    const portada = \"https://res.cloudinary.com/desm1rvpy/image/upload/v1641503441/Infarma/logo/vademecum_mbu3pj.jpg\"\r\n\r\n    return (\r\n        <div className='flexbox-container'>\r\n           <div className='col-md-2'>\r\n               <NavbarLeft />\r\n           </div>\r\n    \r\n           <div\r\n               className='col-md-10'\r\n               style={{ height: '88.5vh', overflowY: 'scroll' }}\r\n           >\r\n               <div>\r\n                   <TitlePage title='Panel Vademecum' />\r\n                   <SpacerHorizontal />\r\n                   <Divider />\r\n                   <SpacerHorizontal />\r\n                   <ImgPortada img={portada} />\r\n                   \r\n               </div>\r\n           </div>\r\n       </div>\r\n   )\r\n}","import { Divider } from \"@material-ui/core\";\r\nimport { SpacerHorizontal } from \"../ui/atom/Spacer\";\r\n\r\nconst defaultImg =\r\n\"https://res.cloudinary.com/desm1rvpy/image/upload/v1653601855/Infarma/default/istockphoto-1354776457-612x612_ndweuc.jpg\";\r\n\r\ninterface ImgBlogAjusProps {\r\n    image? : string\r\n    alt : string\r\n}\r\n\r\n\r\nexport const ImgBlogAjus = ({ image, alt } : ImgBlogAjusProps) => {\r\n    return (\r\n      <div className=\"doc\">\r\n        <div className=\"box\">\r\n          <img\r\n            alt={alt}\r\n            src={image ? image : defaultImg}\r\n            className=\"imagenBlogajustada\"\r\n            style={{\r\n              borderRadius: 30,\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  };","\r\nimport { Divider } from '@material-ui/core';\r\nimport { Producto } from '../../interfaces/interfaces';\r\nimport { SpacerHorizontal } from '../ui/atom/Spacer';\r\nimport { TitlePage } from '../ui/atom/TitlePage';\r\nimport { ImgBlogAjus } from './ImgProductoAjust';\r\n\r\ninterface productoProps {\r\n    producto : Producto\r\n}\r\n\r\nexport const ProductoItem = ({producto} : productoProps) => {\r\n    \r\nconst {nombre, images, composicion, posologia, indicaciones} = producto\r\n\r\n    return (\r\n        <div \r\n            className='mt-2'\r\n            // style={{ backgroundColor:'green'}}\r\n        >\r\n            <TitlePage title={nombre}/>\r\n            <SpacerHorizontal />        \r\n            <div style={{display:'flex', flexDirection:'row'}}>\r\n                <ImgBlogAjus \r\n                    alt={nombre}\r\n                    image={images}\r\n                />\r\n                <div className='ml-4' style={{display:'flex', flexDirection: 'column'}}>\r\n                    <span> <h4>Posología:</h4> {posologia}</span>\r\n                    <SpacerHorizontal />\r\n                    <span> <h4>Indicaciones:</h4> {indicaciones}</span>\r\n                    <SpacerHorizontal />\r\n                    <span> <h4>Composición: </h4>{composicion}</span>\r\n                </div>\r\n            </div>\r\n            <SpacerHorizontal />        \r\n            <SpacerHorizontal />        \r\n        <Divider />            \r\n        </div>\r\n    )\r\n}","import { useContext } from 'react';\r\nimport { ProductoContext } from '../../context/ProductoContext';\r\nimport { ProductoItem } from './ProductoItem';\r\n    \r\nexport const ProductosListAll = () => {\r\n\r\n    const { productos } = useContext(ProductoContext)\r\n    \r\n    return (\r\n        <div\r\n            className='col-md-12'\r\n            style={{ height: '78vh', overflowY: 'scroll' }}\r\n            >\r\n                {\r\n                    productos.map(producto => (\r\n                        <ProductoItem key={producto._id} producto ={producto}/>\r\n                    ))\r\n                }\r\n        </div>\r\n    )\r\n}","import { NavbarLeft } from '../../components/NavbarLeft'\r\nimport { SpacerHorizontal } from '../../components/ui/atom/Spacer'\r\nimport { Divider } from '@material-ui/core';\r\nimport { TitlePage } from '../../components/ui/atom/TitlePage';\r\nimport { ProductosListAll } from '../../components/productos/ProductosListAll';\r\n    \r\nexport const VademecumAllScreen = () => {\r\n    return (\r\n        <div className='flexbox-container'>\r\n           <div className='col-md-2'>\r\n               <NavbarLeft />\r\n           </div>\r\n    \r\n           <div\r\n               className='col-md-10'\r\n               style={{ height: '88.5vh', overflowY: 'scroll' }}\r\n           >\r\n               <div>\r\n                   <TitlePage title='Lista de Productos' />\r\n                   <SpacerHorizontal />\r\n                   <Divider />\r\n                   <SpacerHorizontal />\r\n                   <ProductosListAll />\r\n               </div>\r\n           </div>\r\n       </div>\r\n   )\r\n}","import styled from 'styled-components'\r\nimport { useTable, usePagination } from 'react-table'\r\nimport { useContext, useEffect, useMemo, useState } from 'react'\r\nimport { MasterDataContext } from '../../../context/MasterDataContext'\r\n\r\n\r\n//COMPONENTE PRINCIPAL DE LA TABLA\r\nexport const TableCargaTipoCaracteristica = () => {\r\n  //Configuracion de las columnas\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: 'Tipos de Características',\r\n        columns: [\r\n          {\r\n            Header: 'Nombre',\r\n            accessor: 'nombre',\r\n          },\r\n          {\r\n            Header: '',\r\n            accessor: 'guardar',\r\n          },          \r\n        ],\r\n      },\r\n    ],\r\n    []\r\n  )\r\n\r\n  const { \r\n    caracteristicasTipo, \r\n    cargaTipoCaracteristicaNewData , \r\n    limpiaCaracteristicaNewData\r\n  } = useContext(MasterDataContext)\r\n  const [skipPageReset, setSkipPageReset] = useState(false)\r\n  const dataFilter = caracteristicasTipo\r\n  const [data, setData] = useState(dataFilter)\r\n\r\n  const updateMyData = (rowIndex, columnId, value) => {\r\n    setSkipPageReset(true)\r\n    setData(old =>\r\n      old.map((row, index) => {\r\n        if (index === rowIndex) {\r\n          return {\r\n            ...old[rowIndex],\r\n            [columnId]: value,\r\n          }\r\n        }\r\n        return row\r\n      })\r\n    )\r\n  }\r\n  \r\n  useEffect(() => {\r\n    const datos = caracteristicasTipo\r\n    setData(datos)\r\n  }, [caracteristicasTipo])\r\n\r\n\r\n  useEffect(() => {\r\n    setSkipPageReset(false)\r\n  }, [data])\r\n\r\n  useEffect(() => {\r\n    cargaTipoCaracteristicaNewData(data)\r\n    return () => {\r\n      limpiaCaracteristicaNewData()\r\n    }      \r\n  }, [data])\r\n\r\n  return (\r\n    <Styles>\r\n      <Table\r\n        columns={columns}\r\n        data={data}\r\n        updateMyData={updateMyData}\r\n        skipPageReset={skipPageReset}\r\n      />\r\n    </Styles>\r\n  )\r\n}\r\n\r\n// CONSTRUCCION DE LA CELDA\r\nconst EditableCell = ({\r\n  value: initialValue,\r\n  row: { index },\r\n  column: { id },\r\n  updateMyData,\r\n}) => {\r\n  const { actualizaTipoCaracteristica } = useContext(MasterDataContext)\r\n  const [value, setValue] = useState(initialValue)\r\n\r\n  const onChange = (e) => {\r\n    setValue(e.target.value)\r\n  }\r\n\r\n  const onBlur = () => {\r\n    updateMyData(index, id, value)\r\n  }\r\n\r\n  const handleSave = () => {\r\n    actualizaTipoCaracteristica(index);\r\n  }\r\n\r\n  useEffect(() => {\r\n    setValue(initialValue)\r\n  }, [initialValue])\r\n\r\n  switch (id) {\r\n    case 'nombre':\r\n      return <input \r\n                value={value} \r\n                onChange={onChange} \r\n                onBlur={onBlur} \r\n                style={{ width: 250 }} \r\n              />\r\n    case 'guardar':\r\n      return <button \r\n                className='btn btn-outline-dark' \r\n                onClick={handleSave} \r\n                style={{ alignItems: 'center' }}\r\n              >\r\n        <div style={{ color: 'blue' }}>\r\n          <i className={`fas fa-save`} />\r\n        </div>\r\n      </button>\r\n    default:\r\n      return <p style={{ width: 300 }}>{value}</p>\r\n  }\r\n}\r\n//gpsLong, gpsLat,\r\n//TIPO DE LA COLUMNA\r\nconst defaultColumn = {\r\n  Cell: EditableCell,\r\n}\r\n\r\nconst Table = ({ columns, data, updateMyData, skipPageReset }) => {\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    prepareRow,\r\n    page,\r\n    canPreviousPage,\r\n    canNextPage,\r\n    pageOptions,\r\n    pageCount,\r\n    gotoPage,\r\n    nextPage,\r\n    previousPage,\r\n    setPageSize,\r\n    state: { pageIndex, pageSize },\r\n  } = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n      defaultColumn,\r\n      autoResetPage: !skipPageReset,\r\n      updateMyData,\r\n    },\r\n    usePagination\r\n  )\r\n\r\n  // Render the UI for your table\r\n  return (\r\n    <>\r\n\r\n \r\n      <table {...getTableProps()}>\r\n        <thead>\r\n          {headerGroups.map(headerGroup => (\r\n            <tr {...headerGroup.getHeaderGroupProps()}>\r\n              {headerGroup.headers.map(column => (\r\n                <th \r\n                  style={{ backgroundColor: 'lightgrey' }} \r\n                  {...column.getHeaderProps()}\r\n                >\r\n                  {column.render('Header')}\r\n                </th>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </thead>\r\n        <tbody {...getTableBodyProps()}>\r\n          {page.map((row, i) => {\r\n            prepareRow(row)\r\n            return (\r\n              <tr {...row.getRowProps()}>\r\n                {row.cells.map(cell => {\r\n                  return <td {...cell.getCellProps()}>{cell.render('Cell')}</td>\r\n                })}\r\n              </tr>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n     {/* Paginacion */}\r\n     <div className=\"pagination\" style={{ justifyContent: 'flex-start', alignItems: 'center' }}>\r\n        <button className='btn btn-dark mr-1' onClick={() => gotoPage(0)} disabled={!canPreviousPage}>\r\n          {'<<'}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => previousPage()} disabled={!canPreviousPage}>\r\n          {'< '}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => nextPage()} disabled={!canNextPage}>\r\n          {' >'}\r\n        </button>{'     '}\r\n        <button className='btn btn-dark mr-1' onClick={() => gotoPage(pageCount - 1)} disabled={!canNextPage}>\r\n          {'>>'}\r\n        </button>{'     '}\r\n        <span>\r\n          Página{'     '}\r\n          <strong>\r\n            {pageIndex + 1} de {pageOptions.length}\r\n          </strong>{' '}\r\n        </span>\r\n        <span>\r\n          | Ir a la Página:{' '}\r\n          <input\r\n            type=\"number\"\r\n            defaultValue={pageIndex + 1}\r\n            onChange={e => {\r\n              const page = e.target.value ? Number(e.target.value) - 1 : 0\r\n              gotoPage(page)\r\n            }}\r\n            style={{ width: '100px', borderWidth: 1, borderColor: 'black' }}\r\n          />\r\n        </span>{' '}\r\n        <select\r\n          style={{ width: 100 }}\r\n          value={pageSize}\r\n          onChange={e => {\r\n            setPageSize(Number(e.target.value))\r\n          }}\r\n        >\r\n          {[10, 20, 30, 40, 50].map(pageSize => (\r\n            <option key={pageSize} value={pageSize}>\r\n              Ver {pageSize}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      {/* Fin de Paginacion */}\r\n\r\n    </>\r\n  )\r\n}\r\n\r\n\r\n// ESTILOS\r\nconst Styles = styled.div`\r\n  padding: 1rem;\r\n  table {\r\n    border-spacing: 0;\r\n    border: 0.5px solid black;\r\n    tr {\r\n      :last-child {\r\n        td {\r\n          border-bottom: 0;\r\n        }\r\n      }\r\n    }\r\n    th,\r\n    td {\r\n      margin: 0;\r\n      padding: 0.2rem;\r\n      border-bottom: 0.5px solid black;\r\n      border-right: 0.5px solid black;\r\n      :last-child {\r\n        border-right: 0;\r\n      }\r\n      input {\r\n        font-size: 1rem;\r\n        padding: 0;\r\n        margin: 0;\r\n        border: 0;\r\n      }\r\n    }\r\n  }\r\n  .pagination {\r\n    padding: 0.2rem;\r\n  }\r\n`","import {  useContext } from \"react\"\r\nimport { Divider } from \"@material-ui/core\"\r\nimport { TextControl } from \"../../components/ui/atom/FormControls\"\r\nimport { SpacerHorizontal } from \"../../components/ui/atom/Spacer\"\r\nimport { MasterDataContext } from \"../../context/MasterDataContext\"\r\nimport { useForm } from \"../../hooks/useForm\"\r\nimport { NavbarLeft } from \"../../components/NavbarLeft\"\r\nimport { TableCargaTipoCaracteristica } from \"../../components/tablas/params/TableTipoCaracteristica\"\r\nimport { TitlePage } from \"../../components/ui/atom/TitlePage\"\r\n\r\nexport const CaracteristicasTiposScreen = () => {\r\n\r\n    const { nombre, onChange  } = useForm({nombre: \"\"})\r\n\r\n    const {crearTipoCaracteristica} = useContext(MasterDataContext)\r\n\r\n    const handleAdd =  (e: any) => {\r\n        e.preventDefault()\r\n        crearTipoCaracteristica({nombre});\r\n    }\r\n\r\n    return (\r\n        <div className=\"flexbox-container\">\r\n            <div className=\"col-md-2\">\r\n                <NavbarLeft />\r\n            </div>            \r\n            <div\r\n                className=\"col-md-4\"\r\n                style={{ height: \"74vh\", overflowY: \"scroll\" }}\r\n            >\r\n                <TitlePage title='Crear Tipo de Característica' />\r\n\r\n                <SpacerHorizontal />\r\n                <Divider />\r\n                <SpacerHorizontal />\r\n                <button \r\n                    className='btn btn-success ml-2' \r\n                    onClick={handleAdd}\r\n                >\r\n                    Guardar\r\n                </button>\r\n                <SpacerHorizontal />\r\n                <TextControl\r\n                    label=\"Nombre\"\r\n                    name='nombre'\r\n                    value={nombre}\r\n                    callBack={(e) => onChange(e, 'nombre')}\r\n                />\r\n             \r\n            </div>\r\n            <div\r\n                className=\"col-md-6\"\r\n                style={{ height: \"74vh\", overflowY: \"scroll\" }}\r\n            >\r\n                <TitlePage title='Lista de Tipos de Características' />\r\n                <SpacerHorizontal />\r\n                <Divider />\r\n                <TableCargaTipoCaracteristica/>              \r\n            </div>            \r\n        </div>\r\n    )\r\n}\r\n\r\n","import { useContext, useEffect } from \"react\";\r\nimport moment from \"moment\";\r\nimport Modal from \"react-modal\";\r\nimport DateTimePicker from \"react-datetime-picker\";\r\n\r\nimport { useForm } from \"../../hooks/useForm\";\r\nimport { AppContext } from \"../../context/AppContext\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { CalendarContext } from '../../context/CalendarContext';\r\nimport { errorSimpleFire, exitoFire, viewErrors } from \"../../components/ui/messagesUI\";\r\nimport { useParams } from \"../../hooks/useParams.\";\r\nimport { ClienteContext } from '../../context/ClienteContext';\r\nimport { MasterDataContext } from '../../context/MasterDataContext';\r\nimport { SelectItem, TextControl, TextControlArea } from \"../../components/ui/atom/FormControls\";\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n    marginRight: \"-50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n  },\r\n};\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\ninterface Form {\r\n    id: string,\r\n    tipo: string;\r\n    title: string;\r\n    start: any;\r\n    end: any;\r\n    notes: string;\r\n    cliente: string;\r\n  }\r\n\r\nexport const CalendarModal = () => {\r\n  const {\r\n    state,\r\n    hideModalLoadingCalendar,\r\n  } = useContext(AppContext);\r\n\r\n  const {\r\n    addEvento, \r\n    editEvento, \r\n    deleteEvento, \r\n    eventoSeleccionado, \r\n    purgaEventoSelecciondo\r\n  } = useContext(CalendarContext)\r\n\r\n  const { user : userContext } = useContext(AuthContext);\r\n  const { clientes } = useContext(ClienteContext);\r\n  const { caracteristricas, caracteristicasTipo } = useContext(MasterDataContext);\r\n  const clienteActivos = clientes.filter(cliente => cliente.estado)\r\n  const tipoCaracteristica = caracteristicasTipo.filter(tipoCaract => tipoCaract.nombre === 'TIP_EVE')\r\n  const tipoEventos = caracteristricas.filter(caracteristica => caracteristica.tipo._id === tipoCaracteristica[0]._id)\r\n  const { tipoEventoDefault } = useParams()\r\n\r\n  const { isLoadingCalendar } = state;\r\n\r\n  const now = new Date()\r\n  const initEvent = {\r\n    id: '',\r\n    tipo: tipoEventoDefault,\r\n    title: '',\r\n    start: now,\r\n    end: now,\r\n    notes: '',\r\n    cliente: '',\r\n  }\r\n\r\n  const { tipo, start, end, notes, title, cliente, onChange, setForm, form } = useForm<Form>(initEvent)\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    \r\n    if (eventoSeleccionado !== null) {\r\n      setForm({\r\n        id : eventoSeleccionado.id,\r\n        tipo : eventoSeleccionado.tipo._id,\r\n        title : eventoSeleccionado.title,\r\n        start: new Date(eventoSeleccionado.start),\r\n        end: new Date(eventoSeleccionado.end),\r\n        notes : eventoSeleccionado.notes,\r\n        cliente : eventoSeleccionado.cliente ? eventoSeleccionado.cliente._id : \"\",\r\n      });\r\n    } else {\r\n      setForm({\r\n        ...initEvent,\r\n      });\r\n    }\r\n  }, [eventoSeleccionado]);\r\n\r\n\r\n\r\n  const enabledButtons = () => {\r\n    if (userContext) {\r\n      if (userContext.rol === \"ADMIN_ROLE\" || userContext.rol === \"SUPER_ADMIN_ROLE\") {\r\n        return false;\r\n      } else {\r\n        if (userContext.uid !== eventoSeleccionado?.user._id) {\r\n          return false;\r\n        } else {\r\n          return true;\r\n        }\r\n      }\r\n    } else {\r\n      return true;\r\n    }\r\n  };\r\n\r\n  const EtiquetaTitulo = () => {\r\n    if (userContext?.rol !== \"ADMIN_ROLE\" && userContext?.rol !== \"SUPER_ADMIN_ROLE\") {\r\n      return \"Evento\";\r\n    } else if (eventoSeleccionado !== null) {\r\n      return \"  Editar evento\";\r\n    } else {\r\n      return \"  Nuevo evento\";\r\n    }\r\n  };\r\n\r\n  const closeModal = () => {\r\n    hideModalLoadingCalendar();\r\n  };\r\n\r\n\r\n  const handleStartDateChange = (e) => {\r\n    setForm({\r\n      ...form,\r\n      start: e,\r\n    });\r\n  };\r\n  const handleEndDateChange = (e) => {\r\n    setForm({\r\n      ...form,\r\n      end: e,\r\n    });\r\n  };\r\n\r\n  const handleSubmitForm = async (e) => {\r\n    e.preventDefault();\r\n    const momentStart = moment(start);\r\n    const momentEnd = moment(end);\r\n    if (momentStart.isSameOrAfter(momentEnd)) {\r\n      return errorSimpleFire(\"Fecha fin debe ser mayor a la fecha de inicio\");\r\n    }\r\n    if (eventoSeleccionado === null) {\r\n      const resp:any = await addEvento(form);\r\n      if (!resp.ok) {\r\n        return viewErrors(resp);\r\n      }\r\n      exitoFire(\"Evento Creado\");\r\n    } else {\r\n      const resp:any = await editEvento(form.id , form);\r\n      if (!resp.ok) {\r\n        return viewErrors(resp);\r\n      }\r\n      exitoFire(\"Evento Actializado\");\r\n    }\r\n    closeModal();\r\n  };\r\n\r\n  const handleDelete = async(e: any) => {\r\n    e.preventDefault();\r\n    const resp:any = await deleteEvento(form.id);\r\n    \r\n    if (!resp.ok) {\r\n      return viewErrors(resp);\r\n    }\r\n    exitoFire(\"Evento Eliminado\");\r\n\r\n    hideModalLoadingCalendar();\r\n    purgaEventoSelecciondo();\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={isLoadingCalendar}\r\n      onRequestClose={closeModal}\r\n      style={customStyles}\r\n      closeTimeoutMS={200}\r\n      className=\"modal\"\r\n      overlayClassName=\"modal-fondo\"\r\n    >\r\n      <div\r\n        style={{ height: \"73vh\", overflowY: \"scroll\", alignItems: \"center\" }}\r\n      >\r\n        <div style={{ backgroundColor: \"#EEEEEE\", borderRadius: 5 }}>\r\n          <h1 className=\"ml-2\">{EtiquetaTitulo()}</h1>\r\n        </div>\r\n        <hr />\r\n        <form className=\"container\" onSubmit={handleSubmitForm}>\r\n\r\n            \r\n            {/* Fechas */}\r\n          <div className=\"form-group\">\r\n            <label>Fecha y hora inicio</label>\r\n            <DateTimePicker\r\n              onChange={handleStartDateChange}\r\n              value={start}\r\n              className=\"form-control\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Fecha y hora fin</label>\r\n            <DateTimePicker\r\n              onChange={handleEndDateChange}\r\n              value={end}\r\n              className=\"form-control\"\r\n            />\r\n          </div>\r\n            {/* Fin de Fechas */}\r\n\r\n\r\n          <hr />\r\n\r\n\r\n          <div className=\"form-group\" style={{display:'flex', alignItems:'center'}}>\r\n              <SelectItem\r\n                label = \"Tipo\"\r\n                name=\"tipo\"\r\n                value = {tipo}\r\n                data={tipoEventos}\r\n                callBack={(e) => onChange(e, \"tipo\")}\r\n              />\r\n                {\r\n                  eventoSeleccionado?.estado === 'Pendiente' \r\n                  ?\r\n                  <div className=\"mt-4 ml-4\">\r\n                    <i className={'fa fa-check-circle fa-2x'} style={{color:'red'}} />\r\n                  </div>\r\n                  : \r\n                  <div className=\"mt-4 ml-4\">\r\n                    {/* <label>{value}</label>  */}\r\n                    <i className={'fa fa-check-circle fa-2x'} style={{color:'green'}}  />\r\n                  </div>              \r\n                }\r\n            </div>\r\n\r\n            \r\n            <div className=\"form-group\">\r\n              <SelectItem \r\n                label = \"Cliente\"\r\n                name=\"cliente\"\r\n                value = {cliente}\r\n                data={clienteActivos}\r\n                callBack={(e) => onChange(e, \"cliente\")}\r\n              />\r\n            </div>\r\n\r\n\r\n          <hr />\r\n          <div className=\"form-group\">\r\n            {/* <label>Titulo y notas</label> */}\r\n            <TextControl \r\n              label=\"Título\"\r\n              name='title'\r\n              value={title}\r\n              callBack={(e) => onChange(e, \"title\")}\r\n            />            \r\n\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n\r\n            <TextControlArea\r\n              label='Notas'\r\n              name=\"notes\"\r\n              value={notes}\r\n              callBack={(e) => onChange(e, \"notes\")}\r\n            />\r\n\r\n\r\n          </div>\r\n          {!enabledButtons() && (\r\n            <div className=\"divjustificadocentro\">\r\n\r\n              <button\r\n                disabled={enabledButtons()}\r\n                type=\"submit\"\r\n                className=\"btn btn-outline-primary btn-block mr-2 mt-lg-1\"\r\n              >\r\n                <i className=\"far fa-save\"></i>\r\n                <span> Guardar</span>\r\n              </button>\r\n              <button\r\n                onClick={handleDelete}\r\n                disabled={enabledButtons()}\r\n                className=\"btn btn-outline-danger btn-block ml-2\"\r\n              >\r\n                <i className=\"far fa-trash-alt\"></i>\r\n                <span> Eliminar</span>\r\n              </button>\r\n            </div>\r\n          )}\r\n        </form>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n","import { useContext } from 'react';\r\nimport { InventarioContext } from '../../context/InventarioContext';\r\nimport { ProductoContext } from '../../context/ProductoContext';\r\nimport { Producto, ProductosTransaccion } from '../../interfaces/interfaces';\r\nimport { BtnTypeEnter, TextControlView } from '../ui/atom/FormControls';\r\n\r\ninterface InventarioDetalleItemProps {\r\n    detalleItem : ProductosTransaccion\r\n}\r\n\r\nexport const InventarioDetalleItemAdd = ({detalleItem} :InventarioDetalleItemProps) => {\r\n    const { productos } = useContext(ProductoContext)\r\n    const { lotes, deleteProductoTransaccion } = useContext(InventarioContext)\r\n    let nombreProducto : string = '';\r\n    let loteDescription : string = '';\r\n\r\n    const productoDB = productos.filter((item) => item._id === detalleItem.producto);\r\n\r\n    if (productoDB.length > 0) {\r\n        nombreProducto = productoDB[0].nombre;\r\n    } else {\r\n        nombreProducto =  \"\";\r\n    }\r\n    \r\n    \r\n    const loteDB = lotes.filter((item) => item._id === detalleItem.lote);\r\n    if (loteDB.length > 0) {\r\n        loteDescription= loteDB[0].lote;\r\n    } else {\r\n        loteDescription= \"\";\r\n    }\r\n\r\n    return (\r\n        <div style={{\r\n            display:'flex', \r\n            flexDirection:'row', \r\n            justifyContent:'space-between', \r\n            alignItems: 'center'}}\r\n        >\r\n            <label style={{ flex: 5, fontSize: 18, }}>{nombreProducto}</label>\r\n            <label style={{ flex: 2, fontSize: 18, }}>{loteDescription}</label>\r\n            <label style={{ flex: 1, fontSize: 18, }}>{detalleItem.cantidad.toString()}</label>\r\n            <BtnTypeEnter\r\n                    label={\"Eliminar\"}\r\n                    callBack={() => deleteProductoTransaccion(detalleItem)}\r\n                    icon=\"fa fa-trash \"\r\n                    color='red'\r\n                    type = 'small'\r\n                />            \r\n       </div>\r\n   )\r\n}","import { useContext, useEffect, useState } from 'react';\r\nimport { SpacerHorizontal } from '../ui/atom/Spacer'\r\nimport { Divider } from '@material-ui/core';\r\nimport { BtnTypeEnter, BtnTypeEnterCallBack, SelectItem, SelectLote, TextControlNum2 } from '../ui/atom/FormControls';\r\nimport { useForm } from '../../hooks/useForm';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport { ProductoContext } from '../../context/ProductoContext';\r\nimport { InventarioContext } from '../../context/InventarioContext';\r\nimport { MessagesContext } from '../../context/MessagesContext';\r\nimport { InventarioDetalleItemAdd } from './InventarioDetalleItemAdd';\r\n\r\ninterface Form {\r\n    producto: string;\r\n    cantidad: number;\r\n  }\r\n\r\n  interface InventarioDetalleAddProps {\r\n    visitador : string\r\n  }\r\n\r\n  \r\nexport const InventarioDetalleAdd = ({visitador} : InventarioDetalleAddProps) => {\r\n\r\n    const initForm = { cantidad: 1, producto: '', lote: '', loteId: '' }\r\n      \r\n\r\n    const {user} = useContext(AuthContext)\r\n    const { registraNotification } = useContext(MessagesContext)\r\n    const {productos} = useContext(ProductoContext)  \r\n    const productosMuestras = productos.filter(producto => producto.original === false)\r\n    const { lotes, productosTransaccion, addProductoTransaccion } = useContext(InventarioContext)\r\n    \r\n    const { cantidad, producto, lote, loteId, onChange: onchangeCantidad, form, setForm: setFormCantidad } =\r\n        useForm(initForm)\r\n\r\n    const lotesSelect = lotes.filter(\r\n        lote => lote.producto._id === producto  && \r\n        user && \r\n        lote.usuario._id === visitador)\r\n\r\n        useEffect(() => {\r\n            setFormCantidad(initForm)\r\n        }, [visitador])\r\n    \r\n    const addDetalle = () => {\r\n        if (!producto || producto.length === 0) {\r\n            return registraNotification({\r\n                type: 'error',\r\n                title: 'Falta información',\r\n                msg: 'Debe seleccionar un producto'\r\n            })\r\n        } else if (!lote || lote.length === 0) {\r\n            return registraNotification({\r\n                type: 'error',\r\n                title: 'Falta información',\r\n                msg: 'Debe seleccionar un lote'\r\n            })\r\n        }\r\n\r\n        const existeProducto = productosTransaccion.filter(item => item.producto === producto && item.lote === lote)\r\n        if (existeProducto.length > 0) {\r\n            return registraNotification({\r\n                type: 'error',\r\n                title: 'Verifique',\r\n                msg: `El Producto, YA EXISTE EN EL DETALLE`,\r\n            })\r\n        }\r\n\r\n        const data = {\r\n            lote,\r\n            loteId,\r\n            producto,\r\n            cantidad,\r\n        }\r\n        addProductoTransaccion(data)\r\n        setFormCantidad(initForm)\r\n    }\r\n\r\n    return (\r\n        <div >\r\n            <div style={{display:'flex', alignItems:'flex-end'}}>\r\n                <SelectItem \r\n                    label = \"Producto\"\r\n                    name=\"producto\"\r\n                    value = {producto}\r\n                    data={productosMuestras}\r\n                    callBack={(e) => onchangeCantidad(e, \"producto\")}\r\n                />\r\n                {\r\n                    producto !== \"\" && (\r\n                        <SelectLote \r\n                            label = \"Lotes Disponibles\"\r\n                            name=\"loteId\"\r\n                            value = {lote}\r\n                            data={lotesSelect}\r\n                            callBack={(e) => onchangeCantidad(e, \"lote\")}\r\n                        />\r\n                    )\r\n                }   \r\n                <TextControlNum2 \r\n                    label=\"Cantidad\"\r\n                    name='cantidad'\r\n                    value={cantidad}\r\n                    callBack={(e) => onchangeCantidad(e, \"cantidad\")}\r\n                />\r\n                <BtnTypeEnterCallBack\r\n                    label={\"Cargar\"}\r\n                    callBack={(e)=>{\r\n                        e.preventDefault()\r\n                        addDetalle()\r\n                    }}\r\n                    icon=\"fa fa-plus\"\r\n                    color='green'\r\n                    type = 'small'\r\n                />                   \r\n                <BtnTypeEnter\r\n                    label={\"Limpiar\"}\r\n                    callBack={() => setFormCantidad(initForm)}\r\n                    icon=\"fa fa-trash \"\r\n                    color='red'\r\n                    type = 'small'\r\n                />\r\n       \r\n            </div>\r\n                                \r\n            <Separacion />\r\n\r\n            <div>\r\n                {\r\n                    productosTransaccion.map(item => (\r\n                        <InventarioDetalleItemAdd\r\n                            detalleItem = {item}\r\n                            key={item.producto + item.lote}\r\n                        />\r\n                    ))\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Separacion  = () => {\r\n    return (\r\n        <div>\r\n            <SpacerHorizontal />\r\n            <Divider />\r\n            <SpacerHorizontal />\r\n        </div>\r\n    )\r\n}","import { Divider } from \"@material-ui/core\"\r\nimport { SpacerHorizontal } from \"../ui/atom/Spacer\"\r\n\r\nexport const Separacion  = () => {\r\n    return (\r\n        <div>\r\n            <SpacerHorizontal />\r\n            <Divider />\r\n            <SpacerHorizontal />\r\n        </div>\r\n    )\r\n}","import { useContext } from 'react';\r\nimport moment from 'moment';\r\nimport { SpacerHorizontal } from '../ui/atom/Spacer'\r\nimport { Divider } from '@material-ui/core';\r\nimport {  SelectVisitador, TextControlArea } from '../ui/atom/FormControls';\r\nimport { AppContext } from '../../context/AppContext';\r\nimport { useForm } from '../../hooks/useForm';\r\nimport { SocketContext } from '../../context/SocketContext';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport { InventarioContext } from '../../context/InventarioContext';\r\nimport { MessagesContext } from '../../context/MessagesContext';\r\nimport { InventarioDetalleAdd } from './InventarioDetalleAdd';\r\nimport { Separacion } from '../miselaneos/Separacion';\r\nimport { useVisitadorPais } from '../../hooks/useVisitadorPais';\r\n\r\ninterface Form {\r\n    notes: string;\r\n    usuario: string;\r\n  }\r\n\r\n  \r\nexport const InventarioAdd = () => {\r\n\r\n    const initForm :Form = {\r\n        notes : '',\r\n        usuario : '',\r\n    }\r\n\r\n    const {showLoteAdd} = useContext(AppContext);\r\n    const {usuarios} = useContext(SocketContext)\r\n    const {user} = useContext(AuthContext)\r\n\r\n    const { productosTransaccion, crearTransaccionEntrada, prugaProductoTransaccion } = useContext(InventarioContext)\r\n    const { registraNotification } = useContext(MessagesContext)\r\n\r\n    const {visitadores} =  useVisitadorPais()\r\n\r\n\r\n    const {notes, usuario, onChange, setForm, form } = useForm<Form>(initForm)\r\n\r\n    // useEffect(() => {\r\n    //     prugaProductoTransaccion()\r\n    // }, [usuario])\r\n\r\n    const handleLoteAdd  = (e) => {\r\n        e.preventDefault()\r\n        showLoteAdd()\r\n    }\r\n\r\n    const handleCreate  = (e) => {\r\n        e.preventDefault();\r\n        saveOrUpdate()\r\n    }\r\n\r\n    const saveOrUpdate = () => {\r\n        \r\n        if (productosTransaccion.length === 0) {\r\n            registraNotification({\r\n                type: 'error',\r\n                title: 'Inventario',\r\n                msg: 'No hay productos por cargar...!'\r\n            })\r\n        }\r\n        \r\n        const dataSend = {\r\n            fecha: moment(),\r\n            signo: 1,\r\n            anotaciones: `Carga ${notes}`,\r\n            usuario: usuario,\r\n            detalle: productosTransaccion\r\n        }\r\n        \r\n        crearTransaccionEntrada(dataSend)\r\n    }\r\n\r\n    \r\n    \r\n    return (\r\n        <div className='flexbox-container'>\r\n            <div\r\n                className='col-md-12'\r\n                style={{ height: '78vh', overflowY: 'scroll' }}\r\n            >\r\n                {/* <form\r\n                    onSubmit={saveOrUpdate}\r\n                > */}\r\n\r\n                    <div className='ml-4'>\r\n                        <button \r\n                            className={`btn-${'green'}-${'mid'} ml-1 mt-1`}\r\n                            onClick={handleCreate}\r\n                        >\r\n                            <span>{\"Guardar\"}</span>\r\n                            <span>\r\n                                <i\r\n                                    className={`${'fa fa-floppy-o'} btn-ico`}\r\n                                />\r\n                            </span>\r\n                        </button>\r\n\r\n                        <button \r\n                            className={`btn-${'yellow'}-${'mid'} ml-1 mt-1`}\r\n                               onClick={handleLoteAdd}  \r\n                        >\r\n                            <span>{\"Crear Lote\"}</span>\r\n                            <span>\r\n                                <i\r\n                                    className={`${'fa fa-file'} btn-ico`}\r\n                                />\r\n                            </span>\r\n                        </button>\r\n\r\n                    </div>\r\n                    <Separacion />\r\n                    <div style={{display:'flex'}}>\r\n                        <TextControlArea\r\n                            label='Anotaciones'\r\n                            name=\"notes\"\r\n                            value={notes}\r\n                            callBack={(e) => onChange(e, \"notes\")}\r\n                        />                \r\n                        <SelectVisitador \r\n                            label='Visitador'\r\n                            name='uid'\r\n                            value={usuario}\r\n                            data={visitadores}\r\n                            callBack={(e) => onChange( e, 'usuario')}\r\n                        />                    \r\n                    </div>\r\n                {/* </form> */}\r\n\r\n\r\n                <Separacion />\r\n                {(usuario !== \"\" && usuario !== \"0\") && (\r\n                    <InventarioDetalleAdd\r\n                        visitador = {usuario}\r\n                    />\r\n                )\r\n            }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import { NavbarLeft } from '../../components/NavbarLeft'\r\nimport { SpacerHorizontal } from '../../components/ui/atom/Spacer'\r\nimport { Divider } from '@material-ui/core';\r\nimport { TitlePage } from '../../components/ui/atom/TitlePage';\r\nimport { InventarioAdd } from '../../components/inventario/InventarioAdd';\r\n    \r\nexport const InventarioAddScreen = () => {\r\n    return (\r\n        <div className='flexbox-container'>\r\n           <div className='col-md-2'>\r\n               <NavbarLeft />\r\n           </div>\r\n    \r\n           <div\r\n               className='col-md-10'\r\n               style={{ height: '88.5vh', overflowY: 'scroll' }}\r\n           >\r\n               <div>\r\n                   <TitlePage title='Carga de Inventario' />\r\n                   <SpacerHorizontal />\r\n                   <Divider />\r\n                   <SpacerHorizontal />\r\n                   <InventarioAdd />\r\n               </div>\r\n           </div>\r\n       </div>\r\n   )\r\n}","import moment from 'moment';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { NavbarLeft } from '../../components/NavbarLeft'\r\nimport { SpacerHorizontal } from '../../components/ui/atom/Spacer'\r\nimport { Divider } from '@material-ui/core';\r\nimport { TitlePage } from '../../components/ui/atom/TitlePage';\r\nimport { useContext } from 'react';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport { SocketContext } from '../../context/SocketContext';\r\nimport { useForm } from '../../hooks/useForm';\r\nimport { BtnTypeEnter, SelectVisitador } from '../../components/ui/atom/FormControls';\r\nimport { InventarioContext } from '../../context/InventarioContext';\r\nimport { TransaccionInv } from '../../interfaces/interfaces';\r\nimport { createModifiersFromModifierFlags } from 'typescript';\r\nimport { useVisitadorPais } from '../../hooks/useVisitadorPais';\r\n    \r\n\r\n//TODO  : Implementar descargar el invetnario en un excel\r\n\r\ninterface Form {\r\n    usuario: string;\r\n    }\r\n\r\nexport const InventarioTransaccionesScreen = () => {\r\n\r\n    const initForm :Form = {\r\n        usuario : '',\r\n    }\r\n   \r\n    const { transacciones, seleccionaTransaccion } = useContext(InventarioContext)\r\n    const {usuarios} = useContext(SocketContext)\r\n    const {user} = useContext(AuthContext)\r\n    const {usuario, onChange, setForm, form } = useForm<Form>(initForm)\r\n\r\n    const {visitadores} =  useVisitadorPais()\r\n        \r\n    const transaccionesVisitador = transacciones.filter((item) => item.usuario._id === usuario)\r\n    const history = useHistory();\r\n\r\n    const handleViewTransaccion  = (transaccion : TransaccionInv) => {\r\n        seleccionaTransaccion(transaccion)\r\n        history.push(\"/home/inventariotransaccion\");\r\n    }\r\n\r\n    return (\r\n        <div className='flexbox-container'>\r\n            <div className='col-md-2'>\r\n                <NavbarLeft />\r\n            </div>\r\n    \r\n            <div\r\n                className='col-md-10'\r\n                style={{ height: '88.5vh', overflowY: 'scroll' }}\r\n            >\r\n                <div>\r\n                    <TitlePage title='Histórico de Transacciones' />\r\n                    <SpacerHorizontal />\r\n                    <Divider />\r\n                    <SpacerHorizontal />\r\n                    <SelectVisitador \r\n                        label='Visitador'\r\n                        name='uid'\r\n                        value={usuario}\r\n                        data={visitadores}\r\n                        callBack={(e) => onChange( e, 'usuario')}\r\n                    />\r\n                    Descargar en excel?     \r\n                    <SpacerHorizontal />\r\n                    <Divider />\r\n                    <SpacerHorizontal />\r\n                    <div\r\n                        style={{\r\n                            display:'flex', \r\n                            flexDirection:'row', \r\n                            justifyContent:'space-between', \r\n                            alignItems: 'center'}}                            \r\n                    >\r\n                        <label style={{ flex: 5, fontSize: 18, }}>\r\n                            Detalle\r\n                        </label>\r\n                        <label style={{ flex: 1, fontSize: 18, }}>\r\n                            Fecha\r\n                        </label>\r\n                        <label style={{ flex: 1, fontSize: 18, }}>\r\n                            Aplicado\r\n                        </label>\r\n                        <label style={{ flex: 1, fontSize: 18, }}>\r\n                            Descargado\r\n                        </label>\r\n                    </div>                   \r\n                    <Divider />\r\n\r\n                    {\r\n                    transaccionesVisitador.map((item, index) => (\r\n                        <div key={index}>\r\n                            <SpacerHorizontal />\r\n                            <div\r\n                                style={{\r\n                                    display:'flex', \r\n                                    flexDirection:'row', \r\n                                    justifyContent:'space-between', \r\n                                    alignItems: 'center'}}                            \r\n                            >\r\n                                <label style={{ flex: 5, fontSize: 18, }}>\r\n                                    {item.anotaciones}\r\n                                </label>\r\n                                <label style={{ flex: 1, fontSize: 18, }}>\r\n                                    {moment(item.fecha).format(\"DD-MM-YYYY\")}\r\n                                </label>\r\n                                <input  \r\n                                    style={{ flex: 1, fontSize: 18, }}\r\n                                    type=\"checkbox\"\r\n                                    id=\"cbox1\" \r\n                                    defaultChecked={item.aplicado}\r\n                                    readOnly={true}\r\n                                />\r\n                                <input  \r\n                                    style={{ flex: 1, fontSize: 18, }} \r\n                                    type=\"checkbox\" \r\n                                    id=\"cbox2\" \r\n                                    defaultChecked={item.descargado}\r\n                                    readOnly={true}\r\n                                />\r\n                                <BtnTypeEnter \r\n                                    label='Ver'\r\n                                    callBack={()=> handleViewTransaccion(item)}\r\n                                    icon=\"fa fa-eye\"\r\n                                    color='orange'\r\n                                    type = 'small'\r\n                                />                                \r\n                            </div>\r\n                            <Divider />                            \r\n                        </div>\r\n                    ))\r\n                }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","\r\ninterface reportsBIProps{\r\n    pais : string,\r\n    tipo : \"kpis\" | \"rutas\",\r\n    report : string,\r\n}\r\n\r\nexport const reportsBI:reportsBIProps[] = [\r\n    {\r\n        pais : \"504\",\r\n        tipo : \"kpis\",\r\n        report : \"https://app.powerbi.com/reportEmbed?reportId=c129bbda-a4b0-46c0-8758-03e947981131&autoAuth=true&ctid=3646a13f-b2c9-4d19-8103-7c37abbcdd92&config=eyJjbHVzdGVyVXJsIjoiaHR0cHM6Ly93YWJpLXBhYXMtMS1zY3VzLXJlZGlyZWN0LmFuYWx5c2lzLndpbmRvd3MubmV0LyJ9\"\r\n    },\r\n    {\r\n        pais : \"506\",\r\n        tipo : \"kpis\",\r\n        report : \"https://app.powerbi.com/reportEmbed?reportId=a5bcba7d-5dfa-4e49-bcc0-af55557f9778&autoAuth=true&ctid=3646a13f-b2c9-4d19-8103-7c37abbcdd92&config=eyJjbHVzdGVyVXJsIjoiaHR0cHM6Ly93YWJpLXBhYXMtMS1zY3VzLXJlZGlyZWN0LmFuYWx5c2lzLndpbmRvd3MubmV0LyJ9\"\r\n    },\r\n    {\r\n        pais : \"507\",\r\n        tipo : \"kpis\",\r\n        report : \"https://app.powerbi.com/reportEmbed?reportId=4a103abe-1641-4a58-95b0-8bbf34b9be9c&autoAuth=true&ctid=3646a13f-b2c9-4d19-8103-7c37abbcdd92&config=eyJjbHVzdGVyVXJsIjoiaHR0cHM6Ly93YWJpLXBhYXMtMS1zY3VzLXJlZGlyZWN0LmFuYWx5c2lzLndpbmRvd3MubmV0LyJ9\"\r\n    },    \r\n]","import { useContext } from 'react';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport { MasterDataContext } from '../../context/MasterDataContext';\r\nimport { Pais } from '../../interfaces/interfaces';\r\nimport { reportsBI } from './reports';\r\n\r\ninterface EnvededReportBIprops {\r\n    tipo : \"kpis\" | \"rutas\"\r\n}\r\n\r\nexport const EnvededReportBIMax = ({tipo}:EnvededReportBIprops) => {\r\n\r\n    const { user } = useContext(AuthContext)\r\n    const { paises } = useContext(MasterDataContext)\r\n    const paisUsuario: Pais[] = paises.filter(pais => pais._id === user?.pais)\r\n    const reporte = reportsBI.filter(report => report.pais === paisUsuario[0].codigo && report.tipo === tipo)\r\n    const mostrarReport =reporte.length > 0 ? reporte[0].report : \"\"\r\n\r\n    return (\r\n            <iframe \r\n                title=\"ODVM V1\" \r\n                width=\"100%\" \r\n                height=\"725\" \r\n                src={mostrarReport}\r\n                allowFullScreen={true}\r\n            >\r\n            </iframe>\r\n    )\r\n}","import { NavbarLeft } from '../../components/NavbarLeft'\r\nimport { SpacerHorizontal } from '../../components/ui/atom/Spacer'\r\nimport { Divider } from '@material-ui/core';\r\nimport { TitlePage } from '../../components/ui/atom/TitlePage';\r\nimport { useHistory } from 'react-router';\r\nimport { BtnTypeEnter } from '../../components/ui/atom/FormControls';\r\nimport { EnvededReportBIMax } from '../bi/EnvededReportBIMax';\r\n    \r\nexport const RutasConsulta = () => {\r\n\r\n    const history = useHistory();\r\n\r\n    const handleMaximize  = () => {\r\n        history.push(\"/home/rutasmax\");\r\n    }\r\n\r\n\r\n    return (\r\n        <div className='flexbox-container'>\r\n            <div className='col-md-2'>\r\n                <NavbarLeft />\r\n            </div>\r\n            <div\r\n                className='col-md-10'\r\n                style={{ height: '88.5vh', overflowY: 'scroll' }}\r\n            >\r\n                <div>\r\n                    <TitlePage title='Consulta de Recorridos' />\r\n                    <div className='ml-4'>\r\n                        <BtnTypeEnter \r\n                            label='Ver +'\r\n                            callBack={handleMaximize}\r\n                            icon=\"fa fa-window-maximize \"\r\n                            color='yellow'\r\n                            type = 'small'\r\n                        />\r\n                    </div>\r\n                    <SpacerHorizontal />\r\n                    <Divider />\r\n                    <SpacerHorizontal />\r\n                    <EnvededReportBIMax tipo ={\"kpis\"} />\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n        )\r\n}","import { Caracteristicas } from \"../../interfaces/interfaces\";\r\nimport { BtnTypeEnterInvert } from \"../ui/atom/FormControls\";\r\n\r\ninterface itemCategoriaProps {\r\n    categoria : Caracteristicas;\r\n    callBack : (categoria : string) => void;\r\n}\r\n\r\nexport const ItemCategoria = ({categoria, callBack} : itemCategoriaProps) => {\r\n    return (\r\n        <div className='mt-2'  style={{display:'flex'}}>\r\n            <BtnTypeEnterInvert \r\n                label={categoria.nombre}\r\n                callBack={() => callBack(categoria._id)}\r\n                icon=\"fa fa-capsules\"\r\n                color='black'\r\n                type = 'large'\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\n","import { SpacerHorizontal } from '../../components/ui/atom/Spacer'\r\nimport { useContext } from 'react';\r\nimport { MasterDataContext } from '../../context/MasterDataContext';\r\nimport { ProductoContext } from '../../context/ProductoContext';\r\nimport { Caracteristicas } from '../../interfaces/interfaces';\r\nimport { ItemCategoria } from './ItemCategoria';\r\n\r\nexport const CategoriasList = () => {\r\n\r\n    const { caracteristricas } = useContext(MasterDataContext)\r\n    const { seleccionaCategoria } = useContext(ProductoContext)\r\n    const items :Caracteristicas[] = caracteristricas.filter(caracteristica => caracteristica.tipo.nombre === 'CAT_PRO')\r\n    \r\n    return (\r\n        <div >\r\n           <div className='col-md-10'>\r\n               <div>\r\n                   <SpacerHorizontal />\r\n                   {\r\n                       items.map(categoria => (\r\n                        <ItemCategoria \r\n                            key={categoria._id} \r\n                            categoria={categoria} \r\n                            callBack = {seleccionaCategoria}\r\n                        />\r\n                       ))\r\n                   }\r\n               </div>\r\n           </div>\r\n       </div>\r\n   )\r\n}\r\n\r\n\r\n\r\n\r\n    ","import { useContext } from 'react';\r\nimport { ProductoContext } from '../../context/ProductoContext';\r\nimport { ProductoItem } from './ProductoItem';\r\n    \r\nexport const ProductosList = () => {\r\n\r\n    const { idcategoriaseleccionada, productos } = useContext(ProductoContext)\r\n    const productosFiltrados = productos.filter(producto => producto.categoria._id === idcategoriaseleccionada \r\n                                                            && producto.original)\r\n    \r\n    return (\r\n        <div\r\n            className='col-md-10'\r\n            style={{ height: '78vh', overflowY: 'scroll' }}\r\n            >\r\n                {\r\n                    productosFiltrados.map(producto => (\r\n                        <ProductoItem key={producto._id} producto ={producto}/>\r\n                    ))\r\n                }\r\n        </div>\r\n    )\r\n}","import { NavbarLeft } from '../../components/NavbarLeft'\r\nimport { SpacerHorizontal } from '../../components/ui/atom/Spacer'\r\nimport { Divider } from '@material-ui/core';\r\nimport { TitlePage } from '../../components/ui/atom/TitlePage'\r\nimport { CategoriasList } from '../../components/productos/CategoriasList';\r\nimport { ProductosList } from '../../components/productos/ProductosList';\r\n    \r\nexport const VadeScreen = () => {\r\n    return (\r\n        <div className='flexbox-container'>\r\n           <div className='col-md-2'>\r\n               <NavbarLeft />\r\n           </div>\r\n    \r\n           <div\r\n               className='col-md-10'\r\n               style={{ height: '88.5vh', overflowY: 'scroll' }}\r\n           >\r\n               <div >\r\n                   <TitlePage title='Vademecum' />\r\n                   <SpacerHorizontal />\r\n                   <Divider />\r\n                   <SpacerHorizontal />\r\n                   <div style={{display:'flex', flexDirection:'row' }}>\r\n                        <CategoriasList/>\r\n                        <ProductosList />\r\n                   </div>\r\n               </div>\r\n           </div>\r\n       </div>\r\n   )\r\n}","import { useContext } from 'react';\r\nimport { NavbarLeft } from '../../components/NavbarLeft'\r\nimport { SpacerHorizontal } from '../../components/ui/atom/Spacer'\r\nimport { Divider } from '@material-ui/core';\r\nimport { TitlePage } from '../../components/ui/atom/TitlePage'\r\nimport { InventarioContext } from '../../context/InventarioContext';\r\nimport { SelectVisitador } from '../../components/ui/atom/FormControls';\r\nimport { useForm } from '../../hooks/useForm';\r\nimport { SocketContext } from '../../context/SocketContext';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport moment from 'moment';\r\nimport { useVisitadorPais } from '../../hooks/useVisitadorPais';\r\n    \r\n\r\n//TODO  : Implementar descargar el invetnario en un excel\r\n\r\ninterface Form {\r\n    usuario: string;\r\n    }\r\n\r\nexport const InventarioSaldosScreen = () => {\r\n\r\n    const initForm :Form = {\r\n        usuario : '',\r\n    }\r\n\r\n    const { productoSaldoMM } = useContext(InventarioContext)\r\n    const {usuarios} = useContext(SocketContext)\r\n    const {user} = useContext(AuthContext)\r\n    const {usuario, onChange, setForm, form } = useForm<Form>(initForm)\r\n\r\n    const {visitadores} =  useVisitadorPais()\r\n    const saldosProductos = productoSaldoMM.filter((item) => item.usuarioPropietario === usuario)\r\n\r\n    return (\r\n        <div className='flexbox-container'>\r\n            <div className='col-md-2'>\r\n                <NavbarLeft />\r\n            </div>\r\n    \r\n            <div\r\n                className='col-md-10'\r\n                style={{ height: '88.5vh', overflowY: 'scroll' }}\r\n            >\r\n                <div>\r\n                    <TitlePage title='Saldos de Inventario' />\r\n                    <SpacerHorizontal />\r\n                    <Divider />\r\n                    <SpacerHorizontal />\r\n                    <SelectVisitador \r\n                        label='Visitador'\r\n                        name='uid'\r\n                        value={usuario}\r\n                        data={visitadores}\r\n                        callBack={(e) => onChange( e, 'usuario')}\r\n                    />\r\n                    Descargar en excel?\r\n                    <SpacerHorizontal />\r\n                    <Divider />\r\n                    <SpacerHorizontal />\r\n                    <div\r\n                        style={{\r\n                            display:'flex', \r\n                            flexDirection:'row', \r\n                            justifyContent:'space-between', \r\n                            alignItems: 'center'}}                            \r\n                    >\r\n                        <label style={{ flex: 1, fontSize: 18, }}>Código</label>\r\n                        <label style={{ flex: 5, fontSize: 18, }}>Nombre</label>\r\n                        <label style={{ flex: 1, fontSize: 18, }}>Lote</label>\r\n                        <label style={{ flex: 1, fontSize: 18, }}>Vence</label>\r\n                        <label style={{ flex: 1, fontSize: 18, }}>Saldo</label>\r\n                    </div>                   \r\n                    <Divider />\r\n                {\r\n                    saldosProductos.map((item, index) => (\r\n                        <div key={index}>\r\n                            <SpacerHorizontal />\r\n                            <div\r\n                                style={{\r\n                                    display:'flex', \r\n                                    flexDirection:'row', \r\n                                    justifyContent:'space-between', \r\n                                    alignItems: 'center'}}                            \r\n                            >\r\n                                <label style={{ flex: 1, fontSize: 18, }}>{item.codigo}</label>\r\n                                <label style={{ flex: 5, fontSize: 18, }}>{item.nombre}</label>\r\n                                <label style={{ flex: 1, fontSize: 18, }}>{item.lote}</label>\r\n                                <label style={{ flex: 1, fontSize: 18, }}>{moment(item.vence).format(\"MM-YY\")}</label>\r\n                                <label style={{ flex: 1, fontSize: 18, }}>{item.saldo}</label>\r\n                            </div>\r\n                            <Divider />                            \r\n                        </div>\r\n                    ))\r\n                }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { useMap } from '../../hooks/useMap';\r\nimport { MapStyleControlSelect } from '../ui/atom/FormControls';\r\nimport { useContext } from 'react';\r\nimport { ClienteContext } from '../../context/ClienteContext';\r\n\r\nexport const MapContainer = () => {\r\n\r\n    const {mapPointers} = useContext(ClienteContext)\r\n\r\n    const {handleSelectStyle, styleMap, setRef} = useMap(mapPointers)\r\n\r\n    return (\r\n        <div className='mapContainer'>\r\n            <MapStyleControlSelect \r\n                label = 'Capa'\r\n                value = {styleMap}\r\n                name = 'styleMap'\r\n                callBack={(e) => handleSelectStyle(e)}\r\n            />\r\n            <div \r\n                className='mapContainer'\r\n                ref = {setRef}\r\n            />\r\n       </div>\r\n   )\r\n}","import { NavbarLeft } from '../../components/NavbarLeft'\r\nimport { SpacerHorizontal } from '../../components/ui/atom/Spacer'\r\nimport { Divider } from '@material-ui/core';\r\nimport { TitlePage } from '../../components/ui/atom/TitlePage'\r\nimport { useContext, useEffect } from 'react';\r\nimport { ClienteContext } from '../../context/ClienteContext';\r\nimport { ImgPerfil } from '../../components/ui/atom/ImgPortada';\r\nimport { MapContainer } from '../../components/mapa/MapContainer';\r\nimport { MapPointer } from '../../interfaces/interfaces';\r\n    \r\nexport const ClienteScreen = () => {\r\n\r\n    const {clienteSeleccionado, cargaMapPointers} = useContext(ClienteContext)\r\n\r\n    useEffect(() => {\r\n        if (!clienteSeleccionado) {return}\r\n        const data : MapPointer[] = [{\r\n            lng: gpsLong,\r\n            lat: gpsLat,\r\n            id: _id,\r\n            name: nombre,\r\n            description: direccion,\r\n            especialidad : especialidad.nombre,\r\n        }]\r\n        cargaMapPointers(data)\r\n    }, [clienteSeleccionado])\r\n\r\n\r\n    if (!clienteSeleccionado) {return null}\r\n\r\n    const {nombre,\r\n            telefono1,\r\n            telefono2,\r\n            email,\r\n            especialidad,\r\n            grupocliente,\r\n            causabaja,\r\n            provincia,\r\n            canton,\r\n            distrito,\r\n            barrio,\r\n            direccion,\r\n            colegiado,\r\n            secretaria,\r\n            diasvisita,\r\n            horavisita,\r\n            observaciones,\r\n            images,\r\n            gpsLong,\r\n            gpsLat,\r\n            _id\r\n\r\n    } = clienteSeleccionado\r\n\r\n\r\n\r\n    return (\r\n        <div className='flexbox-container'>\r\n           <div className='col-md-2'>\r\n               <NavbarLeft />\r\n           </div>\r\n    \r\n           <div\r\n               className='col-md-10'\r\n               style={{ height: '88.5vh', overflowY: 'scroll' }}\r\n           >\r\n               <div>\r\n                   <TitlePage title='Ficha del Cliente' />\r\n                   <SpacerHorizontal />\r\n                   <Divider />\r\n                   <SpacerHorizontal />\r\n               </div>\r\n               <div style={{display :'flex', flexDirection:'column'}}>\r\n                <TitlePage title={nombre} />\r\n                <Divider />\r\n\r\n                <label>Especialidad: {especialidad.nombre}</label>\r\n                <label>Grupo: {grupocliente.nombre}</label>\r\n                <label>Estado: {causabaja.nombre}</label>\r\n                <Divider />\r\n\r\n                <label>Provincia: {provincia.nombre}</label>\r\n                <label>Cantón: {canton.nombre}</label>\r\n                <label>Distrito: {distrito.nombre}</label>\r\n                <label>Barrio: {barrio.nombre}</label>\r\n                <label>Dirección: {direccion}</label>\r\n                <Divider />\r\n\r\n                <label>Teléfono 1: {telefono1}</label>\r\n                <label>Teléfono 2: {telefono2}</label>\r\n                <label>Email: {email}</label>\r\n                <Divider />\r\n\r\n                <label>Colegiado: {colegiado}</label>\r\n                <label>Secretaria: {secretaria}</label>\r\n                <label>Días Visita: {diasvisita}</label>\r\n                <label>Hora Visita: {horavisita}</label>\r\n                <Divider />\r\n\r\n                <label>Obsrevaciones: {observaciones}</label>\r\n                <Divider />\r\n                <SpacerHorizontal />\r\n\r\n                <ImgPerfil img={images} />\r\n                <SpacerHorizontal />\r\n                <Divider />                \r\n                <SpacerHorizontal />\r\n\r\n                <MapContainer />\r\n                <SpacerHorizontal />\r\n\r\n               </div>\r\n           </div>\r\n       </div>\r\n   )\r\n}","import { useMap } from '../../hooks/useMap';\r\nimport { MapStyleControlSelect } from '../ui/atom/FormControls';\r\nimport { MapPointer } from '../../interfaces/interfaces';\r\n\r\ninterface MapVisitaContainerProps {\r\n    mapPointers : MapPointer[]\r\n}\r\n\r\nexport const MapVisitaContainer = ({mapPointers} : MapVisitaContainerProps ) => {\r\n\r\n\r\n    const {handleSelectStyle, styleMap, setRef} = useMap(mapPointers)\r\n\r\n    return (\r\n        <div className='mapContainer'>\r\n            <MapStyleControlSelect \r\n                label = 'Capa'\r\n                value = {styleMap}\r\n                name = 'styleMap'\r\n                callBack={(e) => handleSelectStyle(e)}\r\n            />\r\n            <div \r\n                className='mapContainer'\r\n                ref = {setRef}\r\n            />\r\n       </div>\r\n   )\r\n}","import { SpacerHorizontal } from '../../components/ui/atom/Spacer'\r\nimport { Divider } from '@material-ui/core';\r\nimport { TitlePage } from '../../components/ui/atom/TitlePage'\r\nimport { useContext } from 'react';\r\nimport { InventarioContext } from '../../context/InventarioContext';\r\nimport moment from 'moment';\r\n\r\ninterface TransaccionScreenProps {\r\n    idVisita : string\r\n}\r\n    \r\nexport const TransaccionScreen = ({idVisita} :TransaccionScreenProps) => {\r\n\r\n    const {transacciones, lotes} = useContext(InventarioContext)\r\n    const transaccion = transacciones.filter((item) => item.visita === idVisita)\r\n\r\n    const loteDesc  = (uid: string) => {\r\n        const lote = lotes.filter((lote) => uid === lote._id);\r\n        if (lote.length > 0) {\r\n            return lote[0].lote;\r\n        } else {\r\n            return \"\";\r\n        }        \r\n    }\r\n   \r\n    return (\r\n            <div>\r\n                <TitlePage title='Entrega de Muestras' />\r\n                <SpacerHorizontal />\r\n                <Divider />\r\n                <SpacerHorizontal />\r\n                {transaccion.map(item => (\r\n                    <div style={{ display: 'flex', flexDirection:'column' }} key={item._id}>\r\n                        <span>{`Fecha: ${ moment( item.fecha).format(\"DD-MM-YYYY | HH:MM\")}`}</span>\r\n                        <br/>\r\n                        <span>{item.anotaciones}</span>\r\n                        <br/>\r\n                        <span>{`Visitador: ${item.usuario.nombre}`}</span>\r\n                        <br/>\r\n                        <br/>\r\n                        <div className='col-md-10' style={{display:'flex', justifyContent:'space-between'}}>\r\n                            <span className='col-md-8'> Producto </span>\r\n                            <span style={{textAlign:'center'}} className='col-md-2'> Cantidad </span>\r\n                            <span style={{textAlign:'center'}} className='col-md-2'> Lote </span>\r\n                        </div>\r\n                        <Divider />\r\n                        {\r\n                            item.detalle.map(det => (\r\n                                <div key={det._id} className='col-md-10' style={{display:'flex', justifyContent:'space-between'}}>\r\n                                    <span className='col-md-8'> {det.producto.nombre} </span>\r\n                                    <span style={{textAlign:'center'}} className='col-md-2'> {det.cantidad} </span>\r\n                                    <span style={{textAlign:'center'}} className='col-md-2'> { loteDesc(det.lote._id)} </span>\r\n                                </div>\r\n                            ))\r\n                        }\r\n                        <Divider />\r\n                    </div>\r\n                ))}\r\n                <SpacerHorizontal />\r\n            </div>\r\n        \r\n   )\r\n}","import moment from 'moment';\r\nimport { NavbarLeft } from '../../components/NavbarLeft'\r\nimport { SpacerHorizontal } from '../../components/ui/atom/Spacer'\r\nimport { Divider } from '@material-ui/core';\r\nimport { TitlePage } from '../../components/ui/atom/TitlePage'\r\nimport { useContext } from 'react';\r\nimport { VisitaContext } from '../../context/VisitaContext';\r\nimport { TextControl, TextControlArea } from '../../components/ui/atom/FormControls';\r\nimport { MapVisitaContainer } from '../../components/visitas/MapVisitaContainer';\r\nimport { MapPointer } from '../../interfaces/interfaces';\r\nimport { TransaccionScreen } from '../../components/inventario/TransaccionScreen';\r\n    \r\nexport const VisitaScreen = () => {\r\n\r\n    const {visitasFilter, visitasIndexFilter} = useContext(VisitaContext)\r\n\r\n\r\n    if (visitasIndexFilter == null) {\r\n        return (\r\n            <h1>Sin Datos</h1>\r\n        )\r\n    }\r\n\r\n    const {cliente, fecha, tipo, novisita, alerta, anotaciones, gpsLong, gpsLat, _id} = visitasFilter[visitasIndexFilter];\r\n    const fechaVisita = moment(fecha).format(\"DD-MM-YYYY | HH:MM\")\r\n    const mapPointers : MapPointer = {\r\n        description : anotaciones,\r\n        especialidad : '',\r\n        id : _id,\r\n        lat : gpsLong,\r\n        lng : gpsLat,\r\n        name: cliente.nombre\r\n    }\r\n    return (\r\n        <div className='flexbox-container'>\r\n           <div className='col-md-2'>\r\n               <NavbarLeft />\r\n           </div>\r\n    \r\n           <div\r\n               className='col-md-10'\r\n               style={{ height: '88.5vh', overflowY: 'scroll' }}\r\n           >\r\n               <div>\r\n                   <TitlePage title='Visita' />\r\n                   <SpacerHorizontal />\r\n                   <Divider />\r\n                   <SpacerHorizontal />\r\n\r\n                    <div style={{display: 'flex', flexDirection:'column'}}>\r\n                        <h2>{cliente.nombre}</h2>\r\n                        <hr/>\r\n                        <span>{`Fecha: ${fechaVisita}`}</span>\r\n                        <br/>\r\n                        <span>{`Tipo: ${tipo.nombre}`}</span>\r\n                        <br/>\r\n                        <span>{`Estatus: ${novisita.nombre}`}</span>\r\n                        <br/>\r\n                        <span>{`Alerta: ${alerta.nombre}`}</span>\r\n                        <br/>\r\n                        <TextControlArea label='Observaciones' name='obervaciones' value={anotaciones} callBack={() =>{}} />\r\n                        <br/>\r\n\r\n\r\n                    <TitlePage title='Localiación del Registro' />\r\n                    <br/>\r\n                    <MapVisitaContainer \r\n                        mapPointers = {[mapPointers]}\r\n                    />\r\n                    <br/>\r\n                    <br/>\r\n                    <br/>\r\n                    \r\n                    <TransaccionScreen idVisita={_id} />\r\n                    </div>\r\n\r\n               </div>\r\n           </div>\r\n       </div>\r\n   )\r\n}","import { useContext } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport DateTimePicker from \"react-datetime-picker\";\r\n\r\nimport { useForm } from \"../../hooks/useForm\";\r\nimport { AppContext } from \"../../context/AppContext\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { errorSimpleFire, exitoFire, viewErrors } from \"../ui/messagesUI\";\r\nimport { SelectItem, SelectVisitador, TextControl } from \"../ui/atom/FormControls\";\r\nimport { SocketContext } from \"../../context/SocketContext\";\r\nimport { ProductoContext } from '../../context/ProductoContext';\r\nimport { InventarioContext } from '../../context/InventarioContext';\r\nimport { LoteAddData } from \"../../interfaces/interfaces\";\r\nimport { useVisitadorPais } from \"../../hooks/useVisitadorPais\";\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n    marginRight: \"-50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n  },\r\n};\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nexport const LoteModal = () => {\r\n  const {\r\n    state,\r\n    hideLoteAdd,\r\n  } = useContext(AppContext);\r\n  \r\n  const { isLoadingLoteAdd } = state;\r\n\r\n  const {usuarios} = useContext(SocketContext)\r\n  const {user} = useContext(AuthContext)\r\n\r\n  const {productos} = useContext(ProductoContext)  \r\n  const productosMuestras = productos.filter(producto => producto.original === false)\r\n\r\n  const {addLote, cargaDataInventario} = useContext(InventarioContext)  \r\n  const {visitadores} =  useVisitadorPais()\r\n\r\n\r\n  // const now = new Date();\r\n  \r\n  const initLote :LoteAddData = {\r\n    usuariopropietario: '',\r\n    lote: '',\r\n    producto: '',\r\n    lotevence: '',\r\n    original: false,\r\n    saldo : 0,\r\n  }\r\n\r\n  const {usuariopropietario, lote, lotevence, producto, onChange, setForm, form } = useForm<LoteAddData>(initLote)\r\n\r\n  const closeModal = () => {\r\n    hideLoteAdd();\r\n  };\r\n\r\n\r\n  const handleStartDateChange = (e) => {\r\n    setForm({\r\n      ...form,\r\n      lotevence: e,\r\n    });\r\n  };\r\n\r\n  const handleSubmitForm = async (e) => {\r\n    e.preventDefault();\r\n\r\n      if(!lote || lote ==='') {\r\n        return errorSimpleFire('El lote es requerido')\r\n      }\r\n      if(!usuariopropietario || usuariopropietario ==='') {\r\n        return errorSimpleFire('El Visitador es requerido')\r\n      }\r\n      if(!producto || producto ==='') {\r\n        return errorSimpleFire('El Producto es requerido')\r\n      }\r\n      if(!lotevence || lotevence ==='') {\r\n        return errorSimpleFire('La fecha de Vencimiento es requerida')\r\n      }\r\n      const resp:any = await addLote(form);\r\n      if (!resp.ok) {\r\n        return viewErrors(resp);\r\n      }\r\n\r\n      exitoFire(\"Lote creado con éxito\");\r\n      setForm(initLote)\r\n      cargaDataInventario()\r\n      closeModal();\r\n  };\r\n\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={isLoadingLoteAdd}\r\n      onRequestClose={closeModal}\r\n      style={customStyles}\r\n      closeTimeoutMS={200}\r\n      className=\"modal\"\r\n      overlayClassName=\"modal-fondo\"\r\n    >\r\n      <div\r\n        style={{ height: \"73vh\", overflowY: \"scroll\", alignItems: \"center\" }}\r\n      >\r\n        <div style={{ backgroundColor: \"#EEEEEE\", borderRadius: 5 }}>\r\n          <h1 className=\"ml-2\">Crear Lote</h1>\r\n        </div>\r\n        <hr />\r\n        <form className=\"container\" onSubmit={handleSubmitForm}>\r\n\r\n          <TextControl \r\n            label=\"Lote\"\r\n            name='lote'\r\n            value={lote}\r\n            callBack={(e) => onChange(e, \"lote\")}\r\n          />  \r\n\r\n          <hr/>          \r\n\r\n          <div className=\"form-group\" style={{display:'flex', alignItems:'center'}}>\r\n            <SelectVisitador \r\n                label='Visitador'\r\n                name='uid'\r\n                value={usuariopropietario}\r\n                data={visitadores}\r\n                callBack={(e) => onChange( e, 'usuariopropietario')}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <SelectItem \r\n              label = \"Producto\"\r\n              name=\"producto\"\r\n              value = {producto}\r\n              data={productosMuestras}\r\n              callBack={(e) => onChange(e, \"producto\")}\r\n            />\r\n          </div>\r\n\r\n          \r\n\r\n            <div className=\"form-group\">\r\n              <label>Vencimiento</label>\r\n              <DateTimePicker\r\n                onChange={handleStartDateChange}\r\n                value={lotevence}\r\n                className=\"form-control\"\r\n                format=\"dd/MM/yyyy\"\r\n              />\r\n          </div>\r\n\r\n          <hr />\r\n\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn btn-outline-primary btn-block mr-2 mt-lg-1\"\r\n          >\r\n            <i className=\"far fa-save\"></i>\r\n            <span> Guardar</span>\r\n          </button>\r\n        </form>\r\n        \r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n","import { useContext } from 'react';\r\nimport { InventarioContext } from '../../context/InventarioContext';\r\nimport { ProductoContext } from '../../context/ProductoContext';\r\nimport { Detalle, ProductosTransaccion } from '../../interfaces/interfaces';\r\n\r\ninterface InventarioDetalleItemProps {\r\n    detalleItem : Detalle\r\n}\r\n\r\nexport const InventarioDetalleItem = ({detalleItem} :InventarioDetalleItemProps) => {\r\n    const { productos } = useContext(ProductoContext)\r\n    const { lotes } = useContext(InventarioContext)\r\n    let nombreProducto : string = '';\r\n    let loteDescription : string = '';\r\n\r\n    const productoDB = productos.filter((item) => item._id === detalleItem.producto._id);\r\n\r\n    if (productoDB.length > 0) {\r\n        nombreProducto = productoDB[0].nombre;\r\n    } else {\r\n        nombreProducto =  \"\";\r\n    }\r\n    \r\n    \r\n    const loteDB = lotes.filter((item) => item._id === detalleItem.lote._id);\r\n    if (loteDB.length > 0) {\r\n        loteDescription= loteDB[0].lote;\r\n    } else {\r\n        loteDescription= \"\";\r\n    }\r\n\r\n    return (\r\n        <div style={{\r\n            display:'flex', \r\n            flexDirection:'row', \r\n            justifyContent:'space-between', \r\n            alignItems: 'center'}}\r\n        >\r\n            <label style={{ flex: 5, fontSize: 18, }}>{nombreProducto}</label>\r\n            <label style={{ flex: 2, fontSize: 18, }}>{loteDescription}</label>\r\n            <label style={{ flex: 1, fontSize: 18, }}>{detalleItem.cantidad.toString()}</label>          \r\n        </div>\r\n    )\r\n}","import { NavbarLeft } from '../../components/NavbarLeft'\r\nimport { SpacerHorizontal } from '../../components/ui/atom/Spacer'\r\nimport { Divider } from '@material-ui/core';\r\nimport { TitlePage } from '../../components/ui/atom/TitlePage'\r\nimport { useContext } from 'react';\r\nimport { InventarioContext } from '../../context/InventarioContext';\r\nimport { TextControlView } from '../../components/ui/atom/FormControls';\r\nimport moment from 'moment';\r\nimport { InventarioDetalleItem } from '../../components/inventario/InventarioDetalleItem';\r\nimport { Separacion } from '../../components/miselaneos/Separacion';\r\n    \r\nexport const InventarioTransaccionScreen = () => {\r\n\r\nconst {transaccionSeleccionada} = useContext(InventarioContext)\r\n\r\n    if(!transaccionSeleccionada){ return <text>Cargando</text>}\r\n\r\n    const { signo, anotaciones, aplicado, fecha, usuario, detalle, visita } = transaccionSeleccionada\r\n\r\n    const titulo = signo === 1 ? 'Transacción de Entrada' : 'Transacción de Salida'\r\n\r\n    \r\n\r\n    return (\r\n        <div className='flexbox-container'>\r\n            <div className='col-md-2'>\r\n                <NavbarLeft />\r\n            </div>\r\n\r\n            <div\r\n                className='col-md-10'\r\n                style={{ height: '88.5vh', overflowY: 'scroll' }}\r\n            >\r\n                <div>\r\n                    <TitlePage title={titulo} />\r\n                    <SpacerHorizontal />\r\n                    <Divider />\r\n                    <SpacerHorizontal />\r\n                    <TextControlView \r\n                        label = {'Fecha: '}\r\n                        value = {moment(transaccionSeleccionada.fecha).format('DD-MM-YYYY | HH:MM a')}\r\n                    />\r\n                    <TextControlView \r\n                        label = {'Anotaciones: '}\r\n                        value = {transaccionSeleccionada.anotaciones}\r\n                    />\r\n                    <TextControlView \r\n                        label = {'Visitador: '}\r\n                        value = {transaccionSeleccionada.usuario.nombre}\r\n                    />\r\n                    <TextControlView \r\n                        label = {'Aplicada: '}\r\n                        value = {transaccionSeleccionada.aplicado ? 'Si' : 'No'}\r\n                    />                    \r\n                    <TextControlView \r\n                        label = {'Descargada: '}\r\n                        value = {transaccionSeleccionada.descargado ? 'Si' : 'No'}\r\n                    />                                                          \r\n                </div>\r\n                <h3>Detalle</h3>\r\n                <Separacion />\r\n\r\n                <div>\r\n                <div style={{\r\n                    display:'flex', \r\n                    flexDirection:'row', \r\n                    justifyContent:'space-between', \r\n                    alignItems: 'center'}}\r\n                >\r\n                    <label style={{ flex: 5, fontSize: 18, }}>Producto</label>\r\n                    <label style={{ flex: 2, fontSize: 18, }}>Lote</label>\r\n                    <label style={{ flex: 1, fontSize: 18, }}>Cantidad</label>          \r\n                </div>\r\n                <Separacion />\r\n                    {\r\n                        detalle.map(item => (\r\n                            <div key={item.producto._id + item.lote}>\r\n                                <InventarioDetalleItem\r\n                                    detalleItem = {item}\r\n                                />\r\n                            <Divider />\r\n                            </div>\r\n                        ))\r\n                    }\r\n                </div>                \r\n            </div>\r\n        </div>\r\n    )\r\n}","import { useContext } from 'react';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport { MasterDataContext } from '../../context/MasterDataContext';\r\nimport { Pais } from '../../interfaces/interfaces';\r\nimport { reportsBI } from './reports';\r\n\r\ninterface EnvededReportBIprops {\r\n    tipo : \"kpis\" | \"rutas\"\r\n}\r\n\r\nexport const EnvededReportBI = ({tipo}:EnvededReportBIprops) => {\r\n\r\n    const { user } = useContext(AuthContext)\r\n    const { paises } = useContext(MasterDataContext)\r\n    const paisUsuario: Pais[] = paises.filter(pais => pais._id === user?.pais)\r\n    const reporte = reportsBI.filter(report => report.pais === paisUsuario[0].codigo && report.tipo === tipo)\r\n    const mostrarReport =reporte.length > 0 ? reporte[0].report : \"\"\r\n\r\n    return (\r\n        <div className='flexbox-container'>\r\n            <iframe \r\n                title=\"ODVM V1\" \r\n                width=\"100%\" \r\n                height=\"800\" \r\n                src={mostrarReport}\r\n                allowFullScreen={true}\r\n            >\r\n            </iframe>\r\n        </div>\r\n    )\r\n}","import { useHistory } from 'react-router';\r\nimport { EnvededReportBI } from './EnvededReportBI';\r\nimport { BtnTypeEnter } from '../../components/ui/atom/FormControls';\r\n\r\n//route de la pantalla: /home/rutasmax\r\n\r\nexport const MaximizeReportBI = () => {\r\n\r\n    const history = useHistory();\r\n    const handleMaximize  = () => {\r\n        history.goBack();\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className='ml-4'>\r\n                <BtnTypeEnter \r\n                    label='Volver'\r\n                    callBack={handleMaximize}\r\n                    icon=\"fa fa-window-restore \"\r\n                    color='yellow'\r\n                    type = 'small'\r\n                />            \r\n            </div>\r\n            <EnvededReportBI tipo ={\"kpis\"} />\r\n        </div>\r\n    )\r\n}","import { useContext } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport { AppContext } from \"../../../context/AppContext\";\r\nimport \"../../../css/modal.css\";\r\n\r\nimport { Spiner } from \"./Spiner\";\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n  },\r\n};\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nexport const ProcesingModal = () => {\r\n  const { state } = useContext(AppContext);\r\n  \r\n  return (\r\n    <Modal\r\n      isOpen={state.isLoadingProcesing}\r\n      style={customStyles}\r\n      closeTimeoutMS={200}\r\n      className=\"modal-spiner\"\r\n      overlayClassName=\"modal-fondo\"\r\n    >\r\n      <div\r\n        style={{\r\n          alignItems: \"center\",\r\n          flexDirection: \"column\",\r\n          display: \"flex\",\r\n        }}\r\n      >\r\n        <label style={{ color: \"#4285F4\", marginBottom:40 }}>Procesando</label>\r\n        <Spiner />\r\n        <span style={{color: \"#4285F4\", marginTop:10 }}>No interrumpa el proceso</span>\r\n        <span  style={{color: \"#4285F4\" }}>Por favor espere...!</span>\r\n\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n","import { useContext } from \"react\";\r\nimport { Redirect, Route, Switch } from \"react-router-dom\";\r\nimport { NavbarMain } from '../components/NavbarMain';\r\nimport { SpinerModal } from \"../components/ui/atom/SpinerModal\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { CalendarioPortada } from '../pages/calendario/CalendarioPortada';\r\n\r\nimport {\r\n  PrincipalPage,\r\n  PerfilPage,\r\n  CalendarioScreen,\r\n  AdminScreen,\r\n  ClientesScreen,\r\n  RutasScreen,\r\n  UsuariosScreen,\r\n  VademecumScreen,\r\n  VisitasScreen,\r\n  InventarioScreen,\r\n  UsuariosAddScreen,\r\n  GeoScreen,\r\n  ParamsScreen,\r\n  CaracteristicasScreen,\r\n  CalendarioAgendas,\r\n  CalendarioEventos,\r\n  ClientesActivosScreen,\r\n  ClientesInactivosScreen,\r\n  ClientesMapeoScreen,\r\n  VisitasHistoricoScreen,\r\n  VademecumAllScreen,\r\n  CaracteristicasTiposScreen,\r\n  CalendarModal,\r\n  InventarioTransaccionesScreen,\r\n  InventarioAddScreen,\r\n  RutasConsulta,\r\n  VadeScreen,\r\n  InventarioSaldosScreen,\r\n  ClienteScreen,\r\n  VisitaScreen,\r\n  LoteModal,\r\n  InventarioTransaccionScreen,\r\n  MaximizeReportBI\r\n} from \"../pages\";\r\nimport { ProcesingModal } from \"../components/ui/atom/ProcesingModal\";\r\n\r\nexport const DashboardRoutes = () => {\r\n  const { user } = useContext(AuthContext)\r\n  return (\r\n    <>\r\n      <SpinerModal />\r\n      <ProcesingModal />\r\n      <CalendarModal />\r\n      <LoteModal />\r\n      <NavbarMain />\r\n      \r\n      <div>\r\n        <Switch>\r\n          {/* Rutas protegidas para Admnistracion */}\r\n          {(user?.rol === \"SUPER_ADMIN_ROLE\" || user?.rol === \"ADMIN_ROLE\") && (\r\n            <Route exact path=\"/home/admin\" component={AdminScreen} />\r\n          )}\r\n          {/* Rutas Publicas para todos los usuarios */}\r\n          <Route exact path=\"/home\" component={PrincipalPage} />\r\n          <Route exact path=\"/home/agendas\" component={CalendarioAgendas} />\r\n          <Route exact path=\"/home/calendar\" component={CalendarioPortada} />\r\n          <Route exact path=\"/home/calendario\" component={CalendarioScreen} />\r\n          <Route exact path=\"/home/caracteristicas\" component={CaracteristicasScreen} />\r\n          <Route exact path=\"/home/caracteristicasgrupos\" component={CaracteristicasTiposScreen} />\r\n          <Route exact path=\"/home/clientes\" component={ClientesScreen} />\r\n          <Route exact path=\"/home/cliente\" component={ClienteScreen} />\r\n          <Route exact path=\"/home/clientesactivos\" component={ClientesActivosScreen} />\r\n          <Route exact path=\"/home/clientesinactivos\" component={ClientesInactivosScreen} />\r\n          <Route exact path=\"/home/clientesmapeo\" component={ClientesMapeoScreen} />\r\n          <Route exact path=\"/home/eventos\" component={CalendarioEventos} />\r\n          <Route exact path=\"/home/geo\" component={GeoScreen} />\r\n          <Route exact path=\"/home/inventario\" component={InventarioScreen} />\r\n          <Route exact path=\"/home/inventarioadd\" component={InventarioAddScreen} />\r\n          <Route exact path=\"/home/inventariosaldos\" component={InventarioSaldosScreen} />\r\n          <Route exact path=\"/home/inventariotransacciones\" component={InventarioTransaccionesScreen} />\r\n          <Route exact path=\"/home/inventariotransaccion\" component={InventarioTransaccionScreen} />\r\n          <Route exact path=\"/home/param\" component={ParamsScreen} />\r\n          <Route exact path=\"/home/rutas\" component={RutasScreen} />\r\n          <Route exact path=\"/home/rutasmax\" component={MaximizeReportBI} />\r\n          <Route exact path=\"/home/rutasconsulta\" component={RutasConsulta} />\r\n          <Route exact path=\"/home/user/perfil\" component={PerfilPage} />\r\n          <Route exact path=\"/home/usuarios\" component={UsuariosScreen} />\r\n          <Route exact path=\"/home/usuariosadd\" component={UsuariosAddScreen} />\r\n          <Route exact path=\"/home/vade\" component={VadeScreen} />\r\n          <Route exact path=\"/home/vademecum\" component={VademecumScreen} />\r\n          <Route exact path=\"/home/vademecumall\" component={VademecumAllScreen} />\r\n          <Route exact path=\"/home/visitas\" component={VisitasScreen} />\r\n          <Route exact path=\"/home/visita\" component={VisitaScreen} />\r\n          <Route exact path=\"/home/visitashistorico\" component={VisitasHistoricoScreen} />\r\n          <Redirect to=\"/home\" />\r\n        </Switch>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\n\r\n","import { Redirect, Route } from \"react-router-dom\";\r\n\r\nexport const PublicRouter = ({\r\n  isAuthenticated,\r\n  component: Component,\r\n  ...rest\r\n}: any) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      component={(props: any) =>\r\n        isAuthenticated !== 'authenticated' ? <Component {...props} /> : <Redirect to=\"/\" />\r\n      }\r\n    />\r\n  );\r\n};\r\n","import { Redirect, Route } from \"react-router-dom\";\r\n\r\nexport const PrivateRouter = ({\r\n  isAuthenticated,\r\n  component: Component,\r\n  ...rest\r\n}: any) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      component={(props: any) =>\r\n        isAuthenticated === 'authenticated' ? <Component {...props} /> : <Redirect to=\"/auth\" />\r\n      }\r\n    />\r\n  );\r\n};\r\n","import { useContext } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { LogoEmm } from \"../ui/atom/FormControls\";\r\nimport { Spiner } from \"../ui/atom/Spiner\";\r\n\r\nexport const UsuarioVerify = () => {\r\n  const { logOut } = useContext(AuthContext);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"absolute\",\r\n        // height: \"200px\",\r\n        // width: \"600px\",\r\n        left: \"50%\",\r\n        top: \"50%\",\r\n        marginTop: \"-200px\",\r\n        marginLeft: \"-300px\",\r\n      }}\r\n      className=\"img-thumbnail animate__animated animate__fadeInLeft\"\r\n    >\r\n      <div\r\n        className='alert alert-primary'\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          flexDirection: \"column\",\r\n          textAlign: \"center\",\r\n          backgroundColor : 'lightgray'\r\n          // height: \"200px\",\r\n          // width: \"600px\",          \r\n        }}\r\n      >\r\n        <hr />\r\n        <LogoEmm />\r\n        <Spiner />\r\n        <h4>Conectando al servidor y recuperando información</h4>\r\n        <hr />\r\n\r\n        <span>Espere por favor...!</span>\r\n        <hr />\r\n        <button onClick={logOut} className=\"btn btn-outline-danger mb-4\">\r\n          Cerrar Sesión...!\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { useContext, useEffect } from \"react\";\r\nimport { BrowserRouter as Router, Switch, Redirect } from \"react-router-dom\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { AuthRouter } from \"./AuthRouter\";\r\nimport { DashboardRoutes } from \"./DashboardRoutes\";\r\n\r\nimport { PublicRouter } from \"./PublicRouter\";\r\nimport { PrivateRouter } from \"./PrivateRouter\";\r\nimport \"../css/login-register.css\";\r\n\r\nimport { UsuarioVerify } from \"../components/miselaneos/UsuarioVerify\";\r\nimport { MessagesContext } from \"../context/MessagesContext\";\r\nimport { errorSimpleFire, exitoFireOK } from \"../components/ui/messagesUI\";\r\nimport { AppContext } from \"../context/AppContext\";\r\n\r\nexport const AppRouter = () => {\r\n  const { status } = useContext(AuthContext);\r\n  const { state } = useContext(AppContext);\r\n  const { notificationMessage, prugaNotification } = useContext(MessagesContext);\r\n\r\n  useEffect(() => {\r\n    if (notificationMessage.length > 0) {\r\n      switch (notificationMessage[0].type) {\r\n        case \"error\":\r\n          errorSimpleFire(notificationMessage[0].msg)\r\n          break;\r\n        case \"success\":\r\n          // exitoFire(notificationMessage[0].msg, 5000)\r\n          exitoFireOK(notificationMessage[0].msg)\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n      prugaNotification()\r\n    }\r\n  }, [notificationMessage, prugaNotification])\r\n\r\n  //TODO: Crear una pantalla de loading\r\n\r\n  if (status === 'checking') return <UsuarioVerify />\r\n  if (status === 'loading-authenticated') return <UsuarioVerify />\r\n\r\n  return (\r\n    <Router >\r\n      <div>\r\n        <Switch>\r\n          <PublicRouter\r\n            path=\"/auth\"\r\n            component={AuthRouter}\r\n            isAuthenticated={status}\r\n          />\r\n          <PrivateRouter\r\n            path=\"/home\"\r\n            component={DashboardRoutes}\r\n            isAuthenticated={status}\r\n          />\r\n          <Redirect to=\"/home\" />\r\n        </Switch>\r\n      </div>\r\n\r\n    </Router>\r\n  );\r\n};\r\n","import moment from \"moment\";\nimport \"./css/globalStyles.css\"\nimport \"./css/buttons.css\"\nimport { AppProvider } from \"./context/AppContext\";\nimport { AuthProvider } from \"./context/AuthContext\";\nimport { CalendarProvider } from \"./context/CalendarContext\";\nimport { ClienteProvider } from \"./context/ClienteContext\";\nimport { InventarioProvider } from \"./context/InventarioContext\";\nimport { MasterDataProvider } from \"./context/MasterDataContext\";\nimport { MessagesProvider } from \"./context/MessagesContext\";\nimport { ProductoProvider } from \"./context/ProductoContext\";\nimport { SocketProvider } from \"./context/SocketContext\";\nimport { VisitaProvider } from \"./context/VisitaContext\";\nimport { AppRouter } from \"./router/AppRouter\";\n\nmoment.locale('es');\nmoment.updateLocale('es', {\n  months: 'Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre'.split('_'),\n  monthsShort: 'Ene._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.'.split('_'),\n  weekdays: 'Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado'.split('_'),\n  weekdaysShort: 'Dom._Lun._Mar._Mier._Jue._Vier._Sab.'.split('_'),\n  weekdaysMin: 'Do_Lu_Ma_Mi_Ju_Vi_Sa'.split('_')\n}\n);\n\n\nexport const App = () => {\n  return (\n    <StateApp>\n      <AppRouter />\n    </StateApp>\n\n  );\n}\n\nconst StateApp = ({ children }: any) => {\n  return (\n    <MessagesProvider>\n      <AppProvider>\n        <AuthProvider>\n          <SocketProvider>\n            <CalendarProvider>\n              <MasterDataProvider>\n                <ClienteProvider>\n                  <VisitaProvider>\n                    <ProductoProvider>\n                      <InventarioProvider>\n                        {children}\n                      </InventarioProvider>\n                    </ProductoProvider>\n                  </VisitaProvider>\n                </ClienteProvider>\n              </MasterDataProvider>\n            </CalendarProvider>\n          </SocketProvider>\n        </AuthProvider>\n      </AppProvider>\n    </MessagesProvider>\n  )\n}","import ReactDOM from 'react-dom';\nimport { App } from './App';\nimport \"./css/tooltip.css\";\n\nReactDOM.render(\n\n  <App />,\n\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}